(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function jA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var up={exports:{}},cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function YC(){if(R0)return cu;R0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return cu.Fragment=t,cu.jsx=n,cu.jsxs=n,cu}var I0;function XC(){return I0||(I0=1,up.exports=YC()),up.exports}var pt=XC(),cp={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function $C(){if(C0)return It;C0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function B(M,et,at){this.props=M,this.context=et,this.refs=U,this.updater=at||C}B.prototype.isReactComponent={},B.prototype.setState=function(M,et){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,et,"setState")},B.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=B.prototype;function $(M,et,at){this.props=M,this.context=et,this.refs=U,this.updater=at||C}var Q=$.prototype=new K;Q.constructor=$,N(Q,B.prototype),Q.isPureReactComponent=!0;var ot=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function O(M,et,at,st,gt,Dt){return at=Dt.ref,{$$typeof:e,type:M,key:et,ref:at!==void 0?at:null,props:Dt}}function w(M,et){return O(M.type,et,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function P(M){var et={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(at){return et[at]})}var x=/\/+/g;function L(M,et){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):et.toString(36)}function D(){}function _e(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(et){M.status==="pending"&&(M.status="fulfilled",M.value=et)},function(et){M.status==="pending"&&(M.status="rejected",M.reason=et)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ae(M,et,at,st,gt){var Dt=typeof M;(Dt==="undefined"||Dt==="boolean")&&(M=null);var bt=!1;if(M===null)bt=!0;else switch(Dt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(M.$$typeof){case e:case t:bt=!0;break;case v:return bt=M._init,ae(bt(M._payload),et,at,st,gt)}}if(bt)return gt=gt(M),bt=st===""?"."+L(M,0):st,ot(gt)?(at="",bt!=null&&(at=bt.replace(x,"$&/")+"/"),ae(gt,et,at,"",function(ui){return ui})):gt!=null&&(R(gt)&&(gt=w(gt,at+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(x,"$&/")+"/")+bt)),et.push(gt)),1;bt=0;var Ne=st===""?".":st+":";if(ot(M))for(var Jt=0;Jt<M.length;Jt++)st=M[Jt],Dt=Ne+L(st,Jt),bt+=ae(st,et,at,Dt,gt);else if(Jt=S(M),typeof Jt=="function")for(M=Jt.call(M),Jt=0;!(st=M.next()).done;)st=st.value,Dt=Ne+L(st,Jt++),bt+=ae(st,et,at,Dt,gt);else if(Dt==="object"){if(typeof M.then=="function")return ae(_e(M),et,at,st,gt);throw et=String(M),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return bt}function Y(M,et,at){if(M==null)return M;var st=[],gt=0;return ae(M,st,"","",function(Dt){return et.call(at,Dt,gt++)}),st}function it(M){if(M._status===-1){var et=M._result;et=et(),et.then(function(at){(M._status===0||M._status===-1)&&(M._status=1,M._result=at)},function(at){(M._status===0||M._status===-1)&&(M._status=2,M._result=at)}),M._status===-1&&(M._status=0,M._result=et)}if(M._status===1)return M._result.default;throw M._result}var ct=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function kt(){}return It.Children={map:Y,forEach:function(M,et,at){Y(M,function(){et.apply(this,arguments)},at)},count:function(M){var et=0;return Y(M,function(){et++}),et},toArray:function(M){return Y(M,function(et){return et})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},It.Component=B,It.Fragment=n,It.Profiler=a,It.PureComponent=$,It.StrictMode=s,It.Suspense=m,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,It.__COMPILER_RUNTIME={__proto__:null,c:function(M){return nt.H.useMemoCache(M)}},It.cache=function(M){return function(){return M.apply(null,arguments)}},It.cloneElement=function(M,et,at){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=N({},M.props),gt=M.key,Dt=void 0;if(et!=null)for(bt in et.ref!==void 0&&(Dt=void 0),et.key!==void 0&&(gt=""+et.key),et)!ft.call(et,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&et.ref===void 0||(st[bt]=et[bt]);var bt=arguments.length-2;if(bt===1)st.children=at;else if(1<bt){for(var Ne=Array(bt),Jt=0;Jt<bt;Jt++)Ne[Jt]=arguments[Jt+2];st.children=Ne}return O(M.type,gt,void 0,void 0,Dt,st)},It.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},It.createElement=function(M,et,at){var st,gt={},Dt=null;if(et!=null)for(st in et.key!==void 0&&(Dt=""+et.key),et)ft.call(et,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=et[st]);var bt=arguments.length-2;if(bt===1)gt.children=at;else if(1<bt){for(var Ne=Array(bt),Jt=0;Jt<bt;Jt++)Ne[Jt]=arguments[Jt+2];gt.children=Ne}if(M&&M.defaultProps)for(st in bt=M.defaultProps,bt)gt[st]===void 0&&(gt[st]=bt[st]);return O(M,Dt,void 0,void 0,null,gt)},It.createRef=function(){return{current:null}},It.forwardRef=function(M){return{$$typeof:d,render:M}},It.isValidElement=R,It.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:it}},It.memo=function(M,et){return{$$typeof:g,type:M,compare:et===void 0?null:et}},It.startTransition=function(M){var et=nt.T,at={};nt.T=at;try{var st=M(),gt=nt.S;gt!==null&&gt(at,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(kt,ct)}catch(Dt){ct(Dt)}finally{nt.T=et}},It.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},It.use=function(M){return nt.H.use(M)},It.useActionState=function(M,et,at){return nt.H.useActionState(M,et,at)},It.useCallback=function(M,et){return nt.H.useCallback(M,et)},It.useContext=function(M){return nt.H.useContext(M)},It.useDebugValue=function(){},It.useDeferredValue=function(M,et){return nt.H.useDeferredValue(M,et)},It.useEffect=function(M,et,at){var st=nt.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(M,et)},It.useId=function(){return nt.H.useId()},It.useImperativeHandle=function(M,et,at){return nt.H.useImperativeHandle(M,et,at)},It.useInsertionEffect=function(M,et){return nt.H.useInsertionEffect(M,et)},It.useLayoutEffect=function(M,et){return nt.H.useLayoutEffect(M,et)},It.useMemo=function(M,et){return nt.H.useMemo(M,et)},It.useOptimistic=function(M,et){return nt.H.useOptimistic(M,et)},It.useReducer=function(M,et,at){return nt.H.useReducer(M,et,at)},It.useRef=function(M){return nt.H.useRef(M)},It.useState=function(M){return nt.H.useState(M)},It.useSyncExternalStore=function(M,et,at){return nt.H.useSyncExternalStore(M,et,at)},It.useTransition=function(){return nt.H.useTransition()},It.version="19.1.0",It}var D0;function Fg(){return D0||(D0=1,cp.exports=$C()),cp.exports}var ut=Fg();const WC=jA(ut);var hp={exports:{}},hu={},fp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function ZC(){return O0||(O0=1,function(e){function t(Y,it){var ct=Y.length;Y.push(it);t:for(;0<ct;){var kt=ct-1>>>1,M=Y[kt];if(0<a(M,it))Y[kt]=it,Y[ct]=M,ct=kt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var it=Y[0],ct=Y.pop();if(ct!==it){Y[0]=ct;t:for(var kt=0,M=Y.length,et=M>>>1;kt<et;){var at=2*(kt+1)-1,st=Y[at],gt=at+1,Dt=Y[gt];if(0>a(st,ct))gt<M&&0>a(Dt,st)?(Y[kt]=Dt,Y[gt]=ct,kt=gt):(Y[kt]=st,Y[at]=ct,kt=at);else if(gt<M&&0>a(Dt,ct))Y[kt]=Dt,Y[gt]=ct,kt=gt;else break t}}return it}function a(Y,it){var ct=Y.sortIndex-it.sortIndex;return ct!==0?ct:Y.id-it.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,E=null,S=3,C=!1,N=!1,U=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ot(Y){for(var it=n(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=Y)s(g),it.sortIndex=it.expirationTime,t(m,it);else break;it=n(g)}}function nt(Y){if(U=!1,ot(Y),!N)if(n(m)!==null)N=!0,ft||(ft=!0,L());else{var it=n(g);it!==null&&ae(nt,it.startTime-Y)}}var ft=!1,O=-1,w=5,R=-1;function P(){return B?!0:!(e.unstable_now()-R<w)}function x(){if(B=!1,ft){var Y=e.unstable_now();R=Y;var it=!0;try{t:{N=!1,U&&(U=!1,$(O),O=-1),C=!0;var ct=S;try{e:{for(ot(Y),E=n(m);E!==null&&!(E.expirationTime>Y&&P());){var kt=E.callback;if(typeof kt=="function"){E.callback=null,S=E.priorityLevel;var M=kt(E.expirationTime<=Y);if(Y=e.unstable_now(),typeof M=="function"){E.callback=M,ot(Y),it=!0;break e}E===n(m)&&s(m),ot(Y)}else s(m);E=n(m)}if(E!==null)it=!0;else{var et=n(g);et!==null&&ae(nt,et.startTime-Y),it=!1}}break t}finally{E=null,S=ct,C=!1}it=void 0}}finally{it?L():ft=!1}}}var L;if(typeof Q=="function")L=function(){Q(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,_e=D.port2;D.port1.onmessage=x,L=function(){_e.postMessage(null)}}else L=function(){K(x,0)};function ae(Y,it){O=K(function(){Y(e.unstable_now())},it)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var it=3;break;default:it=S}var ct=S;S=it;try{return Y()}finally{S=ct}},e.unstable_requestPaint=function(){B=!0},e.unstable_runWithPriority=function(Y,it){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ct=S;S=Y;try{return it()}finally{S=ct}},e.unstable_scheduleCallback=function(Y,it,ct){var kt=e.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?kt+ct:kt):ct=kt,Y){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ct+M,Y={id:v++,callback:it,priorityLevel:Y,startTime:ct,expirationTime:M,sortIndex:-1},ct>kt?(Y.sortIndex=ct,t(g,Y),n(m)===null&&Y===n(g)&&(U?($(O),O=-1):U=!0,ae(nt,ct-kt))):(Y.sortIndex=M,t(m,Y),N||C||(N=!0,ft||(ft=!0,L()))),Y},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(Y){var it=S;return function(){var ct=S;S=it;try{return Y.apply(this,arguments)}finally{S=ct}}}}(dp)),dp}var M0;function JC(){return M0||(M0=1,fp.exports=ZC()),fp.exports}var mp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function tD(){if(P0)return tn;P0=1;var e=Fg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,v)},tn.flushSync=function(m){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=v,s.d.f()}},tn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},tn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},tn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:C}):v==="script"&&s.d.X(m,{crossOrigin:E,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},tn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},tn.requestFormReset=function(m){s.d.r(m)},tn.unstable_batchedUpdates=function(m,g){return m(g)},tn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var V0;function eD(){if(V0)return mp.exports;V0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mp.exports=tD(),mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function nD(){if(x0)return hu;x0=1;var e=JC(),t=Fg(),n=eD();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),i;if(p===u)return d(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var T=!1,A=f.child;A;){if(A===o){T=!0,o=f,u=p;break}if(A===u){T=!0,u=f,o=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===o){T=!0,o=p,u=f;break}if(A===u){T=!0,u=p,o=f;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=x&&i[x]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case nt:return"Suspense";case ft:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case Q:return(i.displayName||"Context")+".Provider";case $:return(i._context.displayName||"Context")+".Consumer";case ot:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return r=i.displayName||null,r!==null?r:_e(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return _e(i(r))}catch{}}return null}var ae=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},kt=[],M=-1;function et(i){return{current:i}}function at(i){0>M||(i.current=kt[M],kt[M]=null,M--)}function st(i,r){M++,kt[M]=i.current,i.current=r}var gt=et(null),Dt=et(null),bt=et(null),Ne=et(null);function Jt(i,r){switch(st(bt,r),st(Dt,i),st(gt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?t0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=t0(r),i=e0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}at(gt),st(gt,i)}function ui(){at(gt),at(Dt),at(bt)}function Es(i){i.memoizedState!==null&&st(Ne,i);var r=gt.current,o=e0(r,i.type);r!==o&&(st(Dt,i),st(gt,o))}function Bi(i){Dt.current===i&&(at(gt),at(Dt)),Ne.current===i&&(at(Ne),ru._currentValue=ct)}var Tr=Object.prototype.hasOwnProperty,Er=e.unstable_scheduleCallback,Sr=e.unstable_cancelCallback,nl=e.unstable_shouldYield,hc=e.unstable_requestPaint,On=e.unstable_now,ud=e.unstable_getCurrentPriorityLevel,il=e.unstable_ImmediatePriority,Ia=e.unstable_UserBlockingPriority,Ar=e.unstable_NormalPriority,cd=e.unstable_LowPriority,Ca=e.unstable_IdlePriority,sl=e.log,fc=e.unstable_setDisableYieldValue,ce=null,Gt=null;function Tn(i){if(typeof sl=="function"&&fc(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ce,i)}catch{}}var Ze=Math.clz32?Math.clz32:br,dc=Math.log,hd=Math.LN2;function br(i){return i>>>=0,i===0?32:31-(dc(i)/hd|0)|0}var wr=256,Rr=4194304;function $n(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Da(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?f=$n(u):(T&=A,T!==0?f=$n(T):o||(o=A&~i,o!==0&&(f=$n(o))))):(A=u&~p,A!==0?f=$n(A):T!==0?f=$n(T):o||(o=u&~i,o!==0&&(f=$n(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function Ir(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function rl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var i=wr;return wr<<=1,(wr&4194048)===0&&(wr=256),i}function ol(){var i=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),i}function ji(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function zi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ll(i,r,o,u,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,I=i.expirationTimes,F=i.hiddenUpdates;for(o=T&~o;0<o;){var X=31-Ze(o),Z=1<<X;A[X]=0,I[X]=-1;var q=F[X];if(q!==null)for(F[X]=null,X=0;X<q.length;X++){var H=q[X];H!==null&&(H.lane&=-536870913)}o&=~Z}u!==0&&ci(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function ci(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ze(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function ul(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ze(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function Ss(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function As(){var i=it.p;return i!==0?i:(i=window.event,i===void 0?32:T0(i.type))}function mc(i,r){var o=it.p;try{return it.p=i,r()}finally{it.p=o}}var ie=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ie,Te="__reactProps$"+ie,Mn="__reactContainer$"+ie,cl="__reactEvents$"+ie,fd="__reactListeners$"+ie,bs="__reactHandles$"+ie,pc="__reactResources$"+ie,Cr="__reactMarker$"+ie;function ws(i){delete i[Ie],delete i[Te],delete i[cl],delete i[fd],delete i[bs]}function Fi(i){var r=i[Ie];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Mn]||o[Ie]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=r0(i);i!==null;){if(o=i[Ie])return o;i=r0(i)}return r}i=o,o=i.parentNode}return null}function hi(i){if(i=i[Ie]||i[Mn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function fi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ln(i){var r=i[pc];return r||(r=i[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function me(i){i[Cr]=!0}var hl=new Set,Ma={};function Wn(i,r){qi(i,r),qi(i+"Capture",r)}function qi(i,r){for(Ma[i]=r,i=0;i<r.length;i++)hl.add(r[i])}var gc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yc={},Dr={};function vc(i){return Tr.call(Dr,i)?!0:Tr.call(yc,i)?!1:gc.test(i)?Dr[i]=!0:(yc[i]=!0,!1)}function Rs(i,r,o){if(vc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function di(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Fe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Or,_c;function Hi(i){if(Or===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Or=r&&r[1]||"",_c=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Or+i+_c}var Pa=!1;function Va(i,r){if(!i||Pa)return"";Pa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(i,[],Z)}else{try{Z.call()}catch(H){q=H}i.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=i())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var I=T.split(`
`),F=A.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===F.length)for(u=I.length-1,f=F.length-1;1<=u&&0<=f&&I[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==F[f]){var X=`
`+I[u].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=u&&0<=f);break}}}finally{Pa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Hi(o):""}function fl(i){switch(i.tag){case 26:case 27:case 5:return Hi(i.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Va(i.type,!1);case 11:return Va(i.type.render,!1);case 1:return Va(i.type,!0);case 31:return Hi("Activity");default:return""}}function xa(i){try{var r="";do r+=fl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function dl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dd(i){var r=dl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Na(i){i._valueTracker||(i._valueTracker=dd(i))}function ml(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=dl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Mr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var md=/[\n"\\]/g;function Ee(i){return i.replace(md,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function En(i,r,o,u,f,p,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+un(r)):i.value!==""+un(r)&&(i.value=""+un(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Is(i,T,un(r)):o!=null?Is(i,T,un(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+un(A):i.removeAttribute("name")}function Pr(i,r,o,u,f,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+un(o):"",r=r!=null?""+un(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function Is(i,r,o){r==="number"&&Mr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Gi(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+un(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Yt(i,r,o){if(r!=null&&(r=""+un(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+un(o):""}function Vr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ae(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=un(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Pn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||xr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function pl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Tc(i,f,u)}else for(var p in r)r.hasOwnProperty(p)&&Tc(i,p,r[p])}function gl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(i){return gd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ki=null;function Vn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qi=null,Yi=null;function yl(i){var r=hi(i);if(r&&(i=r.stateNode)){var o=i[Te]||null;t:switch(i=r.stateNode,r.type){case"input":if(En(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ee(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Te]||null;if(!f)throw Error(s(90));En(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ml(u)}break t;case"textarea":Yt(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Gi(i,!!o.multiple,r,!1)}}}var mi=!1;function Ec(i,r,o){if(mi)return i(r,o);mi=!0;try{var u=i(r);return u}finally{if(mi=!1,(Qi!==null||Yi!==null)&&(mh(),Qi&&(r=Qi,i=Yi,Yi=Qi=null,yl(r),i)))for(r=0;r<i.length;r++)yl(i[r])}}function Nr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Te]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Zn)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){xn=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{xn=!1}var pi=null,Cs=null,Xi=null;function vl(){if(Xi)return Xi;var i,r=Cs,o=r.length,u,f="value"in pi?pi.value:pi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[p-u];u++);return Xi=f.slice(i,1<u?1-u:void 0)}function gi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function yi(){return!0}function _l(){return!1}function ke(i){function r(o,u,f,p,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?yi:_l,this.isPropagationStopped=_l,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),r}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=ke(qt),Lr=v({},qt,{view:0,detail:0}),Sc=ke(Lr),Ua,Ba,vi,Ur=v({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vi&&(vi&&i.type==="mousemove"?(Ua=i.screenX-vi.screenX,Ba=i.screenY-vi.screenY):Ba=Ua=0,vi=i),Ua)},movementY:function(i){return"movementY"in i?i.movementY:Ba}}),Nn=ke(Ur),Ac=v({},Ur,{dataTransfer:0}),yd=ke(Ac),Br=v({},Lr,{relatedTarget:0}),ja=ke(Br),Tl=v({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),za=ke(Tl),bc=v({},qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Fa=ke(bc),vd=v({},qt,{data:0}),El=ke(vd),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Rc[i])?!!r[i]:!1}function zr(){return Sl}var Ic=v({},Lr,{key:function(i){if(i.key){var r=jr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=gi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?wc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(i){return i.type==="keypress"?gi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?gi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qa=ke(Ic),Cc=v({},Ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=ke(Cc),$i=v({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),Dc=ke($i),Oc=v({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mc=ke(Oc),Pc=v({},Ur,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=ke(Pc),cn=v({},qt,{newState:0,oldState:0}),Vc=ke(cn),xc=[9,13,27,32],_i=Zn&&"CompositionEvent"in window,h=null;Zn&&"documentMode"in document&&(h=document.documentMode);var y=Zn&&"TextEvent"in window&&!h,_=Zn&&(!_i||h&&8<h&&11>=h),b=" ",j=!1;function G(i,r){switch(i){case"keyup":return xc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lt=!1;function Ce(i,r){switch(i){case"compositionend":return rt(r);case"keypress":return r.which!==32?null:(j=!0,b);case"textInput":return i=r.data,i===b&&j?null:i;default:return null}}function Ut(i,r){if(Lt)return i==="compositionend"||!_i&&G(i,r)?(i=vl(),Xi=Cs=pi=null,Lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Le[i.type]:r==="textarea"}function Wi(i,r,o,u){Qi?Yi?Yi.push(u):Yi=[u]:Qi=u,r=Th(r,"onChange"),0<r.length&&(o=new La("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var qe=null,Ti=null;function bl(i){XT(i,0)}function Nc(i){var r=fi(i);if(ml(r))return i}function gv(i,r){if(i==="change")return r}var yv=!1;if(Zn){var _d;if(Zn){var Td="oninput"in document;if(!Td){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),Td=typeof vv.oninput=="function"}_d=Td}else _d=!1;yv=_d&&(!document.documentMode||9<document.documentMode)}function _v(){qe&&(qe.detachEvent("onpropertychange",Tv),Ti=qe=null)}function Tv(i){if(i.propertyName==="value"&&Nc(Ti)){var r=[];Wi(r,Ti,i,Vn(i)),Ec(bl,r)}}function bI(i,r,o){i==="focusin"?(_v(),qe=r,Ti=o,qe.attachEvent("onpropertychange",Tv)):i==="focusout"&&_v()}function wI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nc(Ti)}function RI(i,r){if(i==="click")return Nc(r)}function II(i,r){if(i==="input"||i==="change")return Nc(r)}function CI(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Sn=typeof Object.is=="function"?Object.is:CI;function wl(i,r){if(Sn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Tr.call(r,f)||!Sn(i[f],r[f]))return!1}return!0}function Ev(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sv(i,r){var o=Ev(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Ev(o)}}function Av(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Av(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function bv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Mr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Mr(i.document)}return r}function Ed(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var DI=Zn&&"documentMode"in document&&11>=document.documentMode,Ga=null,Sd=null,Rl=null,Ad=!1;function wv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ad||Ga==null||Ga!==Mr(u)||(u=Ga,"selectionStart"in u&&Ed(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rl&&wl(Rl,u)||(Rl=u,u=Th(Sd,"onSelect"),0<u.length&&(r=new La("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Ga)))}function Fr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ka={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},bd={},Rv={};Zn&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function qr(i){if(bd[i])return bd[i];if(!Ka[i])return i;var r=Ka[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Rv)return bd[i]=r[o];return i}var Iv=qr("animationend"),Cv=qr("animationiteration"),Dv=qr("animationstart"),OI=qr("transitionrun"),MI=qr("transitionstart"),PI=qr("transitioncancel"),Ov=qr("transitionend"),Mv=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function Jn(i,r){Mv.set(i,r),Wn(r,[i])}var Pv=new WeakMap;function kn(i,r){if(typeof i=="object"&&i!==null){var o=Pv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:xa(r)},Pv.set(i,r),r)}return{value:i,source:r,stack:xa(r)}}var Ln=[],Qa=0,Rd=0;function kc(){for(var i=Qa,r=Rd=Qa=0;r<i;){var o=Ln[r];Ln[r++]=null;var u=Ln[r];Ln[r++]=null;var f=Ln[r];Ln[r++]=null;var p=Ln[r];if(Ln[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}p!==0&&Vv(o,f,p)}}function Lc(i,r,o,u){Ln[Qa++]=i,Ln[Qa++]=r,Ln[Qa++]=o,Ln[Qa++]=u,Rd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Id(i,r,o,u){return Lc(i,r,o,u),Uc(i)}function Ya(i,r){return Lc(i,null,null,r),Uc(i)}function Vv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-Ze(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function Uc(i){if(50<Wl)throw Wl=0,Vm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Xa={};function VI(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,r,o,u){return new VI(i,r,o,u)}function Cd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zi(i,r){var o=i.alternate;return o===null?(o=An(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function xv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Bc(i,r,o,u,f,p){var T=0;if(u=i,typeof i=="function")Cd(i)&&(T=1);else if(typeof i=="string")T=NC(i,o,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=An(31,o,r,f),i.elementType=R,i.lanes=p,i;case N:return Hr(o.children,f,p,r);case U:T=8,f|=24;break;case B:return i=An(12,o,r,f|2),i.elementType=B,i.lanes=p,i;case nt:return i=An(13,o,r,f),i.elementType=nt,i.lanes=p,i;case ft:return i=An(19,o,r,f),i.elementType=ft,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:case Q:T=10;break t;case $:T=9;break t;case ot:T=11;break t;case O:T=14;break t;case w:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=An(T,o,r,f),r.elementType=i,r.type=u,r.lanes=p,r}function Hr(i,r,o,u){return i=An(7,i,u,r),i.lanes=o,i}function Dd(i,r,o){return i=An(6,i,null,r),i.lanes=o,i}function Od(i,r,o){return r=An(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var $a=[],Wa=0,jc=null,zc=0,Un=[],Bn=0,Gr=null,Ji=1,ts="";function Kr(i,r){$a[Wa++]=zc,$a[Wa++]=jc,jc=i,zc=r}function Nv(i,r,o){Un[Bn++]=Ji,Un[Bn++]=ts,Un[Bn++]=Gr,Gr=i;var u=Ji;i=ts;var f=32-Ze(u)-1;u&=~(1<<f),o+=1;var p=32-Ze(r)+f;if(30<p){var T=f-f%5;p=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Ji=1<<32-Ze(r)+f|o<<f|u,ts=p+i}else Ji=1<<p|o<<f|u,ts=i}function Md(i){i.return!==null&&(Kr(i,1),Nv(i,1,0))}function Pd(i){for(;i===jc;)jc=$a[--Wa],$a[Wa]=null,zc=$a[--Wa],$a[Wa]=null;for(;i===Gr;)Gr=Un[--Bn],Un[Bn]=null,ts=Un[--Bn],Un[Bn]=null,Ji=Un[--Bn],Un[Bn]=null}var hn=null,he=null,Ft=!1,Qr=null,Ei=!1,Vd=Error(s(519));function Yr(i){var r=Error(s(418,""));throw Dl(kn(r,i)),Vd}function kv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ie]=i,r[Te]=u,o){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(o=0;o<Jl.length;o++)Pt(Jl[o],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Pr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Na(r);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),Vr(r,u.value,u.defaultValue,u.children),Na(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||JT(r.textContent,o)?(u.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),u.onScroll!=null&&Pt("scroll",r),u.onScrollEnd!=null&&Pt("scrollend",r),u.onClick!=null&&(r.onclick=Eh),r=!0):r=!1,r||Yr(i)}function Lv(i){for(hn=i.return;hn;)switch(hn.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:hn=hn.return}}function Il(i){if(i!==hn)return!1;if(!Ft)return Lv(i),Ft=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Xm(i.type,i.memoizedProps)),o=!o),o&&he&&Yr(i),Lv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){he=ei(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}he=null}}else r===27?(r=he,Hs(i.type)?(i=Jm,Jm=null,he=i):he=r):he=hn?ei(i.stateNode.nextSibling):null;return!0}function Cl(){he=hn=null,Ft=!1}function Uv(){var i=Qr;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),Qr=null),i}function Dl(i){Qr===null?Qr=[i]:Qr.push(i)}var xd=et(null),Xr=null,es=null;function Ds(i,r,o){st(xd,r._currentValue),r._currentValue=o}function ns(i){i._currentValue=xd.current,at(xd)}function Nd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function kd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=f;for(var I=0;I<r.length;I++)if(A.context===r[I]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),Nd(p.return,o,i),u||(T=null);break t}p=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),Nd(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ol(i,r,o,u){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=f.type;Sn(f.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(f===Ne.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(ru):i=[ru])}f=f.return}i!==null&&kd(r,i,o,u),r.flags|=262144}function Fc(i){for(i=i.firstContext;i!==null;){if(!Sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function $r(i){Xr=i,es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return Bv(Xr,i)}function qc(i,r){return Xr===null&&$r(i),Bv(i,r)}function Bv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},es===null){if(i===null)throw Error(s(308));es=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else es=es.next=r;return o}var xI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},NI=e.unstable_scheduleCallback,kI=e.unstable_NormalPriority,Oe={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new xI,data:new Map,refCount:0}}function Ml(i){i.refCount--,i.refCount===0&&NI(kI,function(){i.controller.abort()})}var Pl=null,Ud=0,Za=0,Ja=null;function LI(i,r){if(Pl===null){var o=Pl=[];Ud=0,Za=jm(),Ja={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ud++,r.then(jv,jv),r}function jv(){if(--Ud===0&&Pl!==null){Ja!==null&&(Ja.status="fulfilled");var i=Pl;Pl=null,Za=0,Ja=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function UI(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var zv=Y.S;Y.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&LI(i,r),zv!==null&&zv(i,r)};var Wr=et(null);function Bd(){var i=Wr.current;return i!==null?i:te.pooledCache}function Hc(i,r){r===null?st(Wr,Wr.current):st(Wr,r.pool)}function Fv(){var i=Bd();return i===null?null:{parent:Oe._currentValue,pool:i}}var Vl=Error(s(460)),qv=Error(s(474)),Gc=Error(s(542)),jd={then:function(){}};function Hv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Kc(){}function Gv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Kc,Kc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Qv(i),i;default:if(typeof r.status=="string")r.then(Kc,Kc);else{if(i=te,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Qv(i),i}throw xl=r,Vl}}var xl=null;function Kv(){if(xl===null)throw Error(s(459));var i=xl;return xl=null,i}function Qv(i){if(i===Vl||i===Gc)throw Error(s(483))}var Os=!1;function zd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ms(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ps(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Uc(i),Vv(i,null,o),r}return Lc(i,u,r,o),Uc(i)}function Nl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ul(i,o)}}function qd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Hd=!1;function kl(){if(Hd){var i=Ja;if(i!==null)throw i}}function Ll(i,r,o,u){Hd=!1;var f=i.updateQueue;Os=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var I=A,F=I.next;I.next=null,T===null?p=F:T.next=F,T=I;var X=i.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==T&&(A===null?X.firstBaseUpdate=F:A.next=F,X.lastBaseUpdate=I))}if(p!==null){var Z=f.baseState;T=0,X=F=I=null,A=p;do{var q=A.lane&-536870913,H=q!==A.lane;if(H?(Bt&q)===q:(u&q)===q){q!==0&&q===Za&&(Hd=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var St=i,vt=A;q=r;var Wt=o;switch(vt.tag){case 1:if(St=vt.payload,typeof St=="function"){Z=St.call(Wt,Z,q);break t}Z=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=vt.payload,q=typeof St=="function"?St.call(Wt,Z,q):St,q==null)break t;Z=v({},Z,q);break t;case 2:Os=!0}}q=A.callback,q!==null&&(i.flags|=64,H&&(i.flags|=8192),H=f.callbacks,H===null?f.callbacks=[q]:H.push(q))}else H={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(F=X=H,I=Z):X=X.next=H,T|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;H=A,A=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);X===null&&(I=Z),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=X,p===null&&(f.shared.lanes=0),js|=T,i.lanes=T,i.memoizedState=Z}}function Yv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Xv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Yv(o[i],r)}var to=et(null),Qc=et(0);function $v(i,r){i=us,st(Qc,i),st(to,r),us=i|r.baseLanes}function Gd(){st(Qc,us),st(to,to.current)}function Kd(){us=Qc.current,at(to),at(Qc)}var Vs=0,Ct=null,Xt=null,Se=null,Yc=!1,eo=!1,Zr=!1,Xc=0,Ul=0,no=null,BI=0;function pe(){throw Error(s(321))}function Qd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Sn(i[o],r[o]))return!1;return!0}function Yd(i,r,o,u,f,p){return Vs=p,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?V_:x_,Zr=!1,p=o(u,f),Zr=!1,eo&&(p=Zv(r,o,u,f)),Wv(i),p}function Wv(i){Y.H=eh;var r=Xt!==null&&Xt.next!==null;if(Vs=0,Se=Xt=Ct=null,Yc=!1,Ul=0,no=null,r)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&Fc(i)&&(Ue=!0))}function Zv(i,r,o,u){Ct=i;var f=0;do{if(eo&&(no=null),Ul=0,eo=!1,25<=f)throw Error(s(301));if(f+=1,Se=Xt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=KI,p=r(o,u)}while(eo);return p}function jI(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?Bl(r):r,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(Ct.flags|=1024),r}function Xd(){var i=Xc!==0;return Xc=0,i}function $d(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Wd(i){if(Yc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Yc=!1}Vs=0,Se=Xt=Ct=null,eo=!1,Ul=Xc=0,no=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=i:Se=Se.next=i,Se}function Ae(){if(Xt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var r=Se===null?Ct.memoizedState:Se.next;if(r!==null)Se=r,Xt=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?Ct.memoizedState=Se=i:Se=Se.next=i}return Se}function Zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(i){var r=Ul;return Ul+=1,no===null&&(no=[]),i=Gv(no,i,r),r=Ct,(Se===null?r.memoizedState:Se.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?V_:x_),i}function $c(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bl(i);if(i.$$typeof===Q)return Je(i)}throw Error(s(438,String(i)))}function Jd(i){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Zd(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function is(i,r){return typeof r=="function"?r(i):r}function Wc(i){var r=Ae();return tm(r,Xt,i)}function tm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var A=T=null,I=null,F=r,X=!1;do{var Z=F.lane&-536870913;if(Z!==F.lane?(Bt&Z)===Z:(Vs&Z)===Z){var q=F.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),Z===Za&&(X=!0);else if((Vs&q)===q){F=F.next,q===Za&&(X=!0);continue}else Z={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(A=I=Z,T=p):I=I.next=Z,Ct.lanes|=q,js|=q;Z=F.action,Zr&&o(p,Z),p=F.hasEagerState?F.eagerState:o(p,Z)}else q={lane:Z,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(A=I=q,T=p):I=I.next=q,Ct.lanes|=Z,js|=Z;F=F.next}while(F!==null&&F!==r);if(I===null?T=p:I.next=A,!Sn(p,i.memoizedState)&&(Ue=!0,X&&(o=Ja,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=I,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function em(i){var r=Ae(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);Sn(p,r.memoizedState)||(Ue=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Jv(i,r,o){var u=Ct,f=Ae(),p=Ft;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Sn((Xt||f).memoizedState,o);T&&(f.memoizedState=o,Ue=!0),f=f.queue;var A=n_.bind(null,u,f,i);if(jl(2048,8,A,[i]),f.getSnapshot!==r||T||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,io(9,Zc(),e_.bind(null,u,f,o,r),null),te===null)throw Error(s(349));p||(Vs&124)!==0||t_(u,r,o)}return o}function t_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=Zd(),Ct.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function e_(i,r,o,u){r.value=o,r.getSnapshot=u,i_(r)&&s_(i)}function n_(i,r,o){return o(function(){i_(r)&&s_(i)})}function i_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Sn(i,o)}catch{return!0}}function s_(i){var r=Ya(i,2);r!==null&&Cn(r,i,2)}function nm(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),Zr){Tn(!0);try{o()}finally{Tn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:i},r}function r_(i,r,o,u){return i.baseState=o,tm(i,Xt,typeof u=="function"?u:is)}function zI(i,r,o,u,f){if(th(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};Y.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,a_(r,p)):(p.next=o.next,r.pending=o.next=p)}}function a_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var p=Y.T,T={};Y.T=T;try{var A=o(f,u),I=Y.S;I!==null&&I(T,A),o_(i,r,A)}catch(F){im(i,r,F)}finally{Y.T=p}}else try{p=o(f,u),o_(i,r,p)}catch(F){im(i,r,F)}}function o_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){l_(i,r,u)},function(u){return im(i,r,u)}):l_(i,r,o)}function l_(i,r,o){r.status="fulfilled",r.value=o,u_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,a_(i,o)))}function im(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,u_(r),r=r.next;while(r!==u)}i.action=null}function u_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function c_(i,r){return r}function h_(i,r){if(Ft){var o=te.formState;if(o!==null){t:{var u=Ct;if(Ft){if(he){e:{for(var f=he,p=Ei;f.nodeType!==8;){if(!p){f=null;break e}if(f=ei(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){he=ei(f.nextSibling),u=f.data==="F!";break t}}Yr(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c_,lastRenderedState:r},o.queue=u,o=O_.bind(null,Ct,u),u.dispatch=o,u=nm(!1),p=lm.bind(null,Ct,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=zI.bind(null,Ct,f,p,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function f_(i){var r=Ae();return d_(r,Xt,i)}function d_(i,r,o){if(r=tm(i,r,c_)[0],i=Wc(is)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Bl(r)}catch(T){throw T===Vl?Gc:T}else u=r;r=Ae();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,io(9,Zc(),FI.bind(null,f,o),null)),[u,p,i]}function FI(i,r){i.action=r}function m_(i){var r=Ae(),o=Xt;if(o!==null)return d_(r,o,i);Ae(),r=r.memoizedState,o=Ae();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function io(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=Zd(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Zc(){return{destroy:void 0,resource:void 0}}function p_(){return Ae().memoizedState}function Jc(i,r,o,u){var f=dn();u=u===void 0?null:u,Ct.flags|=i,f.memoizedState=io(1|r,Zc(),o,u)}function jl(i,r,o,u){var f=Ae();u=u===void 0?null:u;var p=f.memoizedState.inst;Xt!==null&&u!==null&&Qd(u,Xt.memoizedState.deps)?f.memoizedState=io(r,p,o,u):(Ct.flags|=i,f.memoizedState=io(1|r,p,o,u))}function g_(i,r){Jc(8390656,8,i,r)}function y_(i,r){jl(2048,8,i,r)}function v_(i,r){return jl(4,2,i,r)}function __(i,r){return jl(4,4,i,r)}function T_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function E_(i,r,o){o=o!=null?o.concat([i]):null,jl(4,4,T_.bind(null,r,i),o)}function sm(){}function S_(i,r){var o=Ae();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Qd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function A_(i,r){var o=Ae();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Qd(r,u[1]))return u[0];if(u=i(),Zr){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,r],u}function rm(i,r,o){return o===void 0||(Vs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=RT(),Ct.lanes|=i,js|=i,o)}function b_(i,r,o,u){return Sn(o,r)?o:to.current!==null?(i=rm(i,o,u),Sn(i,r)||(Ue=!0),i):(Vs&42)===0?(Ue=!0,i.memoizedState=o):(i=RT(),Ct.lanes|=i,js|=i,r)}function w_(i,r,o,u,f){var p=it.p;it.p=p!==0&&8>p?p:8;var T=Y.T,A={};Y.T=A,lm(i,!1,r,o);try{var I=f(),F=Y.S;if(F!==null&&F(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=UI(I,u);zl(i,r,X,In(i))}else zl(i,r,u,In(i))}catch(Z){zl(i,r,{then:function(){},status:"rejected",reason:Z},In())}finally{it.p=p,Y.T=T}}function qI(){}function am(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=R_(i).queue;w_(i,f,r,ct,o===null?qI:function(){return I_(i),o(u)})}function R_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ct},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function I_(i){var r=R_(i).next.queue;zl(i,r,{},In())}function om(){return Je(ru)}function C_(){return Ae().memoizedState}function D_(){return Ae().memoizedState}function HI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=In();i=Ms(o);var u=Ps(r,i,o);u!==null&&(Cn(u,r,o),Nl(u,r,o)),r={cache:Ld()},i.payload=r;return}r=r.return}}function GI(i,r,o){var u=In();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},th(i)?M_(r,o):(o=Id(i,r,o,u),o!==null&&(Cn(o,i,u),P_(o,r,u)))}function O_(i,r,o){var u=In();zl(i,r,o,u)}function zl(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(th(i))M_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,A=p(T,o);if(f.hasEagerState=!0,f.eagerState=A,Sn(A,T))return Lc(i,r,f,0),te===null&&kc(),!1}catch{}finally{}if(o=Id(i,r,f,u),o!==null)return Cn(o,i,u),P_(o,r,u),!0}return!1}function lm(i,r,o,u){if(u={lane:2,revertLane:jm(),action:u,hasEagerState:!1,eagerState:null,next:null},th(i)){if(r)throw Error(s(479))}else r=Id(i,o,u,2),r!==null&&Cn(r,i,2)}function th(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function M_(i,r){eo=Yc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function P_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ul(i,o)}}var eh={readContext:Je,use:$c,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},V_={readContext:Je,use:$c,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Je,useEffect:g_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Jc(4194308,4,T_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Jc(4194308,4,i,r)},useInsertionEffect:function(i,r){Jc(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(Zr){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var f=o(r);if(Zr){Tn(!0);try{o(r)}finally{Tn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=GI.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=nm(i);var r=i.queue,o=O_.bind(null,Ct,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:sm,useDeferredValue:function(i,r){var o=dn();return rm(o,i,r)},useTransition:function(){var i=nm(!1);return i=w_.bind(null,Ct,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ct,f=dn();if(Ft){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),te===null)throw Error(s(349));(Bt&124)!==0||t_(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,g_(n_.bind(null,u,p,i),[i]),u.flags|=2048,io(9,Zc(),e_.bind(null,u,p,o,r),null),o},useId:function(){var i=dn(),r=te.identifierPrefix;if(Ft){var o=ts,u=Ji;o=(u&~(1<<32-Ze(u)-1)).toString(32)+o,r=""+r+"R"+o,o=Xc++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=BI++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:om,useFormState:h_,useActionState:h_,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=lm.bind(null,Ct,!0,o),o.dispatch=r,[i,r]},useMemoCache:Jd,useCacheRefresh:function(){return dn().memoizedState=HI.bind(null,Ct)}},x_={readContext:Je,use:$c,useCallback:S_,useContext:Je,useEffect:y_,useImperativeHandle:E_,useInsertionEffect:v_,useLayoutEffect:__,useMemo:A_,useReducer:Wc,useRef:p_,useState:function(){return Wc(is)},useDebugValue:sm,useDeferredValue:function(i,r){var o=Ae();return b_(o,Xt.memoizedState,i,r)},useTransition:function(){var i=Wc(is)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:Bl(i),r]},useSyncExternalStore:Jv,useId:C_,useHostTransitionStatus:om,useFormState:f_,useActionState:f_,useOptimistic:function(i,r){var o=Ae();return r_(o,Xt,i,r)},useMemoCache:Jd,useCacheRefresh:D_},KI={readContext:Je,use:$c,useCallback:S_,useContext:Je,useEffect:y_,useImperativeHandle:E_,useInsertionEffect:v_,useLayoutEffect:__,useMemo:A_,useReducer:em,useRef:p_,useState:function(){return em(is)},useDebugValue:sm,useDeferredValue:function(i,r){var o=Ae();return Xt===null?rm(o,i,r):b_(o,Xt.memoizedState,i,r)},useTransition:function(){var i=em(is)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:Bl(i),r]},useSyncExternalStore:Jv,useId:C_,useHostTransitionStatus:om,useFormState:m_,useActionState:m_,useOptimistic:function(i,r){var o=Ae();return Xt!==null?r_(o,Xt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:D_},so=null,Fl=0;function nh(i){var r=Fl;return Fl+=1,so===null&&(so=[]),Gv(so,i,r)}function ql(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ih(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function N_(i){var r=i._init;return r(i._payload)}function k_(i){function r(k,V){if(i){var z=k.deletions;z===null?(k.deletions=[V],k.flags|=16):z.push(V)}}function o(k,V){if(!i)return null;for(;V!==null;)r(k,V),V=V.sibling;return null}function u(k){for(var V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function f(k,V){return k=Zi(k,V),k.index=0,k.sibling=null,k}function p(k,V,z){return k.index=z,i?(z=k.alternate,z!==null?(z=z.index,z<V?(k.flags|=67108866,V):z):(k.flags|=67108866,V)):(k.flags|=1048576,V)}function T(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function A(k,V,z,W){return V===null||V.tag!==6?(V=Dd(z,k.mode,W),V.return=k,V):(V=f(V,z),V.return=k,V)}function I(k,V,z,W){var ht=z.type;return ht===N?X(k,V,z.props.children,W,z.key):V!==null&&(V.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&N_(ht)===V.type)?(V=f(V,z.props),ql(V,z),V.return=k,V):(V=Bc(z.type,z.key,z.props,null,k.mode,W),ql(V,z),V.return=k,V)}function F(k,V,z,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Od(z,k.mode,W),V.return=k,V):(V=f(V,z.children||[]),V.return=k,V)}function X(k,V,z,W,ht){return V===null||V.tag!==7?(V=Hr(z,k.mode,W,ht),V.return=k,V):(V=f(V,z),V.return=k,V)}function Z(k,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Dd(""+V,k.mode,z),V.return=k,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return z=Bc(V.type,V.key,V.props,null,k.mode,z),ql(z,V),z.return=k,z;case C:return V=Od(V,k.mode,z),V.return=k,V;case w:var W=V._init;return V=W(V._payload),Z(k,V,z)}if(ae(V)||L(V))return V=Hr(V,k.mode,z,null),V.return=k,V;if(typeof V.then=="function")return Z(k,nh(V),z);if(V.$$typeof===Q)return Z(k,qc(k,V),z);ih(k,V)}return null}function q(k,V,z,W){var ht=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ht!==null?null:A(k,V,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===ht?I(k,V,z,W):null;case C:return z.key===ht?F(k,V,z,W):null;case w:return ht=z._init,z=ht(z._payload),q(k,V,z,W)}if(ae(z)||L(z))return ht!==null?null:X(k,V,z,W,null);if(typeof z.then=="function")return q(k,V,nh(z),W);if(z.$$typeof===Q)return q(k,V,qc(k,z),W);ih(k,z)}return null}function H(k,V,z,W,ht){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(z)||null,A(V,k,""+W,ht);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return k=k.get(W.key===null?z:W.key)||null,I(V,k,W,ht);case C:return k=k.get(W.key===null?z:W.key)||null,F(V,k,W,ht);case w:var Ot=W._init;return W=Ot(W._payload),H(k,V,z,W,ht)}if(ae(W)||L(W))return k=k.get(z)||null,X(V,k,W,ht,null);if(typeof W.then=="function")return H(k,V,z,nh(W),ht);if(W.$$typeof===Q)return H(k,V,z,qc(V,W),ht);ih(V,W)}return null}function St(k,V,z,W){for(var ht=null,Ot=null,mt=V,_t=V=0,je=null;mt!==null&&_t<z.length;_t++){mt.index>_t?(je=mt,mt=null):je=mt.sibling;var zt=q(k,mt,z[_t],W);if(zt===null){mt===null&&(mt=je);break}i&&mt&&zt.alternate===null&&r(k,mt),V=p(zt,V,_t),Ot===null?ht=zt:Ot.sibling=zt,Ot=zt,mt=je}if(_t===z.length)return o(k,mt),Ft&&Kr(k,_t),ht;if(mt===null){for(;_t<z.length;_t++)mt=Z(k,z[_t],W),mt!==null&&(V=p(mt,V,_t),Ot===null?ht=mt:Ot.sibling=mt,Ot=mt);return Ft&&Kr(k,_t),ht}for(mt=u(mt);_t<z.length;_t++)je=H(mt,k,_t,z[_t],W),je!==null&&(i&&je.alternate!==null&&mt.delete(je.key===null?_t:je.key),V=p(je,V,_t),Ot===null?ht=je:Ot.sibling=je,Ot=je);return i&&mt.forEach(function(Xs){return r(k,Xs)}),Ft&&Kr(k,_t),ht}function vt(k,V,z,W){if(z==null)throw Error(s(151));for(var ht=null,Ot=null,mt=V,_t=V=0,je=null,zt=z.next();mt!==null&&!zt.done;_t++,zt=z.next()){mt.index>_t?(je=mt,mt=null):je=mt.sibling;var Xs=q(k,mt,zt.value,W);if(Xs===null){mt===null&&(mt=je);break}i&&mt&&Xs.alternate===null&&r(k,mt),V=p(Xs,V,_t),Ot===null?ht=Xs:Ot.sibling=Xs,Ot=Xs,mt=je}if(zt.done)return o(k,mt),Ft&&Kr(k,_t),ht;if(mt===null){for(;!zt.done;_t++,zt=z.next())zt=Z(k,zt.value,W),zt!==null&&(V=p(zt,V,_t),Ot===null?ht=zt:Ot.sibling=zt,Ot=zt);return Ft&&Kr(k,_t),ht}for(mt=u(mt);!zt.done;_t++,zt=z.next())zt=H(mt,k,_t,zt.value,W),zt!==null&&(i&&zt.alternate!==null&&mt.delete(zt.key===null?_t:zt.key),V=p(zt,V,_t),Ot===null?ht=zt:Ot.sibling=zt,Ot=zt);return i&&mt.forEach(function(QC){return r(k,QC)}),Ft&&Kr(k,_t),ht}function Wt(k,V,z,W){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:t:{for(var ht=z.key;V!==null;){if(V.key===ht){if(ht=z.type,ht===N){if(V.tag===7){o(k,V.sibling),W=f(V,z.props.children),W.return=k,k=W;break t}}else if(V.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&N_(ht)===V.type){o(k,V.sibling),W=f(V,z.props),ql(W,z),W.return=k,k=W;break t}o(k,V);break}else r(k,V);V=V.sibling}z.type===N?(W=Hr(z.props.children,k.mode,W,z.key),W.return=k,k=W):(W=Bc(z.type,z.key,z.props,null,k.mode,W),ql(W,z),W.return=k,k=W)}return T(k);case C:t:{for(ht=z.key;V!==null;){if(V.key===ht)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){o(k,V.sibling),W=f(V,z.children||[]),W.return=k,k=W;break t}else{o(k,V);break}else r(k,V);V=V.sibling}W=Od(z,k.mode,W),W.return=k,k=W}return T(k);case w:return ht=z._init,z=ht(z._payload),Wt(k,V,z,W)}if(ae(z))return St(k,V,z,W);if(L(z)){if(ht=L(z),typeof ht!="function")throw Error(s(150));return z=ht.call(z),vt(k,V,z,W)}if(typeof z.then=="function")return Wt(k,V,nh(z),W);if(z.$$typeof===Q)return Wt(k,V,qc(k,z),W);ih(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(o(k,V.sibling),W=f(V,z),W.return=k,k=W):(o(k,V),W=Dd(z,k.mode,W),W.return=k,k=W),T(k)):o(k,V)}return function(k,V,z,W){try{Fl=0;var ht=Wt(k,V,z,W);return so=null,ht}catch(mt){if(mt===Vl||mt===Gc)throw mt;var Ot=An(29,mt,null,k.mode);return Ot.lanes=W,Ot.return=k,Ot}finally{}}}var ro=k_(!0),L_=k_(!1),jn=et(null),Si=null;function xs(i){var r=i.alternate;st(Me,Me.current&1),st(jn,i),Si===null&&(r===null||to.current!==null||r.memoizedState!==null)&&(Si=i)}function U_(i){if(i.tag===22){if(st(Me,Me.current),st(jn,i),Si===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Si=i)}}else Ns()}function Ns(){st(Me,Me.current),st(jn,jn.current)}function ss(i){at(jn),Si===i&&(Si=null),at(Me)}var Me=et(0);function sh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Zm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function um(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var cm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=In(),f=Ms(u);f.payload=r,o!=null&&(f.callback=o),r=Ps(i,f,u),r!==null&&(Cn(r,i,u),Nl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=In(),f=Ms(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ps(i,f,u),r!==null&&(Cn(r,i,u),Nl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=In(),u=Ms(o);u.tag=2,r!=null&&(u.callback=r),r=Ps(i,u,o),r!==null&&(Cn(r,i,o),Nl(r,i,o))}};function B_(i,r,o,u,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,T):r.prototype&&r.prototype.isPureReactComponent?!wl(o,u)||!wl(f,p):!0}function j_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&cm.enqueueReplaceState(r,r.state,null)}function Jr(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var rh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function z_(i){rh(i)}function F_(i){console.error(i)}function q_(i){rh(i)}function ah(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function H_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hm(i,r,o){return o=Ms(o),o.tag=3,o.payload={element:null},o.callback=function(){ah(i,r)},o}function G_(i){return i=Ms(i),i.tag=3,i}function K_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){H_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){H_(r,o,u),typeof f!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function QI(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ol(r,o,f,!0),o=jn.current,o!==null){switch(o.tag){case 13:return Si===null?Nm():o.alternate===null&&fe===0&&(fe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===jd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Lm(i,u,f)),!1;case 22:return o.flags|=65536,u===jd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Lm(i,u,f)),!1}throw Error(s(435,o.tag))}return Lm(i,u,f),Nm(),!1}if(Ft)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Vd&&(i=Error(s(422),{cause:u}),Dl(kn(i,o)))):(u!==Vd&&(r=Error(s(423),{cause:u}),Dl(kn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=kn(u,o),f=hm(i.stateNode,u,f),qd(i,f),fe!==4&&(fe=2)),!1;var p=Error(s(520),{cause:u});if(p=kn(p,o),$l===null?$l=[p]:$l.push(p),fe!==4&&(fe=2),r===null)return!0;u=kn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=hm(o.stateNode,u,i),qd(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zs===null||!zs.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=G_(f),K_(f,i,o,u),qd(o,f),!1}o=o.return}while(o!==null);return!1}var Q_=Error(s(461)),Ue=!1;function He(i,r,o,u){r.child=i===null?L_(r,null,o,u):ro(r,i.child,o,u)}function Y_(i,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return $r(r),u=Yd(i,r,o,T,p,f),A=Xd(),i!==null&&!Ue?($d(i,r,f),rs(i,r,f)):(Ft&&A&&Md(r),r.flags|=1,He(i,r,u,f),r.child)}function X_(i,r,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!Cd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,$_(i,r,p,u,f)):(i=Bc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!_m(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:wl,o(T,u)&&i.ref===r.ref)return rs(i,r,f)}return r.flags|=1,i=Zi(p,u),i.ref=r.ref,i.return=r,r.child=i}function $_(i,r,o,u,f){if(i!==null){var p=i.memoizedProps;if(wl(p,u)&&i.ref===r.ref)if(Ue=!1,r.pendingProps=u=p,_m(i,f))(i.flags&131072)!==0&&(Ue=!0);else return r.lanes=i.lanes,rs(i,r,f)}return fm(i,r,o,u,f)}function W_(i,r,o){var u=r.pendingProps,f=u.children,p=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return Z_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hc(r,p!==null?p.cachePool:null),p!==null?$v(r,p):Gd(),U_(r);else return r.lanes=r.childLanes=536870912,Z_(i,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(Hc(r,p.cachePool),$v(r,p),Ns(),r.memoizedState=null):(i!==null&&Hc(r,null),Gd(),Ns());return He(i,r,f,o),r.child}function Z_(i,r,o,u){var f=Bd();return f=f===null?null:{parent:Oe._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&Hc(r,null),Gd(),U_(r),i!==null&&Ol(i,r,u,!0),null}function oh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function fm(i,r,o,u,f){return $r(r),o=Yd(i,r,o,u,void 0,f),u=Xd(),i!==null&&!Ue?($d(i,r,f),rs(i,r,f)):(Ft&&u&&Md(r),r.flags|=1,He(i,r,o,f),r.child)}function J_(i,r,o,u,f,p){return $r(r),r.updateQueue=null,o=Zv(r,u,o,f),Wv(i),u=Xd(),i!==null&&!Ue?($d(i,r,p),rs(i,r,p)):(Ft&&u&&Md(r),r.flags|=1,He(i,r,o,p),r.child)}function tT(i,r,o,u,f){if($r(r),r.stateNode===null){var p=Xa,T=o.contextType;typeof T=="object"&&T!==null&&(p=Je(T)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=cm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},zd(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?Je(T):Xa,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(um(r,o,T,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&cm.enqueueReplaceState(p,p.state,null),Ll(r,u,p,f),kl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var A=r.memoizedProps,I=Jr(o,A);p.props=I;var F=p.context,X=o.contextType;T=Xa,typeof X=="object"&&X!==null&&(T=Je(X));var Z=o.getDerivedStateFromProps;X=typeof Z=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||F!==T)&&j_(r,p,u,T),Os=!1;var q=r.memoizedState;p.state=q,Ll(r,u,p,f),kl(),F=r.memoizedState,A||q!==F||Os?(typeof Z=="function"&&(um(r,o,Z,u),F=r.memoizedState),(I=Os||B_(r,o,I,u,q,F,T))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),p.props=u,p.state=F,p.context=T,u=I):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Fd(i,r),T=r.memoizedProps,X=Jr(o,T),p.props=X,Z=r.pendingProps,q=p.context,F=o.contextType,I=Xa,typeof F=="object"&&F!==null&&(I=Je(F)),A=o.getDerivedStateFromProps,(F=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==Z||q!==I)&&j_(r,p,u,I),Os=!1,q=r.memoizedState,p.state=q,Ll(r,u,p,f),kl();var H=r.memoizedState;T!==Z||q!==H||Os||i!==null&&i.dependencies!==null&&Fc(i.dependencies)?(typeof A=="function"&&(um(r,o,A,u),H=r.memoizedState),(X=Os||B_(r,o,X,u,q,H,I)||i!==null&&i.dependencies!==null&&Fc(i.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,H,I),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,H,I)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=H),p.props=u,p.state=H,p.context=I,u=X):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,oh(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=ro(r,i.child,null,f),r.child=ro(r,null,o,f)):He(i,r,o,f),r.memoizedState=p.state,i=r.child):i=rs(i,r,f),i}function eT(i,r,o,u){return Cl(),r.flags|=256,He(i,r,o,u),r.child}var dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(i){return{baseLanes:i,cachePool:Fv()}}function pm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=zn),i}function nT(i,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Me.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ft){if(f?xs(r):Ns(),Ft){var A=he,I;if(I=A){t:{for(I=A,A=Ei;I.nodeType!==8;){if(!A){A=null;break t}if(I=ei(I.nextSibling),I===null){A=null;break t}}A=I}A!==null?(r.memoizedState={dehydrated:A,treeContext:Gr!==null?{id:Ji,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},I=An(18,null,null,0),I.stateNode=A,I.return=r,r.child=I,hn=r,he=null,I=!0):I=!1}I||Yr(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Zm(A)?r.lanes=32:r.lanes=536870912,null;ss(r)}return A=u.children,u=u.fallback,f?(Ns(),f=r.mode,A=lh({mode:"hidden",children:A},f),u=Hr(u,f,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,f=r.child,f.memoizedState=mm(o),f.childLanes=pm(i,T,o),r.memoizedState=dm,u):(xs(r),gm(r,A))}if(I=i.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(p)r.flags&256?(xs(r),r.flags&=-257,r=ym(i,r,o)):r.memoizedState!==null?(Ns(),r.child=i.child,r.flags|=128,r=null):(Ns(),f=u.fallback,A=r.mode,u=lh({mode:"visible",children:u.children},A),f=Hr(f,A,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,ro(r,i.child,null,o),u=r.child,u.memoizedState=mm(o),u.childLanes=pm(i,T,o),r.memoizedState=dm,r=f);else if(xs(r),Zm(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var F=T.dgst;T=F,u=Error(s(419)),u.stack="",u.digest=T,Dl({value:u,source:null,stack:null}),r=ym(i,r,o)}else if(Ue||Ol(i,r,o,!1),T=(o&i.childLanes)!==0,Ue||T){if(T=te,T!==null&&(u=o&-o,u=(u&42)!==0?1:Ss(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,Ya(i,u),Cn(T,i,u),Q_;A.data==="$?"||Nm(),r=ym(i,r,o)}else A.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=I.treeContext,he=ei(A.nextSibling),hn=r,Ft=!0,Qr=null,Ei=!1,i!==null&&(Un[Bn++]=Ji,Un[Bn++]=ts,Un[Bn++]=Gr,Ji=i.id,ts=i.overflow,Gr=r),r=gm(r,u.children),r.flags|=4096);return r}return f?(Ns(),f=u.fallback,A=r.mode,I=i.child,F=I.sibling,u=Zi(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,F!==null?f=Zi(F,f):(f=Hr(f,A,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,A=i.child.memoizedState,A===null?A=mm(o):(I=A.cachePool,I!==null?(F=Oe._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=Fv(),A={baseLanes:A.baseLanes|o,cachePool:I}),f.memoizedState=A,f.childLanes=pm(i,T,o),r.memoizedState=dm,u):(xs(r),o=i.child,i=o.sibling,o=Zi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function gm(i,r){return r=lh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function lh(i,r){return i=An(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ym(i,r,o){return ro(r,i.child,null,o),i=gm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function iT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Nd(i.return,r,o)}function vm(i,r,o,u,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function sT(i,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(He(i,r,u.children,o),u=Me.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&iT(i,o,r);else if(i.tag===19)iT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(st(Me,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&sh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),vm(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&sh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}vm(r,!0,o,null,p);break;case"together":vm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function rs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),js|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ol(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Zi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Zi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function _m(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Fc(i)))}function YI(i,r,o){switch(r.tag){case 3:Jt(r,r.stateNode.containerInfo),Ds(r,Oe,i.memoizedState.cache),Cl();break;case 27:case 5:Es(r);break;case 4:Jt(r,r.stateNode.containerInfo);break;case 10:Ds(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(xs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?nT(i,r,o):(xs(r),i=rs(i,r,o),i!==null?i.sibling:null);xs(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ol(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return sT(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(Me,Me.current),u)break;return null;case 22:case 23:return r.lanes=0,W_(i,r,o);case 24:Ds(r,Oe,i.memoizedState.cache)}return rs(i,r,o)}function rT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ue=!0;else{if(!_m(i,o)&&(r.flags&128)===0)return Ue=!1,YI(i,r,o);Ue=(i.flags&131072)!==0}else Ue=!1,Ft&&(r.flags&1048576)!==0&&Nv(r,zc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Cd(u)?(i=Jr(u,i),r.tag=1,r=tT(null,r,u,i,o)):(r.tag=0,r=fm(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===ot){r.tag=11,r=Y_(null,r,u,i,o);break t}else if(f===O){r.tag=14,r=X_(null,r,u,i,o);break t}}throw r=_e(u)||u,Error(s(306,r,""))}}return r;case 0:return fm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Jr(u,r.pendingProps),tT(i,r,u,f,o);case 3:t:{if(Jt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,Fd(i,r),Ll(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Ds(r,Oe,u),u!==p.cache&&kd(r,[Oe],o,!0),kl(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=eT(i,r,u,o);break t}else if(u!==f){f=kn(Error(s(424)),r),Dl(f),r=eT(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(he=ei(i.firstChild),hn=r,Ft=!0,Qr=null,Ei=!0,o=L_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Cl(),u===f){r=rs(i,r,o);break t}He(i,r,u,o)}r=r.child}return r;case 26:return oh(i,r),i===null?(o=u0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ft||(o=r.type,i=r.pendingProps,u=Sh(bt.current).createElement(o),u[Ie]=r,u[Te]=i,Ke(u,o,i),me(u),r.stateNode=u):r.memoizedState=u0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Es(r),i===null&&Ft&&(u=r.stateNode=a0(r.type,r.pendingProps,bt.current),hn=r,Ei=!0,f=he,Hs(r.type)?(Jm=f,he=ei(u.firstChild)):he=f),He(i,r,r.pendingProps.children,o),oh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ft&&((f=u=he)&&(u=SC(u,r.type,r.pendingProps,Ei),u!==null?(r.stateNode=u,hn=r,he=ei(u.firstChild),Ei=!1,f=!0):f=!1),f||Yr(r)),Es(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,u=p.children,Xm(f,p)?u=null:T!==null&&Xm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Yd(i,r,jI,null,null,o),ru._currentValue=f),oh(i,r),He(i,r,u,o),r.child;case 6:return i===null&&Ft&&((i=o=he)&&(o=AC(o,r.pendingProps,Ei),o!==null?(r.stateNode=o,hn=r,he=null,i=!0):i=!1),i||Yr(r)),null;case 13:return nT(i,r,o);case 4:return Jt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ro(r,null,u,o):He(i,r,u,o),r.child;case 11:return Y_(i,r,r.type,r.pendingProps,o);case 7:return He(i,r,r.pendingProps,o),r.child;case 8:return He(i,r,r.pendingProps.children,o),r.child;case 12:return He(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ds(r,r.type,u.value),He(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,$r(r),f=Je(f),u=u(f),r.flags|=1,He(i,r,u,o),r.child;case 14:return X_(i,r,r.type,r.pendingProps,o);case 15:return $_(i,r,r.type,r.pendingProps,o);case 19:return sT(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=lh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Zi(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return W_(i,r,o);case 24:return $r(r),u=Je(Oe),i===null?(f=Bd(),f===null&&(f=te,p=Ld(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},zd(r),Ds(r,Oe,f)):((i.lanes&o)!==0&&(Fd(i,r),Ll(r,null,null,o),kl()),f=i.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ds(r,Oe,u)):(u=p.cache,Ds(r,Oe,u),u!==f.cache&&kd(r,[Oe],o,!0))),He(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function as(i){i.flags|=4}function aT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!m0(r)){if(r=jn.current,r!==null&&((Bt&4194048)===Bt?Si!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||r!==Si))throw xl=jd,qv;i.flags|=8192}}function uh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ol():536870912,i.lanes|=r,uo|=r)}function Hl(i,r){if(!Ft)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function XI(i,r,o){var u=r.pendingProps;switch(Pd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ns(Oe),ui(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Il(r)?as(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Uv())),oe(r),null;case 26:return o=r.memoizedState,i===null?(as(r),o!==null?(oe(r),aT(r,o)):(oe(r),r.flags&=-16777217)):o?o!==i.memoizedState?(as(r),oe(r),aT(r,o)):(oe(r),r.flags&=-16777217):(i.memoizedProps!==u&&as(r),oe(r),r.flags&=-16777217),null;case 27:Bi(r),o=bt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&as(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=gt.current,Il(r)?kv(r):(i=a0(f,u,o),r.stateNode=i,as(r))}return oe(r),null;case 5:if(Bi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&as(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(i=gt.current,Il(r))kv(r);else{switch(f=Sh(bt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Ie]=r,i[Te]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ke(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&as(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&as(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=bt.current,Il(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=hn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ie]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||JT(i.nodeValue,o)),i||Yr(r)}else i=Sh(i).createTextNode(u),i[Ie]=r,r.stateNode=i}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Il(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ie]=r}else Cl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=Uv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ss(r),r):(ss(r),null)}if(ss(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),uh(r,r.updateQueue),oe(r),null;case 4:return ui(),i===null&&Hm(r.stateNode.containerInfo),oe(r),null;case 10:return ns(r.type),oe(r),null;case 19:if(at(Me),f=r.memoizedState,f===null)return oe(r),null;if(u=(r.flags&128)!==0,p=f.rendering,p===null)if(u)Hl(f,!1);else{if(fe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=sh(i),p!==null){for(r.flags|=128,Hl(f,!1),i=p.updateQueue,r.updateQueue=i,uh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)xv(o,i),o=o.sibling;return st(Me,Me.current&1|2),r.child}i=i.sibling}f.tail!==null&&On()>fh&&(r.flags|=128,u=!0,Hl(f,!1),r.lanes=4194304)}else{if(!u)if(i=sh(p),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,uh(r,i),Hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ft)return oe(r),null}else 2*On()-f.renderingStartTime>fh&&o!==536870912&&(r.flags|=128,u=!0,Hl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=On(),r.sibling=null,i=Me.current,st(Me,u?i&1|2:i&1),r):(oe(r),null);case 22:case 23:return ss(r),Kd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&uh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&at(Wr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ns(Oe),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function $I(i,r){switch(Pd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ns(Oe),ui(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Bi(r),null;case 13:if(ss(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Cl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return at(Me),null;case 4:return ui(),null;case 10:return ns(r.type),null;case 22:case 23:return ss(r),Kd(),i!==null&&at(Wr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ns(Oe),null;case 25:return null;default:return null}}function oT(i,r){switch(Pd(r),r.tag){case 3:ns(Oe),ui();break;case 26:case 27:case 5:Bi(r);break;case 4:ui();break;case 13:ss(r);break;case 19:at(Me);break;case 10:ns(r.type);break;case 22:case 23:ss(r),Kd(),i!==null&&at(Wr);break;case 24:ns(Oe)}}function Gl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==f)}}catch(A){Zt(r,r.return,A)}}function ks(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=r;var I=o,F=A;try{F()}catch(X){Zt(f,I,X)}}}u=u.next}while(u!==p)}}catch(X){Zt(r,r.return,X)}}function lT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Xv(r,o)}catch(u){Zt(i,i.return,u)}}}function uT(i,r,o){o.props=Jr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,r,u)}}function Kl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Zt(i,r,f)}}function Ai(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Zt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Zt(i,r,f)}else o.current=null}function cT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Zt(i,i.return,f)}}function Tm(i,r,o){try{var u=i.stateNode;yC(u,i.type,o,r),u[Te]=r}catch(f){Zt(i,i.return,f)}}function hT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hs(i.type)||i.tag===4}function Em(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||hT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Eh));else if(u!==4&&(u===27&&Hs(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Sm(i,r,o),i=i.sibling;i!==null;)Sm(i,r,o),i=i.sibling}function ch(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Hs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ch(i,r,o),i=i.sibling;i!==null;)ch(i,r,o),i=i.sibling}function fT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ke(r,u,o),r[Ie]=i,r[Te]=o}catch(p){Zt(i,i.return,p)}}var os=!1,ge=!1,Am=!1,dT=typeof WeakSet=="function"?WeakSet:Set,Be=null;function WI(i,r){if(i=i.containerInfo,Qm=Ch,i=bv(i),Ed(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,A=-1,I=-1,F=0,X=0,Z=i,q=null;e:for(;;){for(var H;Z!==o||f!==0&&Z.nodeType!==3||(A=T+f),Z!==p||u!==0&&Z.nodeType!==3||(I=T+u),Z.nodeType===3&&(T+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===i)break e;if(q===o&&++F===f&&(A=T),q===p&&++X===u&&(I=T),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}o=A===-1||I===-1?null:{start:A,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ym={focusedElem:i,selectionRange:o},Ch=!1,Be=r;Be!==null;)if(r=Be,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Be=i;else for(;Be!==null;){switch(r=Be,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var St=Jr(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(St,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Zt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Wm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Be=i;break}Be=r.return}}function mT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ls(i,o),u&4&&Gl(5,o);break;case 1:if(Ls(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Zt(o,o.return,T)}else{var f=Jr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(o,o.return,T)}}u&64&&lT(o),u&512&&Kl(o,o.return);break;case 3:if(Ls(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Xv(i,r)}catch(T){Zt(o,o.return,T)}}break;case 27:r===null&&u&4&&fT(o);case 26:case 5:Ls(i,o),r===null&&u&4&&cT(o),u&512&&Kl(o,o.return);break;case 12:Ls(i,o);break;case 13:Ls(i,o),u&4&&yT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=aC.bind(null,o),bC(i,o))));break;case 22:if(u=o.memoizedState!==null||os,!u){r=r!==null&&r.memoizedState!==null||ge,f=os;var p=ge;os=u,(ge=r)&&!p?Us(i,o,(o.subtreeFlags&8772)!==0):Ls(i,o),os=f,ge=p}break;case 30:break;default:Ls(i,o)}}function pT(i){var r=i.alternate;r!==null&&(i.alternate=null,pT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ws(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var se=null,mn=!1;function ls(i,r,o){for(o=o.child;o!==null;)gT(i,r,o),o=o.sibling}function gT(i,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ce,o)}catch{}switch(o.tag){case 26:ge||Ai(o,r),ls(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ge||Ai(o,r);var u=se,f=mn;Hs(o.type)&&(se=o.stateNode,mn=!1),ls(i,r,o),eu(o.stateNode),se=u,mn=f;break;case 5:ge||Ai(o,r);case 6:if(u=se,f=mn,se=null,ls(i,r,o),se=u,mn=f,se!==null)if(mn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(o.stateNode)}catch(p){Zt(o,r,p)}else try{se.removeChild(o.stateNode)}catch(p){Zt(o,r,p)}break;case 18:se!==null&&(mn?(i=se,s0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),uu(i)):s0(se,o.stateNode));break;case 4:u=se,f=mn,se=o.stateNode.containerInfo,mn=!0,ls(i,r,o),se=u,mn=f;break;case 0:case 11:case 14:case 15:ge||ks(2,o,r),ge||ks(4,o,r),ls(i,r,o);break;case 1:ge||(Ai(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&uT(o,r,u)),ls(i,r,o);break;case 21:ls(i,r,o);break;case 22:ge=(u=ge)||o.memoizedState!==null,ls(i,r,o),ge=u;break;default:ls(i,r,o)}}function yT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{uu(i)}catch(o){Zt(r,r.return,o)}}function ZI(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new dT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new dT),r;default:throw Error(s(435,i.tag))}}function bm(i,r){var o=ZI(i);r.forEach(function(u){var f=oC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function bn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,T=r,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(Hs(A.type)){se=A.stateNode,mn=!1;break t}break;case 5:se=A.stateNode,mn=!1;break t;case 3:case 4:se=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(se===null)throw Error(s(160));gT(p,T,f),se=null,mn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)vT(r,i),r=r.sibling}var ti=null;function vT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(r,i),wn(i),u&4&&(ks(3,i,i.return),Gl(3,i),ks(5,i,i.return));break;case 1:bn(r,i),wn(i),u&512&&(ge||o===null||Ai(o,o.return)),u&64&&os&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ti;if(bn(r,i),wn(i),u&512&&(ge||o===null||Ai(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Cr]||p[Ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Ke(p,u,o),p[Ie]=i,me(p),u=p;break t;case"link":var T=f0("link","href",f).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break e}}p=f.createElement(u),Ke(p,u,o),f.head.appendChild(p);break;case"meta":if(T=f0("meta","content",f).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break e}}p=f.createElement(u),Ke(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[Ie]=i,me(p),u=p}i.stateNode=u}else d0(f,i.type,i.stateNode);else i.stateNode=h0(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?d0(f,i.type,i.stateNode):h0(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Tm(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(r,i),wn(i),u&512&&(ge||o===null||Ai(o,o.return)),o!==null&&u&4&&Tm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(r,i),wn(i),u&512&&(ge||o===null||Ai(o,o.return)),i.flags&32){f=i.stateNode;try{Pn(f,"")}catch(H){Zt(i,i.return,H)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Tm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Am=!0);break;case 6:if(bn(r,i),wn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(H){Zt(i,i.return,H)}}break;case 3:if(wh=null,f=ti,ti=Ah(r.containerInfo),bn(r,i),ti=f,wn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{uu(r.containerInfo)}catch(H){Zt(i,i.return,H)}Am&&(Am=!1,_T(i));break;case 4:u=ti,ti=Ah(i.stateNode.containerInfo),bn(r,i),wn(i),ti=u;break;case 12:bn(r,i),wn(i);break;case 13:bn(r,i),wn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Om=On()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bm(i,u)));break;case 22:f=i.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,F=os,X=ge;if(os=F||f,ge=X||I,bn(r,i),ge=X,os=F,wn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||I||os||ge||ta(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){I=o=r;try{if(p=I.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=I.stateNode;var Z=I.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Zt(I,I.return,H)}}}else if(r.tag===6){if(o===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(H){Zt(I,I.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,bm(i,o))));break;case 19:bn(r,i),wn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bm(i,u)));break;case 30:break;case 21:break;default:bn(r,i),wn(i)}}function wn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(hT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Em(i);ch(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(Pn(T,""),o.flags&=-33);var A=Em(i);ch(i,A,T);break;case 3:case 4:var I=o.stateNode.containerInfo,F=Em(i);Sm(i,F,I);break;default:throw Error(s(161))}}catch(X){Zt(i,i.return,X)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function _T(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;_T(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ls(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)mT(i,r.alternate,r),r=r.sibling}function ta(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ks(4,r,r.return),ta(r);break;case 1:Ai(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&uT(r,r.return,o),ta(r);break;case 27:eu(r.stateNode);case 26:case 5:Ai(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}i=i.sibling}}function Us(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Us(f,p,o),Gl(4,p);break;case 1:if(Us(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Zt(u,u.return,F)}if(u=p,f=u.updateQueue,f!==null){var A=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Yv(I[f],A)}catch(F){Zt(u,u.return,F)}}o&&T&64&&lT(p),Kl(p,p.return);break;case 27:fT(p);case 26:case 5:Us(f,p,o),o&&u===null&&T&4&&cT(p),Kl(p,p.return);break;case 12:Us(f,p,o);break;case 13:Us(f,p,o),o&&T&4&&yT(f,p);break;case 22:p.memoizedState===null&&Us(f,p,o),Kl(p,p.return);break;case 30:break;default:Us(f,p,o)}r=r.sibling}}function wm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ml(o))}function Rm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ml(i))}function bi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)TT(i,r,o,u),r=r.sibling}function TT(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:bi(i,r,o,u),f&2048&&Gl(9,r);break;case 1:bi(i,r,o,u);break;case 3:bi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ml(i)));break;case 12:if(f&2048){bi(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){Zt(r,r.return,I)}}else bi(i,r,o,u);break;case 13:bi(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?bi(i,r,o,u):Ql(i,r):p._visibility&2?bi(i,r,o,u):(p._visibility|=2,ao(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&wm(T,r);break;case 24:bi(i,r,o,u),f&2048&&Rm(r.alternate,r);break;default:bi(i,r,o,u)}}function ao(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,T=r,A=o,I=u,F=T.flags;switch(T.tag){case 0:case 11:case 15:ao(p,T,A,I,f),Gl(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?ao(p,T,A,I,f):Ql(p,T):(X._visibility|=2,ao(p,T,A,I,f)),f&&F&2048&&wm(T.alternate,T);break;case 24:ao(p,T,A,I,f),f&&F&2048&&Rm(T.alternate,T);break;default:ao(p,T,A,I,f)}r=r.sibling}}function Ql(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Ql(o,u),f&2048&&wm(u.alternate,u);break;case 24:Ql(o,u),f&2048&&Rm(u.alternate,u);break;default:Ql(o,u)}r=r.sibling}}var Yl=8192;function oo(i){if(i.subtreeFlags&Yl)for(i=i.child;i!==null;)ET(i),i=i.sibling}function ET(i){switch(i.tag){case 26:oo(i),i.flags&Yl&&i.memoizedState!==null&&LC(ti,i.memoizedState,i.memoizedProps);break;case 5:oo(i);break;case 3:case 4:var r=ti;ti=Ah(i.stateNode.containerInfo),oo(i),ti=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Yl,Yl=16777216,oo(i),Yl=r):oo(i));break;default:oo(i)}}function ST(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Xl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Be=u,bT(u,i)}ST(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)AT(i),i=i.sibling}function AT(i){switch(i.tag){case 0:case 11:case 15:Xl(i),i.flags&2048&&ks(9,i,i.return);break;case 3:Xl(i);break;case 12:Xl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,hh(i)):Xl(i);break;default:Xl(i)}}function hh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Be=u,bT(u,i)}ST(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ks(8,r,r.return),hh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,hh(r));break;default:hh(r)}i=i.sibling}}function bT(i,r){for(;Be!==null;){var o=Be;switch(o.tag){case 0:case 11:case 15:ks(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ml(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Be=u;else t:for(o=i;Be!==null;){u=Be;var f=u.sibling,p=u.return;if(pT(u),u===o){Be=null;break t}if(f!==null){f.return=p,Be=f;break t}Be=p}}}var JI={getCacheForType:function(i){var r=Je(Oe),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},tC=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,Mt=null,Bt=0,Qt=0,Rn=null,Bs=!1,lo=!1,Im=!1,us=0,fe=0,js=0,ea=0,Cm=0,zn=0,uo=0,$l=null,pn=null,Dm=!1,Om=0,fh=1/0,dh=null,zs=null,Ge=0,Fs=null,co=null,ho=0,Mm=0,Pm=null,wT=null,Wl=0,Vm=null;function In(){if((Kt&2)!==0&&Bt!==0)return Bt&-Bt;if(Y.T!==null){var i=Za;return i!==0?i:jm()}return As()}function RT(){zn===0&&(zn=(Bt&536870912)===0||Ft?al():536870912);var i=jn.current;return i!==null&&(i.flags|=32),zn}function Cn(i,r,o){(i===te&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(fo(i,0),qs(i,Bt,zn,!1)),zi(i,o),((Kt&2)===0||i!==te)&&(i===te&&((Kt&2)===0&&(ea|=o),fe===4&&qs(i,Bt,zn,!1)),wi(i))}function IT(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Ir(i,r),f=u?iC(i,r):km(i,r,!0),p=u;do{if(f===0){lo&&!u&&qs(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!eC(o)){f=km(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var A=i;f=$l;var I=A.current.memoizedState.isDehydrated;if(I&&(fo(A,T).flags|=256),T=km(A,T,!1),T!==2){if(Im&&!I){A.errorRecoveryDisabledLanes|=p,ea|=p,f=4;break t}p=pn,pn=f,p!==null&&(pn===null?pn=p:pn.push.apply(pn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){fo(i,0),qs(i,r,0,!0);break}t:{switch(u=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:qs(u,r,zn,!Bs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Om+300-On(),10<f)){if(qs(u,r,zn,!Bs),Da(u,0,!0)!==0)break t;u.timeoutHandle=n0(CT.bind(null,u,o,pn,dh,Dm,r,zn,ea,uo,Bs,p,2,-0,0),f);break t}CT(u,o,pn,dh,Dm,r,zn,ea,uo,Bs,p,0,-0,0)}}break}while(!0);wi(i)}function CT(i,r,o,u,f,p,T,A,I,F,X,Z,q,H){if(i.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(su={stylesheets:null,count:0,unsuspend:kC},ET(r),Z=UC(),Z!==null)){i.cancelPendingCommit=Z(NT.bind(null,i,r,p,o,u,f,T,A,I,X,1,q,H)),qs(i,p,T,!F);return}NT(i,r,p,o,u,f,T,A,I)}function eC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Sn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function qs(i,r,o,u){r&=~Cm,r&=~ea,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var p=31-Ze(f),T=1<<p;u[p]=-1,f&=~T}o!==0&&ci(i,o,r)}function mh(){return(Kt&6)===0?(Zl(0),!1):!0}function xm(){if(Mt!==null){if(Qt===0)var i=Mt.return;else i=Mt,es=Xr=null,Wd(i),so=null,Fl=0,i=Mt;for(;i!==null;)oT(i.alternate,i),i=i.return;Mt=null}}function fo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,_C(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),xm(),te=i,Mt=o=Zi(i.current,null),Bt=r,Qt=0,Rn=null,Bs=!1,lo=Ir(i,r),Im=!1,uo=zn=Cm=ea=js=fe=0,pn=$l=null,Dm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Ze(u),p=1<<f;r|=i[f],u&=~p}return us=r,kc(),o}function DT(i,r){Ct=null,Y.H=eh,r===Vl||r===Gc?(r=Kv(),Qt=3):r===qv?(r=Kv(),Qt=4):Qt=r===Q_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Mt===null&&(fe=1,ah(i,kn(r,i.current)))}function OT(){var i=Y.H;return Y.H=eh,i===null?eh:i}function MT(){var i=Y.A;return Y.A=JI,i}function Nm(){fe=4,Bs||(Bt&4194048)!==Bt&&jn.current!==null||(lo=!0),(js&134217727)===0&&(ea&134217727)===0||te===null||qs(te,Bt,zn,!1)}function km(i,r,o){var u=Kt;Kt|=2;var f=OT(),p=MT();(te!==i||Bt!==r)&&(dh=null,fo(i,r)),r=!1;var T=fe;t:do try{if(Qt!==0&&Mt!==null){var A=Mt,I=Rn;switch(Qt){case 8:xm(),T=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var F=Qt;if(Qt=0,Rn=null,mo(i,A,I,F),o&&lo){T=0;break t}break;default:F=Qt,Qt=0,Rn=null,mo(i,A,I,F)}}nC(),T=fe;break}catch(X){DT(i,X)}while(!0);return r&&i.shellSuspendCounter++,es=Xr=null,Kt=u,Y.H=f,Y.A=p,Mt===null&&(te=null,Bt=0,kc()),T}function nC(){for(;Mt!==null;)PT(Mt)}function iC(i,r){var o=Kt;Kt|=2;var u=OT(),f=MT();te!==i||Bt!==r?(dh=null,fh=On()+500,fo(i,r)):lo=Ir(i,r);t:do try{if(Qt!==0&&Mt!==null){r=Mt;var p=Rn;e:switch(Qt){case 1:Qt=0,Rn=null,mo(i,r,p,1);break;case 2:case 9:if(Hv(p)){Qt=0,Rn=null,VT(r);break}r=function(){Qt!==2&&Qt!==9||te!==i||(Qt=7),wi(i)},p.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Hv(p)?(Qt=0,Rn=null,VT(r)):(Qt=0,Rn=null,mo(i,r,p,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var A=Mt;if(!T||m0(T)){Qt=0,Rn=null;var I=A.sibling;if(I!==null)Mt=I;else{var F=A.return;F!==null?(Mt=F,ph(F)):Mt=null}break e}}Qt=0,Rn=null,mo(i,r,p,5);break;case 6:Qt=0,Rn=null,mo(i,r,p,6);break;case 8:xm(),fe=6;break t;default:throw Error(s(462))}}sC();break}catch(X){DT(i,X)}while(!0);return es=Xr=null,Y.H=u,Y.A=f,Kt=o,Mt!==null?0:(te=null,Bt=0,kc(),fe)}function sC(){for(;Mt!==null&&!nl();)PT(Mt)}function PT(i){var r=rT(i.alternate,i,us);i.memoizedProps=i.pendingProps,r===null?ph(i):Mt=r}function VT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=J_(o,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=J_(o,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:Wd(r);default:oT(o,r),r=Mt=xv(r,us),r=rT(o,r,us)}i.memoizedProps=i.pendingProps,r===null?ph(i):Mt=r}function mo(i,r,o,u){es=Xr=null,Wd(r),so=null,Fl=0;var f=r.return;try{if(QI(i,f,r,o,Bt)){fe=1,ah(i,kn(o,i.current)),Mt=null;return}}catch(p){if(f!==null)throw Mt=f,p;fe=1,ah(i,kn(o,i.current)),Mt=null;return}r.flags&32768?(Ft||u===1?i=!0:lo||(Bt&536870912)!==0?i=!1:(Bs=i=!0,(u===2||u===9||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),xT(r,i)):ph(r)}function ph(i){var r=i;do{if((r.flags&32768)!==0){xT(r,Bs);return}i=r.return;var o=XI(r.alternate,r,us);if(o!==null){Mt=o;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);fe===0&&(fe=5)}function xT(i,r){do{var o=$I(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);fe=6,Mt=null}function NT(i,r,o,u,f,p,T,A,I){i.cancelPendingCommit=null;do gh();while(Ge!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Rd,ll(i,o,p,T,A,I),i===te&&(Mt=te=null,Bt=0),co=r,Fs=i,ho=o,Mm=p,Pm=f,wT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,lC(Ar,function(){return jT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,f=it.p,it.p=2,T=Kt,Kt|=4;try{WI(i,r,o)}finally{Kt=T,it.p=f,Y.T=u}}Ge=1,kT(),LT(),UT()}}function kT(){if(Ge===1){Ge=0;var i=Fs,r=co,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=it.p;it.p=2;var f=Kt;Kt|=4;try{vT(r,i);var p=Ym,T=bv(i.containerInfo),A=p.focusedElem,I=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&Av(A.ownerDocument.documentElement,A)){if(I!==null&&Ed(A)){var F=I.start,X=I.end;if(X===void 0&&(X=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(X,A.value.length);else{var Z=A.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),St=A.textContent.length,vt=Math.min(I.start,St),Wt=I.end===void 0?vt:Math.min(I.end,St);!H.extend&&vt>Wt&&(T=Wt,Wt=vt,vt=T);var k=Sv(A,vt),V=Sv(A,Wt);if(k&&V&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var z=Z.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),vt>Wt?(H.addRange(z),H.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),H.addRange(z))}}}}for(Z=[],H=A;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Z.length;A++){var W=Z[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Ch=!!Qm,Ym=Qm=null}finally{Kt=f,it.p=u,Y.T=o}}i.current=r,Ge=2}}function LT(){if(Ge===2){Ge=0;var i=Fs,r=co,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=it.p;it.p=2;var f=Kt;Kt|=4;try{mT(i,r.alternate,r)}finally{Kt=f,it.p=u,Y.T=o}}Ge=3}}function UT(){if(Ge===4||Ge===3){Ge=0,hc();var i=Fs,r=co,o=ho,u=wT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ge=5:(Ge=0,co=Fs=null,BT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(zs=null),Oa(o),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ce,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,f=it.p,it.p=2,Y.T=null;try{for(var p=i.onRecoverableError,T=0;T<u.length;T++){var A=u[T];p(A.value,{componentStack:A.stack})}}finally{Y.T=r,it.p=f}}(ho&3)!==0&&gh(),wi(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Vm?Wl++:(Wl=0,Vm=i):Wl=0,Zl(0)}}function BT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ml(r)))}function gh(i){return kT(),LT(),UT(),jT()}function jT(){if(Ge!==5)return!1;var i=Fs,r=Mm;Mm=0;var o=Oa(ho),u=Y.T,f=it.p;try{it.p=32>o?32:o,Y.T=null,o=Pm,Pm=null;var p=Fs,T=ho;if(Ge=0,co=Fs=null,ho=0,(Kt&6)!==0)throw Error(s(331));var A=Kt;if(Kt|=4,AT(p.current),TT(p,p.current,T,o),Kt=A,Zl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ce,p)}catch{}return!0}finally{it.p=f,Y.T=u,BT(i,r)}}function zT(i,r,o){r=kn(o,r),r=hm(i.stateNode,r,2),i=Ps(i,r,2),i!==null&&(zi(i,2),wi(i))}function Zt(i,r,o){if(i.tag===3)zT(i,i,o);else for(;r!==null;){if(r.tag===3){zT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zs===null||!zs.has(u))){i=kn(o,i),o=G_(2),u=Ps(r,o,2),u!==null&&(K_(o,u,r,i),zi(u,2),wi(u));break}}r=r.return}}function Lm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new tC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Im=!0,f.add(o),i=rC.bind(null,i,r,o),r.then(i,i))}function rC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,te===i&&(Bt&o)===o&&(fe===4||fe===3&&(Bt&62914560)===Bt&&300>On()-Om?(Kt&2)===0&&fo(i,0):Cm|=o,uo===Bt&&(uo=0)),wi(i)}function FT(i,r){r===0&&(r=ol()),i=Ya(i,r),i!==null&&(zi(i,r),wi(i))}function aC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),FT(i,o)}function oC(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),FT(i,o)}function lC(i,r){return Er(i,r)}var yh=null,po=null,Um=!1,vh=!1,Bm=!1,na=0;function wi(i){i!==po&&i.next===null&&(po===null?yh=po=i:po=po.next=i),vh=!0,Um||(Um=!0,cC())}function Zl(i,r){if(!Bm&&vh){Bm=!0;do for(var o=!1,u=yh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var T=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-Ze(42|i)+1)-1,p&=f&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,KT(u,p))}else p=Bt,p=Da(u,u===te?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Ir(u,p)||(o=!0,KT(u,p));u=u.next}while(o);Bm=!1}}function uC(){qT()}function qT(){vh=Um=!1;var i=0;na!==0&&(vC()&&(i=na),na=0);for(var r=On(),o=null,u=yh;u!==null;){var f=u.next,p=HT(u,r);p===0?(u.next=null,o===null?yh=f:o.next=f,f===null&&(po=o)):(o=u,(i!==0||(p&3)!==0)&&(vh=!0)),u=f}Zl(i)}function HT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-Ze(p),A=1<<T,I=f[T];I===-1?((A&o)===0||(A&u)!==0)&&(f[T]=rl(A,r)):I<=r&&(i.expiredLanes|=A),p&=~A}if(r=te,o=Bt,o=Da(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Sr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ir(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Sr(u),Oa(o)){case 2:case 8:o=Ia;break;case 32:o=Ar;break;case 268435456:o=Ca;break;default:o=Ar}return u=GT.bind(null,i),o=Er(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Sr(u),i.callbackPriority=2,i.callbackNode=null,2}function GT(i,r){if(Ge!==0&&Ge!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(gh()&&i.callbackNode!==o)return null;var u=Bt;return u=Da(i,i===te?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(IT(i,u,r),HT(i,On()),i.callbackNode!=null&&i.callbackNode===o?GT.bind(null,i):null)}function KT(i,r){if(gh())return null;IT(i,r,!0)}function cC(){TC(function(){(Kt&6)!==0?Er(il,uC):qT()})}function jm(){return na===0&&(na=al()),na}function QT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ka(""+i)}function YT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function hC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=QT((f[Te]||null).action),T=u.submitter;T&&(r=(r=T[Te]||null)?QT(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var A=new La("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(na!==0){var I=T?YT(f,T):new FormData(f);am(o,{pending:!0,data:I,method:f.method,action:p},null,I)}}else typeof p=="function"&&(A.preventDefault(),I=T?YT(f,T):new FormData(f),am(o,{pending:!0,data:I,method:f.method,action:p},p,I))},currentTarget:f}]})}}for(var zm=0;zm<wd.length;zm++){var Fm=wd[zm],fC=Fm.toLowerCase(),dC=Fm[0].toUpperCase()+Fm.slice(1);Jn(fC,"on"+dC)}Jn(Iv,"onAnimationEnd"),Jn(Cv,"onAnimationIteration"),Jn(Dv,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(OI,"onTransitionRun"),Jn(MI,"onTransitionStart"),Jn(PI,"onTransitionCancel"),Jn(Ov,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function XT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var T=u.length-1;0<=T;T--){var A=u[T],I=A.instance,F=A.currentTarget;if(A=A.listener,I!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=F;try{p(f)}catch(X){rh(X)}f.currentTarget=null,p=I}else for(T=0;T<u.length;T++){if(A=u[T],I=A.instance,F=A.currentTarget,A=A.listener,I!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=F;try{p(f)}catch(X){rh(X)}f.currentTarget=null,p=I}}}}function Pt(i,r){var o=r[cl];o===void 0&&(o=r[cl]=new Set);var u=i+"__bubble";o.has(u)||($T(r,i,2,!1),o.add(u))}function qm(i,r,o){var u=0;r&&(u|=4),$T(o,i,u,r)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Hm(i){if(!i[_h]){i[_h]=!0,hl.forEach(function(o){o!=="selectionchange"&&(mC.has(o)||qm(o,!1,i),qm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[_h]||(r[_h]=!0,qm("selectionchange",!1,r))}}function $T(i,r,o,u){switch(T0(r)){case 2:var f=zC;break;case 8:f=FC;break;default:f=sp}o=f.bind(null,r,o,i),f=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Gm(i,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=u.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Fi(A),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){u=p=T;continue t}A=A.parentNode}}u=u.return}Ec(function(){var F=p,X=Vn(o),Z=[];t:{var q=Mv.get(i);if(q!==void 0){var H=La,St=i;switch(i){case"keypress":if(gi(o)===0)break t;case"keydown":case"keyup":H=qa;break;case"focusin":St="focus",H=ja;break;case"focusout":St="blur",H=ja;break;case"beforeblur":case"afterblur":H=ja;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Dc;break;case Iv:case Cv:case Dv:H=za;break;case Ov:H=Mc;break;case"scroll":case"scrollend":H=Sc;break;case"wheel":H=Ha;break;case"copy":case"cut":case"paste":H=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Al;break;case"toggle":case"beforetoggle":H=Vc}var vt=(r&4)!==0,Wt=!vt&&(i==="scroll"||i==="scrollend"),k=vt?q!==null?q+"Capture":null:q;vt=[];for(var V=F,z;V!==null;){var W=V;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||k===null||(W=Nr(V,k),W!=null&&vt.push(tu(V,W,z))),Wt)break;V=V.return}0<vt.length&&(q=new H(q,St,null,o,X),Z.push({event:q,listeners:vt}))}}if((r&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",q&&o!==Ki&&(St=o.relatedTarget||o.fromElement)&&(Fi(St)||St[Mn]))break t;if((H||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,H?(St=o.relatedTarget||o.toElement,H=F,St=St?Fi(St):null,St!==null&&(Wt=l(St),vt=St.tag,St!==Wt||vt!==5&&vt!==27&&vt!==6)&&(St=null)):(H=null,St=F),H!==St)){if(vt=Nn,W="onMouseLeave",k="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Al,W="onPointerLeave",k="onPointerEnter",V="pointer"),Wt=H==null?q:fi(H),z=St==null?q:fi(St),q=new vt(W,V+"leave",H,o,X),q.target=Wt,q.relatedTarget=z,W=null,Fi(X)===F&&(vt=new vt(k,V+"enter",St,o,X),vt.target=z,vt.relatedTarget=Wt,W=vt),Wt=W,H&&St)e:{for(vt=H,k=St,V=0,z=vt;z;z=go(z))V++;for(z=0,W=k;W;W=go(W))z++;for(;0<V-z;)vt=go(vt),V--;for(;0<z-V;)k=go(k),z--;for(;V--;){if(vt===k||k!==null&&vt===k.alternate)break e;vt=go(vt),k=go(k)}vt=null}else vt=null;H!==null&&WT(Z,q,H,vt,!1),St!==null&&Wt!==null&&WT(Z,Wt,St,vt,!0)}}t:{if(q=F?fi(F):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ht=gv;else if(De(q))if(yv)ht=II;else{ht=wI;var Ot=bI}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&gl(F.elementType)&&(ht=gv):ht=RI;if(ht&&(ht=ht(i,F))){Wi(Z,ht,o,X);break t}Ot&&Ot(i,q,F),i==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&Is(q,"number",q.value)}switch(Ot=F?fi(F):window,i){case"focusin":(De(Ot)||Ot.contentEditable==="true")&&(Ga=Ot,Sd=F,Rl=null);break;case"focusout":Rl=Sd=Ga=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,wv(Z,o,X);break;case"selectionchange":if(DI)break;case"keydown":case"keyup":wv(Z,o,X)}var mt;if(_i)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?G(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(_&&o.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(mt=vl()):(pi=X,Cs="value"in pi?pi.value:pi.textContent,Lt=!0)),Ot=Th(F,_t),0<Ot.length&&(_t=new El(_t,i,null,o,X),Z.push({event:_t,listeners:Ot}),mt?_t.data=mt:(mt=rt(o),mt!==null&&(_t.data=mt)))),(mt=y?Ce(i,o):Ut(i,o))&&(_t=Th(F,"onBeforeInput"),0<_t.length&&(Ot=new El("onBeforeInput","beforeinput",null,o,X),Z.push({event:Ot,listeners:_t}),Ot.data=mt)),hC(Z,i,F,o,X)}XT(Z,r)})}function tu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Th(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Nr(i,o),f!=null&&u.unshift(tu(i,f,p)),f=Nr(i,r),f!=null&&u.push(tu(i,f,p))),i.tag===3)return u;i=i.return}return[]}function go(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function WT(i,r,o,u,f){for(var p=r._reactName,T=[];o!==null&&o!==u;){var A=o,I=A.alternate,F=A.stateNode;if(A=A.tag,I!==null&&I===u)break;A!==5&&A!==26&&A!==27||F===null||(I=F,f?(F=Nr(o,p),F!=null&&T.unshift(tu(o,F,I))):f||(F=Nr(o,p),F!=null&&T.push(tu(o,F,I)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var pC=/\r\n?/g,gC=/\u0000|\uFFFD/g;function ZT(i){return(typeof i=="string"?i:""+i).replace(pC,`
`).replace(gC,"")}function JT(i,r){return r=ZT(r),ZT(i)===r}function Eh(){}function $t(i,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Pn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Pn(i,""+u);break;case"className":di(i,"class",u);break;case"tabIndex":di(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":di(i,o,u);break;case"style":pl(i,u,p);break;case"data":if(r!=="object"){di(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ka(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&$t(i,r,"name",f.name,f,null),$t(i,r,"formEncType",f.formEncType,f,null),$t(i,r,"formMethod",f.formMethod,f,null),$t(i,r,"formTarget",f.formTarget,f,null)):($t(i,r,"encType",f.encType,f,null),$t(i,r,"method",f.method,f,null),$t(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ka(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Eh);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ka(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),Rs(i,"popover",u);break;case"xlinkActuate":Fe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Fe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Fe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Fe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Fe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Fe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Rs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=pd.get(o)||o,Rs(i,o,u))}}function Km(i,r,o,u,f,p){switch(o){case"style":pl(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Pn(i,u):(typeof u=="number"||typeof u=="bigint")&&Pn(i,""+u);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Te]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Rs(i,o,u)}}}function Ke(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$t(i,r,p,T,o,null)}}f&&$t(i,r,"srcSet",o.srcSet,o,null),u&&$t(i,r,"src",o.src,o,null);return;case"input":Pt("invalid",i);var A=p=T=f=null,I=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":f=X;break;case"type":T=X;break;case"checked":I=X;break;case"defaultChecked":F=X;break;case"value":p=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:$t(i,r,u,X,o,null)}}Pr(i,p,A,I,F,T,f,!1),Na(i);return;case"select":Pt("invalid",i),u=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:$t(i,r,f,A,o,null)}r=p,o=T,i.multiple=!!u,r!=null?Gi(i,!!u,r,!1):o!=null&&Gi(i,!!u,o,!0);return;case"textarea":Pt("invalid",i),p=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:$t(i,r,T,A,o,null)}Vr(i,u,f,p),Na(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:$t(i,r,I,u,o,null)}return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(u=0;u<Jl.length;u++)Pt(Jl[u],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$t(i,r,F,u,o,null)}return;default:if(gl(r)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&Km(i,r,X,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&$t(i,r,A,u,o,null))}function yC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,A=null,I=null,F=null,X=null;for(H in o){var Z=o[H];if(o.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Z;default:u.hasOwnProperty(H)||$t(i,r,H,null,u,Z)}}for(var q in u){var H=u[q];if(Z=o[q],u.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":p=H;break;case"name":f=H;break;case"checked":F=H;break;case"defaultChecked":X=H;break;case"value":T=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==Z&&$t(i,r,q,H,u,Z)}}En(i,T,A,I,F,X,p,f);return;case"select":H=T=A=q=null;for(p in o)if(I=o[p],o.hasOwnProperty(p)&&I!=null)switch(p){case"value":break;case"multiple":H=I;default:u.hasOwnProperty(p)||$t(i,r,p,null,u,I)}for(f in u)if(p=u[f],I=o[f],u.hasOwnProperty(f)&&(p!=null||I!=null))switch(f){case"value":q=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==I&&$t(i,r,f,p,u,I)}r=A,o=T,u=H,q!=null?Gi(i,!!o,q,!1):!!u!=!!o&&(r!=null?Gi(i,!!o,r,!0):Gi(i,!!o,o?[]:"",!1));return;case"textarea":H=q=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:$t(i,r,A,null,u,f)}for(T in u)if(f=u[T],p=o[T],u.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":q=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&$t(i,r,T,f,u,p)}Yt(i,q,H);return;case"option":for(var St in o)if(q=o[St],o.hasOwnProperty(St)&&q!=null&&!u.hasOwnProperty(St))switch(St){case"selected":i.selected=!1;break;default:$t(i,r,St,null,u,q)}for(I in u)if(q=u[I],H=o[I],u.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":i.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(i,r,I,q,u,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)q=o[vt],o.hasOwnProperty(vt)&&q!=null&&!u.hasOwnProperty(vt)&&$t(i,r,vt,null,u,q);for(F in u)if(q=u[F],H=o[F],u.hasOwnProperty(F)&&q!==H&&(q!=null||H!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:$t(i,r,F,q,u,H)}return;default:if(gl(r)){for(var Wt in o)q=o[Wt],o.hasOwnProperty(Wt)&&q!==void 0&&!u.hasOwnProperty(Wt)&&Km(i,r,Wt,void 0,u,q);for(X in u)q=u[X],H=o[X],!u.hasOwnProperty(X)||q===H||q===void 0&&H===void 0||Km(i,r,X,q,u,H);return}}for(var k in o)q=o[k],o.hasOwnProperty(k)&&q!=null&&!u.hasOwnProperty(k)&&$t(i,r,k,null,u,q);for(Z in u)q=u[Z],H=o[Z],!u.hasOwnProperty(Z)||q===H||q==null&&H==null||$t(i,r,Z,q,u,H)}var Qm=null,Ym=null;function Sh(i){return i.nodeType===9?i:i.ownerDocument}function t0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Xm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var $m=null;function vC(){var i=window.event;return i&&i.type==="popstate"?i===$m?!1:($m=i,!0):($m=null,!1)}var n0=typeof setTimeout=="function"?setTimeout:void 0,_C=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,TC=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(i){return i0.resolve(null).then(i).catch(EC)}:n0;function EC(i){setTimeout(function(){throw i})}function Hs(i){return i==="head"}function s0(i,r){var o=r,u=0,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var T=i.ownerDocument;if(o&1&&eu(T.documentElement),o&2&&eu(T.body),o&4)for(o=T.head,eu(o),T=o.firstChild;T;){var A=T.nextSibling,I=T.nodeName;T[Cr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=A}}if(f===0){i.removeChild(p),uu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);uu(r)}function Wm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wm(o),ws(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function SC(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Cr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function AC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ei(i.nextSibling),i===null))return null;return i}function Zm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function bC(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ei(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Jm=null;function r0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function a0(i,r,o){switch(r=Sh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function eu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ws(i)}var Fn=new Map,o0=new Set;function Ah(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var cs=it.d;it.d={f:wC,r:RC,D:IC,C:CC,L:DC,m:OC,X:PC,S:MC,M:VC};function wC(){var i=cs.f(),r=mh();return i||r}function RC(i){var r=hi(i);r!==null&&r.tag===5&&r.type==="form"?I_(r):cs.r(i)}var yo=typeof document>"u"?null:document;function l0(i,r,o){var u=yo;if(u&&typeof r=="string"&&r){var f=Ee(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),o0.has(f)||(o0.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ke(r,"link",i),me(r),u.head.appendChild(r)))}}function IC(i){cs.D(i),l0("dns-prefetch",i,null)}function CC(i,r){cs.C(i,r),l0("preconnect",i,r)}function DC(i,r,o){cs.L(i,r,o);var u=yo;if(u&&i&&r){var f='link[rel="preload"][as="'+Ee(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ee(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ee(o.imageSizes)+'"]')):f+='[href="'+Ee(i)+'"]';var p=f;switch(r){case"style":p=vo(i);break;case"script":p=_o(i)}Fn.has(p)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Fn.set(p,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(nu(p))||r==="script"&&u.querySelector(iu(p))||(r=u.createElement("link"),Ke(r,"link",i),me(r),u.head.appendChild(r)))}}function OC(i,r){cs.m(i,r);var o=yo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ee(u)+'"][href="'+Ee(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=_o(i)}if(!Fn.has(p)&&(i=v({rel:"modulepreload",href:i},r),Fn.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(iu(p)))return}u=o.createElement("link"),Ke(u,"link",i),me(u),o.head.appendChild(u)}}}function MC(i,r,o){cs.S(i,r,o);var u=yo;if(u&&i){var f=ln(u).hoistableStyles,p=vo(i);r=r||"default";var T=f.get(p);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(nu(p)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Fn.get(p))&&tp(i,o);var I=T=u.createElement("link");me(I),Ke(I,"link",i),I._p=new Promise(function(F,X){I.onload=F,I.onerror=X}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,bh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(p,T)}}}function PC(i,r){cs.X(i,r);var o=yo;if(o&&i){var u=ln(o).hoistableScripts,f=_o(i),p=u.get(f);p||(p=o.querySelector(iu(f)),p||(i=v({src:i,async:!0},r),(r=Fn.get(f))&&ep(i,r),p=o.createElement("script"),me(p),Ke(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function VC(i,r){cs.M(i,r);var o=yo;if(o&&i){var u=ln(o).hoistableScripts,f=_o(i),p=u.get(f);p||(p=o.querySelector(iu(f)),p||(i=v({src:i,async:!0,type:"module"},r),(r=Fn.get(f))&&ep(i,r),p=o.createElement("script"),me(p),Ke(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function u0(i,r,o,u){var f=(f=bt.current)?Ah(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=vo(o.href),o=ln(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=vo(o.href);var p=ln(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(nu(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Fn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Fn.set(i,o),p||xC(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=_o(o),o=ln(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function vo(i){return'href="'+Ee(i)+'"'}function nu(i){return'link[rel="stylesheet"]['+i+"]"}function c0(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function xC(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ke(r,"link",o),me(r),i.head.appendChild(r))}function _o(i){return'[src="'+Ee(i)+'"]'}function iu(i){return"script[async]"+i}function h0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Ee(o.href)+'"]');if(u)return r.instance=u,me(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),me(u),Ke(u,"style",f),bh(u,o.precedence,i),r.instance=u;case"stylesheet":f=vo(o.href);var p=i.querySelector(nu(f));if(p)return r.state.loading|=4,r.instance=p,me(p),p;u=c0(o),(f=Fn.get(f))&&tp(u,f),p=(i.ownerDocument||i).createElement("link"),me(p);var T=p;return T._p=new Promise(function(A,I){T.onload=A,T.onerror=I}),Ke(p,"link",u),r.state.loading|=4,bh(p,o.precedence,i),r.instance=p;case"script":return p=_o(o.src),(f=i.querySelector(iu(p)))?(r.instance=f,me(f),f):(u=o,(f=Fn.get(p))&&(u=v({},o),ep(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),me(f),Ke(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,bh(u,o.precedence,i));return r.instance}function bh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===r)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function tp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ep(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var wh=null;function f0(i,r,o){if(wh===null){var u=new Map,f=wh=new Map;f.set(o,u)}else f=wh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Cr]||p[Ie]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var A=u.get(T);A?A.push(p):u.set(T,[p])}}return u}function d0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function NC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function m0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var su=null;function kC(){}function LC(i,r,o){if(su===null)throw Error(s(475));var u=su;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=vo(o.href),p=i.querySelector(nu(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Rh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=p,me(p);return}p=i.ownerDocument||i,o=c0(o),(f=Fn.get(f))&&tp(o,f),p=p.createElement("link"),me(p);var T=p;T._p=new Promise(function(A,I){T.onload=A,T.onerror=I}),Ke(p,"link",o),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Rh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function UC(){if(su===null)throw Error(s(475));var i=su;return i.stylesheets&&i.count===0&&np(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&np(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Rh(){if(this.count--,this.count===0){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ih=null;function np(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ih=new Map,r.forEach(BC,i),Ih=null,Rh.call(i))}function BC(i,r){if(!(r.state.loading&4)){var o=Ih.get(i);if(o)var u=o.get(null);else{o=new Map,Ih.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,f),o.set(T,f),this.count++,u=Rh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var ru={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function jC(i,r,o,u,f,p,T,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function p0(i,r,o,u,f,p,T,A,I,F,X,Z){return i=new jC(i,r,o,T,A,I,F,Z),r=1,p===!0&&(r|=24),p=An(3,null,null,r),i.current=p,p.stateNode=i,r=Ld(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},zd(p),i}function g0(i){return i?(i=Xa,i):Xa}function y0(i,r,o,u,f,p){f=g0(f),u.context===null?u.context=f:u.pendingContext=f,u=Ms(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Ps(i,u,r),o!==null&&(Cn(o,i,r),Nl(o,i,r))}function v0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function ip(i,r){v0(i,r),(i=i.alternate)&&v0(i,r)}function _0(i){if(i.tag===13){var r=Ya(i,67108864);r!==null&&Cn(r,i,67108864),ip(i,67108864)}}var Ch=!0;function zC(i,r,o,u){var f=Y.T;Y.T=null;var p=it.p;try{it.p=2,sp(i,r,o,u)}finally{it.p=p,Y.T=f}}function FC(i,r,o,u){var f=Y.T;Y.T=null;var p=it.p;try{it.p=8,sp(i,r,o,u)}finally{it.p=p,Y.T=f}}function sp(i,r,o,u){if(Ch){var f=rp(u);if(f===null)Gm(i,r,u,Dh,o),E0(i,u);else if(HC(f,i,r,o,u))u.stopPropagation();else if(E0(i,u),r&4&&-1<qC.indexOf(i)){for(;f!==null;){var p=hi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=$n(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var I=1<<31-Ze(T);A.entanglements[1]|=I,T&=~I}wi(p),(Kt&6)===0&&(fh=On()+500,Zl(0))}}break;case 13:A=Ya(p,2),A!==null&&Cn(A,p,2),mh(),ip(p,2)}if(p=rp(u),p===null&&Gm(i,r,u,Dh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Gm(i,r,u,null,o)}}function rp(i){return i=Vn(i),ap(i)}var Dh=null;function ap(i){if(Dh=null,i=Fi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Dh=i,null}function T0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ud()){case il:return 2;case Ia:return 8;case Ar:case cd:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var op=!1,Gs=null,Ks=null,Qs=null,au=new Map,ou=new Map,Ys=[],qC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E0(i,r){switch(i){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":au.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(r.pointerId)}}function lu(i,r,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=hi(r),r!==null&&_0(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function HC(i,r,o,u,f){switch(r){case"focusin":return Gs=lu(Gs,i,r,o,u,f),!0;case"dragenter":return Ks=lu(Ks,i,r,o,u,f),!0;case"mouseover":return Qs=lu(Qs,i,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return au.set(p,lu(au.get(p)||null,i,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,ou.set(p,lu(ou.get(p)||null,i,r,o,u,f)),!0}return!1}function S0(i){var r=Fi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,mc(i.priority,function(){if(o.tag===13){var u=In();u=Ss(u);var f=Ya(o,u);f!==null&&Cn(f,o,u),ip(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Oh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=rp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ki=u,o.target.dispatchEvent(u),Ki=null}else return r=hi(o),r!==null&&_0(r),i.blockedOn=o,!1;r.shift()}return!0}function A0(i,r,o){Oh(i)&&o.delete(r)}function GC(){op=!1,Gs!==null&&Oh(Gs)&&(Gs=null),Ks!==null&&Oh(Ks)&&(Ks=null),Qs!==null&&Oh(Qs)&&(Qs=null),au.forEach(A0),ou.forEach(A0)}function Mh(i,r){i.blockedOn===r&&(i.blockedOn=null,op||(op=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GC)))}var Ph=null;function b0(i){Ph!==i&&(Ph=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ph===i&&(Ph=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(ap(u||o)===null)continue;break}var p=hi(o);p!==null&&(i.splice(r,3),r-=3,am(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function uu(i){function r(I){return Mh(I,i)}Gs!==null&&Mh(Gs,i),Ks!==null&&Mh(Ks,i),Qs!==null&&Mh(Qs,i),au.forEach(r),ou.forEach(r);for(var o=0;o<Ys.length;o++){var u=Ys[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ys.length&&(o=Ys[0],o.blockedOn===null);)S0(o),o.blockedOn===null&&Ys.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],T=f[Te]||null;if(typeof p=="function")T||b0(o);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Te]||null)A=T.formAction;else if(ap(f)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),b0(o)}}}function lp(i){this._internalRoot=i}Vh.prototype.render=lp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=In();y0(o,u,i,r,null,null)},Vh.prototype.unmount=lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;y0(i.current,2,null,i,null,null),mh(),r[Mn]=null}};function Vh(i){this._internalRoot=i}Vh.prototype.unstable_scheduleHydration=function(i){if(i){var r=As();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Ys.length&&r!==0&&r<Ys[o].priority;o++);Ys.splice(o,0,i),o===0&&S0(i)}};var w0=t.version;if(w0!=="19.1.0")throw Error(s(527,w0,"19.1.0"));it.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var KC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{ce=xh.inject(KC),Gt=xh}catch{}}return hu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=z_,p=F_,T=q_,A=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=p0(i,1,!1,null,null,o,u,f,p,T,A,null),i[Mn]=r.current,Hm(i),new lp(r)},hu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",p=z_,T=F_,A=q_,I=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),r=p0(i,1,!0,r,o??null,u,f,p,T,A,I,F),r.context=g0(null),o=r.current,u=In(),u=Ss(u),f=Ms(u),f.callback=null,Ps(o,f,u),o=u,r.current.lanes=o,zi(r,o),wi(r),i[Mn]=r.current,Hm(i),new Vh(r)},hu.version="19.1.0",hu}var N0;function iD(){if(N0)return hp.exports;N0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hp.exports=nD(),hp.exports}var sD=iD();const rD=jA(sD);var Wu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},da=typeof window>"u"||"Deno"in globalThis;function gn(){}function aD(e,t){return typeof e=="function"?e(t):e}function Gp(e){return typeof e=="number"&&e>=0&&e!==1/0}function zA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ir(e,t){return typeof e=="function"?e(t):e}function Gn(e,t){return typeof e=="function"?e(t):e}function k0(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:l,queryKey:c,stale:d}=e;if(c){if(s){if(t.queryHash!==qg(c,t.options))return!1}else if(!xu(t.queryKey,c))return!1}if(n!=="all"){const m=t.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||l&&!l(t))}function L0(e,t){const{exact:n,status:s,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Vu(t.options.mutationKey)!==Vu(l))return!1}else if(!xu(t.options.mutationKey,l))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function qg(e,t){return(t?.queryKeyHashFn||Vu)(e)}function Vu(e){return JSON.stringify(e,(t,n)=>Qp(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function xu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>xu(e[n],t[n])):!1}function FA(e,t){if(e===t)return e;const n=U0(e)&&U0(t);if(n||Qp(e)&&Qp(t)){const s=n?e:Object.keys(e),a=s.length,l=n?t:Object.keys(t),c=l.length,d=n?[]:{},m=new Set(s);let g=0;for(let v=0;v<c;v++){const E=n?v:l[v];(!n&&m.has(E)||n)&&e[E]===void 0&&t[E]===void 0?(d[E]=void 0,g++):(d[E]=FA(e[E],t[E]),d[E]===e[E]&&e[E]!==void 0&&g++)}return a===c&&g===a?e:d}return t}function Kp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function U0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qp(e){if(!B0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!B0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function B0(e){return Object.prototype.toString.call(e)==="[object Object]"}function oD(e){return new Promise(t=>{setTimeout(t,e)})}function Yp(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?FA(e,t):t}function lD(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function uD(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Hg=Symbol();function qA(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Hg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function cD(e,t){return typeof e=="function"?e(...t):!!e}var hD=class extends Wu{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!da&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Gg=new hD,fD=class extends Wu{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!da&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},of=new fD;function Xp(){let e,t;const n=new Promise((a,l)=>{e=a,t=l});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function dD(e){return Math.min(1e3*2**e,3e4)}function HA(e){return(e??"online")==="online"?of.isOnline():!0}var GA=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function pp(e){return e instanceof GA}function KA(e){let t=!1,n=0,s=!1,a;const l=Xp(),c=U=>{s||(S(new GA(U)),e.abort?.())},d=()=>{t=!0},m=()=>{t=!1},g=()=>Gg.isFocused()&&(e.networkMode==="always"||of.isOnline())&&e.canRun(),v=()=>HA(e.networkMode)&&e.canRun(),E=U=>{s||(s=!0,e.onSuccess?.(U),a?.(),l.resolve(U))},S=U=>{s||(s=!0,e.onError?.(U),a?.(),l.reject(U))},C=()=>new Promise(U=>{a=B=>{(s||g())&&U(B)},e.onPause?.()}).then(()=>{a=void 0,s||e.onContinue?.()}),N=()=>{if(s)return;let U;const B=n===0?e.initialPromise:void 0;try{U=B??e.fn()}catch(K){U=Promise.reject(K)}Promise.resolve(U).then(E).catch(K=>{if(s)return;const $=e.retry??(da?0:3),Q=e.retryDelay??dD,ot=typeof Q=="function"?Q(n,K):Q,nt=$===!0||typeof $=="number"&&n<$||typeof $=="function"&&$(n,K);if(t||!nt){S(K);return}n++,e.onFail?.(n,K),oD(ot).then(()=>g()?void 0:C()).then(()=>{t?S(K):N()})})};return{promise:l,cancel:c,continue:()=>(a?.(),l),cancelRetry:d,continueRetry:m,canStart:v,start:()=>(v()?N():C().then(N),l)}}var mD=e=>setTimeout(e,0);function pD(){let e=[],t=0,n=d=>{d()},s=d=>{d()},a=mD;const l=d=>{t?e.push(d):a(()=>{n(d)})},c=()=>{const d=e;e=[],d.length&&a(()=>{s(()=>{d.forEach(m=>{n(m)})})})};return{batch:d=>{let m;t++;try{m=d()}finally{t--,t||c()}return m},batchCalls:d=>(...m)=>{l(()=>{d(...m)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{a=d}}}var Xe=pD(),QA=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gp(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(da?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},gD=class extends QA{#e;#t;#n;#i;#s;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=yD(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,n){const s=Yp(this.state.data,t,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(t,n){this.#r({type:"setState",state:t,setStateOptions:n})}cancel(t){const n=this.#s?.promise;return this.#s?.cancel(t),n?n.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Gn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ir(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!zA(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}fetch(t,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,a=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(this.#a=!0,s.signal)})},l=()=>{const g=qA(this.options,n),E=(()=>{const S={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(S),S})();return this.#a=!1,this.options.persister?this.options.persister(g,E,this):g(E)},d=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return a(g),g})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#r({type:"fetch",meta:d.fetchOptions?.meta});const m=g=>{pp(g)&&g.silent||this.#r({type:"error",error:g}),pp(g)||(this.#n.config.onError?.(g,this),this.#n.config.onSettled?.(this.state.data,g,this)),this.scheduleGc()};return this.#s=KA({initialPromise:n?.initialPromise,fn:d.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{if(g===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(v){m(v);return}this.#n.config.onSuccess?.(g,this),this.#n.config.onSettled?.(g,this.state.error,this),this.scheduleGc()},onError:m,onFail:(g,v)=>{this.#r({type:"failed",failureCount:g,error:v})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}),this.#s.start()}#r(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...YA(s.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return pp(a)&&a.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Xe.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function YA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vD=class extends Wu{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,a=t.queryHash??qg(s,t);let l=this.get(a);return l||(l=new gD({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xe.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>k0(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>k0(e,n)):t}notify(e){Xe.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Xe.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xe.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_D=class extends QA{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||TD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(n=>n!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const n=()=>{this.#i({type:"continue"})};this.#n=KA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#i({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",a=!this.#n.canStart();try{if(s)n();else{this.#i({type:"pending",variables:t,isPaused:a}),await this.#t.config.onMutate?.(t,this);const c=await this.options.onMutate?.(t);c!==this.state.context&&this.#i({type:"pending",context:c,variables:t,isPaused:a})}const l=await this.#n.start();return await this.#t.config.onSuccess?.(l,t,this.state.context,this),await this.options.onSuccess?.(l,t,this.state.context),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,t,this.state.context),this.#i({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,t,this.state.context,this),await this.options.onError?.(l,t,this.state.context),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,t,this.state.context),l}finally{this.#i({type:"error",error:l})}}finally{this.#t.runNext(this)}}#i(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Xe.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function TD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ED=class extends Wu{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const s=new _D({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){this.#e.add(e);const t=Nh(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Nh(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Nh(e);if(typeof t=="string"){const s=this.#t.get(t)?.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=Nh(e);return typeof t=="string"?this.#t.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Xe.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>L0(t,n))}findAll(e={}){return this.getAll().filter(t=>L0(e,t))}notify(e){Xe.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Xe.batch(()=>Promise.all(e.map(t=>t.continue().catch(gn))))}};function Nh(e){return e.options.scope?.id}function j0(e){return{onFetch:(t,n)=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},m=0;const g=async()=>{let v=!1;const E=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},S=qA(t.options,t.fetchOptions),C=async(N,U,B)=>{if(v)return Promise.reject();if(U==null&&N.pages.length)return Promise.resolve(N);const $=(()=>{const ft={client:t.client,queryKey:t.queryKey,pageParam:U,direction:B?"backward":"forward",meta:t.options.meta};return E(ft),ft})(),Q=await S($),{maxPages:ot}=t.options,nt=B?uD:lD;return{pages:nt(N.pages,Q,ot),pageParams:nt(N.pageParams,U,ot)}};if(a&&l.length){const N=a==="backward",U=N?SD:z0,B={pages:l,pageParams:c},K=U(s,B);d=await C(B,K,N)}else{const N=e??l.length;do{const U=m===0?c[0]??s.initialPageParam:z0(s,d);if(m>0&&U==null)break;d=await C(d,U),m++}while(m<N)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=g}}}function z0(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function SD(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var AD=class{#e;#t;#n;#i;#s;#o;#a;#r;constructor(e={}){this.#e=e.queryCache||new vD,this.#t=e.mutationCache||new ED,this.#n=e.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Gg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=of.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ir(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(s.queryHash)?.state.data,c=aD(t,l);if(c!==void 0)return this.#e.build(this,s).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return Xe.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Xe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Xe.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Xe.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(gn).catch(gn)}invalidateQueries(e,t={}){return Xe.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Xe.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(gn)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(gn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(ir(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gn).catch(gn)}fetchInfiniteQuery(e){return e.behavior=j0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gn).catch(gn)}ensureInfiniteQueryData(e){return e.behavior=j0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return of.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Vu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(s=>{xu(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){this.#s.set(Vu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(s=>{xu(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Hg&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},bD=class extends Wu{constructor(e,t){super(),this.options=t,this.#e=e,this.#r=null,this.#a=Xp(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#s;#o;#a;#r;#p;#f;#d;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),F0(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $p(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $p(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#T(),this.#E(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!Kp(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&q0(this.#t,n,this.options,t)&&this.#h(),this.updateResult(),s&&(this.#t!==n||Gn(this.options.enabled,this.#t)!==Gn(t.enabled,this.#t)||ir(this.options.staleTime,this.#t)!==ir(t.staleTime,this.#t))&&this.#g();const a=this.#y();s&&(this.#t!==n||Gn(this.options.enabled,this.#t)!==Gn(t.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return RD(this,n)&&(this.#i=n,this.#o=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),t?.(s),Reflect.get(n,s))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#h({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#h(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(gn)),t}#g(){this.#T();const e=ir(this.options.staleTime,this.#t);if(da||this.#i.isStale||!Gp(e))return;const n=zA(this.#i.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#E(),this.#l=e,!(da||Gn(this.options.enabled,this.#t)===!1||!Gp(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||Gg.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#T(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#E(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#t,s=this.options,a=this.#i,l=this.#s,c=this.#o,m=e!==n?e.state:this.#n,{state:g}=e;let v={...g},E=!1,S;if(t._optimisticResults){const w=this.hasListeners(),R=!w&&F0(e,t),P=w&&q0(e,n,t,s);(R||P)&&(v={...v,...YA(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:C,errorUpdatedAt:N,status:U}=v;S=v.data;let B=!1;if(t.placeholderData!==void 0&&S===void 0&&U==="pending"){let w;a?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(w=a.data,B=!0):w=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,w!==void 0&&(U="success",S=Yp(a?.data,w,t),E=!0)}if(t.select&&S!==void 0&&!B)if(a&&S===l?.data&&t.select===this.#p)S=this.#f;else try{this.#p=t.select,S=t.select(S),S=Yp(a?.data,S,t),this.#f=S,this.#r=null}catch(w){this.#r=w}this.#r&&(C=this.#r,S=this.#f,N=Date.now(),U="error");const K=v.fetchStatus==="fetching",$=U==="pending",Q=U==="error",ot=$&&K,nt=S!==void 0,O={status:U,fetchStatus:v.fetchStatus,isPending:$,isSuccess:U==="success",isError:Q,isInitialLoading:ot,isLoading:ot,data:S,dataUpdatedAt:v.dataUpdatedAt,error:C,errorUpdatedAt:N,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>m.dataUpdateCount||v.errorUpdateCount>m.errorUpdateCount,isFetching:K,isRefetching:K&&!$,isLoadingError:Q&&!nt,isPaused:v.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:Q&&nt,isStale:Kg(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Gn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const w=x=>{O.status==="error"?x.reject(O.error):O.data!==void 0&&x.resolve(O.data)},R=()=>{const x=this.#a=O.promise=Xp();w(x)},P=this.#a;switch(P.status){case"pending":e.queryHash===n.queryHash&&w(P);break;case"fulfilled":(O.status==="error"||O.data!==P.value)&&R();break;case"rejected":(O.status!=="error"||O.error!==P.reason)&&R();break}}return O}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#o=this.options,this.#s.data!==void 0&&(this.#d=this.#t),Kp(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!this.#m.size)return!0;const l=new Set(a??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#i).some(c=>{const d=c;return this.#i[d]!==e[d]&&l.has(d)})};this.#A({listeners:n()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#A(e){Xe.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function wD(e,t){return Gn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function F0(e,t){return wD(e,t)||e.state.data!==void 0&&$p(e,t,t.refetchOnMount)}function $p(e,t,n){if(Gn(t.enabled,e)!==!1&&ir(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&Kg(e,t)}return!1}function q0(e,t,n,s){return(e!==t||Gn(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Kg(e,n)}function Kg(e,t){return Gn(t.enabled,e)!==!1&&e.isStaleByTime(ir(t.staleTime,e))}function RD(e,t){return!Kp(e.getCurrentResult(),t)}var XA=ut.createContext(void 0),ID=e=>{const t=ut.useContext(XA);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},CD=({client:e,children:t})=>(ut.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),pt.jsx(XA.Provider,{value:e,children:t})),$A=ut.createContext(!1),DD=()=>ut.useContext($A);$A.Provider;function OD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var MD=ut.createContext(OD()),PD=()=>ut.useContext(MD),VD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},xD=e=>{ut.useEffect(()=>{e.clearReset()},[e])},ND=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||cD(n,[e.error,s])),kD=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>t(n(...s)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},LD=(e,t)=>e.isLoading&&e.isFetching&&!t,UD=(e,t)=>e?.suspense&&t.isPending,H0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function BD(e,t,n){const s=DD(),a=PD(),l=ID(),c=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=s?"isRestoring":"optimistic",kD(c),VD(c,a),xD(a);const d=!l.getQueryCache().get(c.queryHash),[m]=ut.useState(()=>new t(l,c)),g=m.getOptimisticResult(c),v=!s&&e.subscribed!==!1;if(ut.useSyncExternalStore(ut.useCallback(E=>{const S=v?m.subscribe(Xe.batchCalls(E)):gn;return m.updateResult(),S},[m,v]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),ut.useEffect(()=>{m.setOptions(c)},[c,m]),UD(c,g))throw H0(c,m,a);if(ND({result:g,errorResetBoundary:a,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw g.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,g),c.experimental_prefetchInRender&&!da&&LD(g,s)&&(d?H0(c,m,a):l.getQueryCache().get(c.queryHash)?.promise)?.catch(gn).finally(()=>{m.updateResult()}),c.notifyOnChangeProps?g:m.trackResult(g)}function jD(e,t){return BD(e,bD)}const zD=()=>{};var G0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},FD=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},ZA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,g=m?e[a+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,C=g&63;m||(C=64,c||(S=64)),s.push(n[v],n[E],n[S],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(WA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):FD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const E=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new qD;const S=l<<2|d>>4;if(s.push(S),g!==64){const C=d<<4&240|g>>2;if(s.push(C),E!==64){const N=g<<6&192|E;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class qD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HD=function(e){const t=WA(e);return ZA.encodeByteArray(t,!0)},lf=function(e){return HD(e).replace(/\./g,"")},JA=function(e){try{return ZA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=()=>GD().__FIREBASE_DEFAULTS__,QD=()=>{if(typeof process>"u"||typeof G0>"u")return;const e=G0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},YD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&JA(e[1]);return t&&JSON.parse(t)},Lf=()=>{try{return zD()||KD()||QD()||YD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tb=e=>Lf()?.emulatorHosts?.[e],XD=e=>{const t=tb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},eb=()=>Lf()?.config,nb=e=>Lf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ib(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[lf(JSON.stringify(n)),lf(JSON.stringify(c)),""].join(".")}const Tu={};function ZD(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tu))Tu[t]?e.emulator.push(t):e.prod.push(t);return e}function JD(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let K0=!1;function sb(e,t){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||Tu[e]===t||Tu[e]||K0)return;Tu[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=ZD().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{K0=!0,c()},S}function v(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=JD(s),C=n("text"),N=document.getElementById(C)||document.createElement("span"),U=n("learnmore"),B=document.getElementById(U)||document.createElement("a"),K=n("preprendIcon"),$=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;d(Q),v(B,U);const ot=g();m($,K),Q.append($,N,B,ot),document.body.appendChild(Q)}l?(N.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function eO(){const e=Lf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rb(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function iO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sO(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rO(){return!eO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ab(){try{return typeof indexedDB=="object"}catch{return!1}}function ob(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}function aO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="FirebaseError";class li extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=oO,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ta.prototype.create)}}class Ta{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?lO(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new li(a,d,s)}}function lO(e,t){return e.replace(uO,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const uO=/\{\$([^}]+)}/g;function cO(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ur(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(Q0(l)&&Q0(c)){if(!ur(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Q0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function du(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function mu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function hO(e,t){const n=new fO(e,t);return n.subscribe.bind(n)}class fO{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dO(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=gp),a.error===void 0&&(a.error=gp),a.complete===void 0&&(a.complete=gp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dO(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function gp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=1e3,pO=2,gO=14400*1e3,yO=.5;function Y0(e,t=mO,n=pO){const s=t*Math.pow(n,e),a=Math.round(yO*s*(Math.random()-.5)*2);return Math.min(gO,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){return e&&e._delegate?e._delegate:e}class ai{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new $D;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TO(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_O(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _O(e){return e===sa?void 0:e}function TO(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new vO(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Vt||(Vt={}));const SO={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},AO=Vt.INFO,bO={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},wO=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=bO[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uf{constructor(t){this.name=t,this._logLevel=AO,this._logHandler=wO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const RO=(e,t)=>t.some(n=>e instanceof n);let X0,$0;function IO(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CO(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,Wp=new WeakMap,ub=new WeakMap,yp=new WeakMap,Qg=new WeakMap;function DO(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(sr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&lb.set(n,e)}).catch(()=>{}),Qg.set(t,e),t}function OO(e){if(Wp.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Wp.set(e,t)}let Zp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Wp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ub.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function MO(e){Zp=e(Zp)}function PO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(vp(this),t,...n);return ub.set(s,t.sort?t.sort():[t]),sr(s)}:CO().includes(e)?function(...t){return e.apply(vp(this),t),sr(lb.get(this))}:function(...t){return sr(e.apply(vp(this),t))}}function VO(e){return typeof e=="function"?PO(e):(e instanceof IDBTransaction&&OO(e),RO(e,IO())?new Proxy(e,Zp):e)}function sr(e){if(e instanceof IDBRequest)return DO(e);if(yp.has(e))return yp.get(e);const t=VO(e);return t!==e&&(yp.set(e,t),Qg.set(t,e)),t}const vp=e=>Qg.get(e);function cb(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=sr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(sr(c.result),m.oldVersion,m.newVersion,sr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const xO=["get","getKey","getAll","getAllKeys","count"],NO=["put","add","delete","clear"],_p=new Map;function W0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_p.get(t))return _p.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=NO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||xO.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return _p.set(t,l),l}MO(e=>({...e,get:(t,n,s)=>W0(t,n)||e.get(t,n,s),has:(t,n)=>!!W0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LO(e){return e.getComponent()?.type==="VERSION"}const Jp="@firebase/app",Z0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Uf("@firebase/app"),UO="@firebase/app-compat",BO="@firebase/analytics-compat",jO="@firebase/analytics",zO="@firebase/app-check-compat",FO="@firebase/app-check",qO="@firebase/auth",HO="@firebase/auth-compat",GO="@firebase/database",KO="@firebase/data-connect",QO="@firebase/database-compat",YO="@firebase/functions",XO="@firebase/functions-compat",$O="@firebase/installations",WO="@firebase/installations-compat",ZO="@firebase/messaging",JO="@firebase/messaging-compat",tM="@firebase/performance",eM="@firebase/performance-compat",nM="@firebase/remote-config",iM="@firebase/remote-config-compat",sM="@firebase/storage",rM="@firebase/storage-compat",aM="@firebase/firestore",oM="@firebase/ai",lM="@firebase/firestore-compat",uM="firebase",cM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="[DEFAULT]",hM={[Jp]:"fire-core",[UO]:"fire-core-compat",[jO]:"fire-analytics",[BO]:"fire-analytics-compat",[FO]:"fire-app-check",[zO]:"fire-app-check-compat",[qO]:"fire-auth",[HO]:"fire-auth-compat",[GO]:"fire-rtdb",[KO]:"fire-data-connect",[QO]:"fire-rtdb-compat",[YO]:"fire-fn",[XO]:"fire-fn-compat",[$O]:"fire-iid",[WO]:"fire-iid-compat",[ZO]:"fire-fcm",[JO]:"fire-fcm-compat",[tM]:"fire-perf",[eM]:"fire-perf-compat",[nM]:"fire-rc",[iM]:"fire-rc-compat",[sM]:"fire-gcs",[rM]:"fire-gcs-compat",[aM]:"fire-fst",[lM]:"fire-fst-compat",[oM]:"fire-vertex","fire-js":"fire-js",[uM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,fM=new Map,eg=new Map;function J0(e,t){try{e.container.addComponent(t)}catch(n){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ki(e){const t=e.name;if(eg.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;eg.set(t,e);for(const n of uf.values())J0(n,e);for(const n of fM.values())J0(n,e);return!0}function Ea(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ii(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new Ta("app","Firebase",dM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=cM;function hb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:tg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw rr.create("bad-app-name",{appName:String(a)});if(n||(n=eb()),!n)throw rr.create("no-options");const l=uf.get(a);if(l){if(ur(n,l.options)&&ur(s,l.config))return l;throw rr.create("duplicate-app",{appName:a})}const c=new EO(a);for(const m of eg.values())c.addComponent(m);const d=new mM(n,s,c);return uf.set(a,d),d}function Yg(e=tg){const t=uf.get(e);if(!t&&e===tg&&eb())return hb();if(!t)throw rr.create("no-app",{appName:e});return t}function Yn(e,t,n){let s=hM[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(c.join(" "));return}ki(new ai(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="firebase-heartbeat-database",gM=1,Nu="firebase-heartbeat-store";let Tp=null;function fb(){return Tp||(Tp=cb(pM,gM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Nu)}catch(n){console.warn(n)}}}}).catch(e=>{throw rr.create("idb-open",{originalErrorMessage:e.message})})),Tp}async function yM(e){try{const n=(await fb()).transaction(Nu),s=await n.objectStore(Nu).get(db(e));return await n.done,s}catch(t){if(t instanceof li)ps.warn(t.message);else{const n=rr.create("idb-get",{originalErrorMessage:t?.message});ps.warn(n.message)}}}async function tE(e,t){try{const s=(await fb()).transaction(Nu,"readwrite");await s.objectStore(Nu).put(t,db(e)),await s.done}catch(n){if(n instanceof li)ps.warn(n.message);else{const s=rr.create("idb-set",{originalErrorMessage:n?.message});ps.warn(s.message)}}}function db(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=1024,_M=30;class TM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>_M){const a=AM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eE(),{heartbeatsToSend:n,unsentEntries:s}=EM(this._heartbeatsCache.heartbeats),a=lf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ps.warn(t),""}}}function eE(){return new Date().toISOString().substring(0,10)}function EM(e,t=vM){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),nE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),nE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class SM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ab()?ob().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return tE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return tE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function nE(e){return lf(JSON.stringify({version:2,heartbeats:e})).length}function AM(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(e){ki(new ai("platform-logger",t=>new kO(t),"PRIVATE")),ki(new ai("heartbeat",t=>new TM(t),"PRIVATE")),Yn(Jp,Z0,e),Yn(Jp,Z0,"esm2020"),Yn("fire-js","")}bM("");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ar,mb;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,w){function R(){}R.prototype=w.prototype,O.D=w.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(P,x,L){for(var D=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)D[_e-2]=arguments[_e];return w.prototype[x].apply(P,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,w,R){R||(R=0);var P=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)P[x]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(x=0;16>x;++x)P[x]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=O.g[0],R=O.g[1],x=O.g[2];var L=O.g[3],D=w+(L^R&(x^L))+P[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=L+(x^w&(R^x))+P[1]+3905402710&4294967295,L=w+(D<<12&4294967295|D>>>20),D=x+(R^L&(w^R))+P[2]+606105819&4294967295,x=L+(D<<17&4294967295|D>>>15),D=R+(w^x&(L^w))+P[3]+3250441966&4294967295,R=x+(D<<22&4294967295|D>>>10),D=w+(L^R&(x^L))+P[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(x^w&(R^x))+P[5]+1200080426&4294967295,L=w+(D<<12&4294967295|D>>>20),D=x+(R^L&(w^R))+P[6]+2821735955&4294967295,x=L+(D<<17&4294967295|D>>>15),D=R+(w^x&(L^w))+P[7]+4249261313&4294967295,R=x+(D<<22&4294967295|D>>>10),D=w+(L^R&(x^L))+P[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(x^w&(R^x))+P[9]+2336552879&4294967295,L=w+(D<<12&4294967295|D>>>20),D=x+(R^L&(w^R))+P[10]+4294925233&4294967295,x=L+(D<<17&4294967295|D>>>15),D=R+(w^x&(L^w))+P[11]+2304563134&4294967295,R=x+(D<<22&4294967295|D>>>10),D=w+(L^R&(x^L))+P[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(x^w&(R^x))+P[13]+4254626195&4294967295,L=w+(D<<12&4294967295|D>>>20),D=x+(R^L&(w^R))+P[14]+2792965006&4294967295,x=L+(D<<17&4294967295|D>>>15),D=R+(w^x&(L^w))+P[15]+1236535329&4294967295,R=x+(D<<22&4294967295|D>>>10),D=w+(x^L&(R^x))+P[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^x&(w^R))+P[6]+3225465664&4294967295,L=w+(D<<9&4294967295|D>>>23),D=x+(w^R&(L^w))+P[11]+643717713&4294967295,x=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(x^L))+P[0]+3921069994&4294967295,R=x+(D<<20&4294967295|D>>>12),D=w+(x^L&(R^x))+P[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^x&(w^R))+P[10]+38016083&4294967295,L=w+(D<<9&4294967295|D>>>23),D=x+(w^R&(L^w))+P[15]+3634488961&4294967295,x=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(x^L))+P[4]+3889429448&4294967295,R=x+(D<<20&4294967295|D>>>12),D=w+(x^L&(R^x))+P[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^x&(w^R))+P[14]+3275163606&4294967295,L=w+(D<<9&4294967295|D>>>23),D=x+(w^R&(L^w))+P[3]+4107603335&4294967295,x=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(x^L))+P[8]+1163531501&4294967295,R=x+(D<<20&4294967295|D>>>12),D=w+(x^L&(R^x))+P[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^x&(w^R))+P[2]+4243563512&4294967295,L=w+(D<<9&4294967295|D>>>23),D=x+(w^R&(L^w))+P[7]+1735328473&4294967295,x=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(x^L))+P[12]+2368359562&4294967295,R=x+(D<<20&4294967295|D>>>12),D=w+(R^x^L)+P[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^x)+P[8]+2272392833&4294967295,L=w+(D<<11&4294967295|D>>>21),D=x+(L^w^R)+P[11]+1839030562&4294967295,x=L+(D<<16&4294967295|D>>>16),D=R+(x^L^w)+P[14]+4259657740&4294967295,R=x+(D<<23&4294967295|D>>>9),D=w+(R^x^L)+P[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^x)+P[4]+1272893353&4294967295,L=w+(D<<11&4294967295|D>>>21),D=x+(L^w^R)+P[7]+4139469664&4294967295,x=L+(D<<16&4294967295|D>>>16),D=R+(x^L^w)+P[10]+3200236656&4294967295,R=x+(D<<23&4294967295|D>>>9),D=w+(R^x^L)+P[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^x)+P[0]+3936430074&4294967295,L=w+(D<<11&4294967295|D>>>21),D=x+(L^w^R)+P[3]+3572445317&4294967295,x=L+(D<<16&4294967295|D>>>16),D=R+(x^L^w)+P[6]+76029189&4294967295,R=x+(D<<23&4294967295|D>>>9),D=w+(R^x^L)+P[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^x)+P[12]+3873151461&4294967295,L=w+(D<<11&4294967295|D>>>21),D=x+(L^w^R)+P[15]+530742520&4294967295,x=L+(D<<16&4294967295|D>>>16),D=R+(x^L^w)+P[2]+3299628645&4294967295,R=x+(D<<23&4294967295|D>>>9),D=w+(x^(R|~L))+P[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~x))+P[7]+1126891415&4294967295,L=w+(D<<10&4294967295|D>>>22),D=x+(w^(L|~R))+P[14]+2878612391&4294967295,x=L+(D<<15&4294967295|D>>>17),D=R+(L^(x|~w))+P[5]+4237533241&4294967295,R=x+(D<<21&4294967295|D>>>11),D=w+(x^(R|~L))+P[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~x))+P[3]+2399980690&4294967295,L=w+(D<<10&4294967295|D>>>22),D=x+(w^(L|~R))+P[10]+4293915773&4294967295,x=L+(D<<15&4294967295|D>>>17),D=R+(L^(x|~w))+P[1]+2240044497&4294967295,R=x+(D<<21&4294967295|D>>>11),D=w+(x^(R|~L))+P[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~x))+P[15]+4264355552&4294967295,L=w+(D<<10&4294967295|D>>>22),D=x+(w^(L|~R))+P[6]+2734768916&4294967295,x=L+(D<<15&4294967295|D>>>17),D=R+(L^(x|~w))+P[13]+1309151649&4294967295,R=x+(D<<21&4294967295|D>>>11),D=w+(x^(R|~L))+P[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~x))+P[11]+3174756917&4294967295,L=w+(D<<10&4294967295|D>>>22),D=x+(w^(L|~R))+P[2]+718787259&4294967295,x=L+(D<<15&4294967295|D>>>17),D=R+(L^(x|~w))+P[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var R=w-this.blockSize,P=this.B,x=this.h,L=0;L<w;){if(x==0)for(;L<=R;)a(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<w;)if(P[x++]=O.charCodeAt(L++),x==this.blockSize){a(this,P),x=0;break}}else for(;L<w;)if(P[x++]=O[L++],x==this.blockSize){a(this,P),x=0;break}}this.h=x,this.o+=w},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var R=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=R&255,R/=256;for(this.u(O),O=Array(16),w=R=0;4>w;++w)for(var P=0;32>P;P+=8)O[R++]=this.g[w]>>>P&255;return O};function l(O,w){var R=d;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=w(O)}function c(O,w){this.h=w;for(var R=[],P=!0,x=O.length-1;0<=x;x--){var L=O[x]|0;P&&L==w||(R[x]=L,P=!1)}this.g=R}var d={};function m(O){return-128<=O&&128>O?l(O,function(w){return new c([w|0],0>w?-1:0)}):new c([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return B(g(-O));for(var w=[],R=1,P=0;O>=R;P++)w[P]=O/R|0,R*=4294967296;return new c(w,0)}function v(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return B(v(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),P=E,x=0;x<O.length;x+=8){var L=Math.min(8,O.length-x),D=parseInt(O.substring(x,x+L),w);8>L?(L=g(Math.pow(w,L)),P=P.j(L).add(g(D))):(P=P.j(R),P=P.add(g(D)))}return P}var E=m(0),S=m(1),C=m(16777216);e=c.prototype,e.m=function(){if(U(this))return-B(this).m();for(var O=0,w=1,R=0;R<this.g.length;R++){var P=this.i(R);O+=(0<=P?P:4294967296+P)*w,w*=4294967296}return O},e.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N(this))return"0";if(U(this))return"-"+B(this).toString(O);for(var w=g(Math.pow(O,6)),R=this,P="";;){var x=ot(R,w).g;R=K(R,x.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=x,N(R))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},e.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function N(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function U(O){return O.h==-1}e.l=function(O){return O=K(this,O),U(O)?-1:N(O)?0:1};function B(O){for(var w=O.g.length,R=[],P=0;P<w;P++)R[P]=~O.g[P];return new c(R,~O.h).add(S)}e.abs=function(){return U(this)?B(this):this},e.add=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],P=0,x=0;x<=w;x++){var L=P+(this.i(x)&65535)+(O.i(x)&65535),D=(L>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);P=D>>>16,L&=65535,D&=65535,R[x]=D<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function K(O,w){return O.add(B(w))}e.j=function(O){if(N(this)||N(O))return E;if(U(this))return U(O)?B(this).j(B(O)):B(B(this).j(O));if(U(O))return B(this.j(B(O)));if(0>this.l(C)&&0>O.l(C))return g(this.m()*O.m());for(var w=this.g.length+O.g.length,R=[],P=0;P<2*w;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<O.g.length;x++){var L=this.i(P)>>>16,D=this.i(P)&65535,_e=O.i(x)>>>16,ae=O.i(x)&65535;R[2*P+2*x]+=D*ae,$(R,2*P+2*x),R[2*P+2*x+1]+=L*ae,$(R,2*P+2*x+1),R[2*P+2*x+1]+=D*_e,$(R,2*P+2*x+1),R[2*P+2*x+2]+=L*_e,$(R,2*P+2*x+2)}for(P=0;P<w;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=w;P<2*w;P++)R[P]=0;return new c(R,0)};function $(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function Q(O,w){this.g=O,this.h=w}function ot(O,w){if(N(w))throw Error("division by zero");if(N(O))return new Q(E,E);if(U(O))return w=ot(B(O),w),new Q(B(w.g),B(w.h));if(U(w))return w=ot(O,B(w)),new Q(B(w.g),w.h);if(30<O.g.length){if(U(O)||U(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,P=w;0>=P.l(O);)R=nt(R),P=nt(P);var x=ft(R,1),L=ft(P,1);for(P=ft(P,2),R=ft(R,2);!N(P);){var D=L.add(P);0>=D.l(O)&&(x=x.add(R),L=D),P=ft(P,1),R=ft(R,1)}return w=K(O,x.j(w)),new Q(x,w)}for(x=E;0<=O.l(w);){for(R=Math.max(1,Math.floor(O.m()/w.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=g(R),D=L.j(w);U(D)||0<D.l(O);)R-=P,L=g(R),D=L.j(w);N(L)&&(L=S),x=x.add(L),O=K(O,D)}return new Q(x,O)}e.A=function(O){return ot(this,O).h},e.and=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],P=0;P<w;P++)R[P]=this.i(P)&O.i(P);return new c(R,this.h&O.h)},e.or=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],P=0;P<w;P++)R[P]=this.i(P)|O.i(P);return new c(R,this.h|O.h)},e.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],P=0;P<w;P++)R[P]=this.i(P)^O.i(P);return new c(R,this.h^O.h)};function nt(O){for(var w=O.g.length+1,R=[],P=0;P<w;P++)R[P]=O.i(P)<<1|O.i(P-1)>>>31;return new c(R,O.h)}function ft(O,w){var R=w>>5;w%=32;for(var P=O.g.length-R,x=[],L=0;L<P;L++)x[L]=0<w?O.i(L+R)>>>w|O.i(L+R+1)<<32-w:O.i(L+R);return new c(x,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,ar=c}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pb,pu,gb,Gh,ng,yb,vb,_b;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function a(h,y){if(y)t:{var _=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var j=h[b];if(!(j in _))break t;_=_[j]}h=h[h.length-1],b=_[h],y=y(b),y!=b&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,b=!1,j={next:function(){if(!b&&_<h.length){var G=_++;return{value:y(G,h[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),h.apply(y,j)}}return function(){return h.apply(y,arguments)}}function S(h,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function C(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function N(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,j,G){for(var rt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)rt[Lt-2]=arguments[Lt];return y.prototype[j].apply(b,rt)}}function U(h){const y=h.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=h[b];return _}return[]}function B(h,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const j=h.length||0,G=b.length||0;h.length=j+G;for(let rt=0;rt<G;rt++)h[j+rt]=b[rt]}else h.push(b)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ot(h){return ot[" "](h),h}ot[" "]=function(){};var nt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ft(h,y,_){for(const b in h)y.call(_,h[b],b,h)}function O(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function w(h){const y={};for(const _ in h)y[_]=h[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,y){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)h[_]=b[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function x(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function L(h){d.setTimeout(()=>{throw h},0)}function D(){var h=kt;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class _e{constructor(){this.h=this.g=null}add(y,_){const b=ae.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ae=new K(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,kt=new _e,M=()=>{const h=d.Promise.resolve(void 0);it=()=>{h.then(et)}};var et=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(_){L(_)}var y=ae;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ct=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Dt(h,y){if(st.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(nt){t:{try{ot(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:bt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}N(Dt,st);var bt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function ui(h,y,_,b,j){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=j,this.key=++Jt,this.da=this.fa=!1}function Es(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Bi(h){this.src=h,this.g={},this.h=0}Bi.prototype.add=function(h,y,_,b,j){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var rt=Er(h,y,b,j);return-1<rt?(y=h[rt],_||(y.fa=!1)):(y=new ui(y,this.src,G,!!b,j),y.fa=_,h.push(y)),y};function Tr(h,y){var _=y.type;if(_ in h.g){var b=h.g[_],j=Array.prototype.indexOf.call(b,y,void 0),G;(G=0<=j)&&Array.prototype.splice.call(b,j,1),G&&(Es(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Er(h,y,_,b){for(var j=0;j<h.length;++j){var G=h[j];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==b)return j}return-1}var Sr="closure_lm_"+(1e6*Math.random()|0),nl={};function hc(h,y,_,b,j){if(Array.isArray(y)){for(var G=0;G<y.length;G++)hc(h,y[G],_,b,j);return null}return _=fc(_),h&&h[Ne]?h.K(y,_,g(b)?!!b.capture:!1,j):On(h,y,_,!1,b,j)}function On(h,y,_,b,j,G){if(!y)throw Error("Invalid event type");var rt=g(j)?!!j.capture:!!j,Lt=Ca(h);if(Lt||(h[Sr]=Lt=new Bi(h)),_=Lt.add(y,_,b,rt,G),_.proxy)return _;if(b=ud(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)gt||(j=rt),j===void 0&&(j=!1),h.addEventListener(y.toString(),b,j);else if(h.attachEvent)h.attachEvent(Ar(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ud(){function h(_){return y.call(h.src,h.listener,_)}const y=cd;return h}function il(h,y,_,b,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)il(h,y[G],_,b,j);else b=g(b)?!!b.capture:!!b,_=fc(_),h&&h[Ne]?(h=h.i,y=String(y).toString(),y in h.g&&(G=h.g[y],_=Er(G,_,b,j),-1<_&&(Es(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete h.g[y],h.h--)))):h&&(h=Ca(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Er(y,_,b,j)),(_=-1<h?y[h]:null)&&Ia(_))}function Ia(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ne])Tr(y.i,h);else{var _=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(_,b,h.capture):y.detachEvent?y.detachEvent(Ar(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Ca(y))?(Tr(_,h),_.h==0&&(_.src=null,y[Sr]=null)):Es(h)}}}function Ar(h){return h in nl?nl[h]:nl[h]="on"+h}function cd(h,y){if(h.da)h=!0;else{y=new Dt(y,this);var _=h.listener,b=h.ha||h.src;h.fa&&Ia(h),h=_.call(b,y)}return h}function Ca(h){return h=h[Sr],h instanceof Bi?h:null}var sl="__closure_events_fn_"+(1e9*Math.random()>>>0);function fc(h){return typeof h=="function"?h:(h[sl]||(h[sl]=function(y){return h.handleEvent(y)}),h[sl])}function ce(){at.call(this),this.i=new Bi(this),this.M=this,this.F=null}N(ce,at),ce.prototype[Ne]=!0,ce.prototype.removeEventListener=function(h,y,_,b){il(this,h,y,_,b)};function Gt(h,y){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new st(y,h);else if(y instanceof st)y.target=y.target||h;else{var j=y;y=new st(b,h),P(y,j)}if(j=!0,_)for(var G=_.length-1;0<=G;G--){var rt=y.g=_[G];j=Tn(rt,b,!0,y)&&j}if(rt=y.g=h,j=Tn(rt,b,!0,y)&&j,j=Tn(rt,b,!1,y)&&j,_)for(G=0;G<_.length;G++)rt=y.g=_[G],j=Tn(rt,b,!1,y)&&j}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],b=0;b<_.length;b++)Es(_[b]);delete h.g[y],h.h--}}this.F=null},ce.prototype.K=function(h,y,_,b){return this.i.add(String(h),y,!1,_,b)},ce.prototype.L=function(h,y,_,b){return this.i.add(String(h),y,!0,_,b)};function Tn(h,y,_,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,G=0;G<y.length;++G){var rt=y[G];if(rt&&!rt.da&&rt.capture==_){var Lt=rt.listener,Ce=rt.ha||rt.src;rt.fa&&Tr(h.i,rt),j=Lt.call(Ce,b)!==!1&&j}}return j&&!b.defaultPrevented}function Ze(h,y,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function dc(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,dc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class hd extends at{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:dc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(h){at.call(this),this.h=h,this.g={}}N(br,at);var wr=[];function Rr(h){ft(h.g,function(y,_){this.g.hasOwnProperty(_)&&Ia(y)},h),h.g={}}br.prototype.N=function(){br.aa.N.call(this),Rr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,Da=d.JSON.parse,Ir=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function rl(){}rl.prototype.h=null;function al(h){return h.h||(h.h=h.i())}function ol(){}var ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){st.call(this,"d")}N(zi,st);function ll(){st.call(this,"c")}N(ll,st);var ci={},ul=null;function Ss(){return ul=ul||new ce}ci.La="serverreachability";function Oa(h){st.call(this,ci.La,h)}N(Oa,st);function As(h){const y=Ss();Gt(y,new Oa(y))}ci.STAT_EVENT="statevent";function mc(h,y){st.call(this,ci.STAT_EVENT,h),this.stat=y}N(mc,st);function ie(h){const y=Ss();Gt(y,new mc(y,h))}ci.Ma="timingevent";function Ie(h,y){st.call(this,ci.Ma,h),this.size=y}N(Ie,st);function Te(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function cl(h,y,_,b,j,G){h.info(function(){if(h.g)if(G)for(var rt="",Lt=G.split("&"),Ce=0;Ce<Lt.length;Ce++){var Ut=Lt[Ce].split("=");if(1<Ut.length){var Le=Ut[0];Ut=Ut[1];var De=Le.split("_");rt=2<=De.length&&De[1]=="type"?rt+(Le+"="+Ut+"&"):rt+(Le+"=redacted&")}}else rt=null;else rt=G;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+_+`
`+rt})}function fd(h,y,_,b,j,G,rt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+_+`
`+G+" "+rt})}function bs(h,y,_,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Cr(h,_)+(b?" "+b:"")})}function pc(h,y){h.info(function(){return"TIMEOUT: "+y})}Mn.prototype.info=function(){};function Cr(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var rt=1;rt<j.length;rt++)j[rt]=""}}}}return $n(_)}catch{return y}}var ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function fi(){}N(fi,rl),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},hi=new fi;function ln(h,y,_,b){this.j=h,this.i=y,this.l=_,this.R=b||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var hl={},Ma={};function Wn(h,y,_){h.L=1,h.v=Vr(En(y)),h.m=_,h.P=!0,qi(h,null)}function qi(h,y){h.F=Date.now(),Dr(h),h.A=En(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),yl(_.i,"t",b),h.C=0,_=h.j.J,h.h=new me,h.g=Mc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new hd(S(h.Y,h,h.g),h.O)),y=h.U,_=h.g,b=h.ca;var j="readystatechange";Array.isArray(j)||(j&&(wr[0]=j.toString()),j=wr);for(var G=0;G<j.length;G++){var rt=hc(_,j[G],b||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),As(),cl(h.i,h.u,h.A,h.l,h.R,h.m)}ln.prototype.ca=function(h){h=h.target;const y=this.M;y&&Nn(h)==3?y.j():this.Y(h)},ln.prototype.Y=function(h){try{if(h==this.g)t:{const De=Nn(this.g);var y=this.g.Ba();const Wi=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Ac(this.g)))){this.J||De!=4||y==7||(y==8||0>=Wi?As(3):As(2)),Rs(this);var _=this.g.Z();this.X=_;e:if(gc(this)){var b=Ac(this.g);h="";var j=b.length,G=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),di(this);var rt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,h+=this.h.i.decode(b[y],{stream:!(G&&y==j-1)});b.length=0,this.h.g+=h,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,fd(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ce=this.g;if((Lt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Lt)){var Ut=Lt;break e}}Ut=null}if(_=Ut)bs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Or(this,_);else{this.o=!1,this.s=3,ie(12),Fe(this),di(this);break t}}if(this.P){_=!0;let qe;for(;!this.J&&this.C<rt.length;)if(qe=yc(this,rt),qe==Ma){De==4&&(this.s=4,ie(14),_=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==hl){this.s=4,ie(15),bs(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else bs(this.i,this.l,qe,null),Or(this,qe);if(gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||rt.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)bs(this.i,this.l,rt,"[Invalid Chunked Response]"),Fe(this),di(this);else if(0<rt.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),zr(Le),Le.M=!0,ie(11))}}else bs(this.i,this.l,rt,null),Or(this,rt);De==4&&Fe(this),this.o&&!this.J&&(De==4?Cc(this.j,this):(this.o=!1,Dr(this)))}else yd(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Fe(this),di(this)}}}catch{}finally{}};function gc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function yc(h,y){var _=h.C,b=y.indexOf(`
`,_);return b==-1?Ma:(_=Number(y.substring(_,b)),isNaN(_)?hl:(b+=1,b+_>y.length?Ma:(y=y.slice(b,b+_),h.C=b+_,y)))}ln.prototype.cancel=function(){this.J=!0,Fe(this)};function Dr(h){h.S=Date.now()+h.I,vc(h,h.I)}function vc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Te(S(h.ba,h),y)}function Rs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}ln.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(pc(this.i,this.A),this.L!=2&&(As(),ie(17)),Fe(this),this.s=2,di(this)):vc(this,this.S-h)};function di(h){h.j.G==0||h.J||Cc(h.j,h)}function Fe(h){Rs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Rr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Or(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||fl(_.h,h))){if(!h.K&&fl(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)qa(_),za(_);else break t;Sl(_),ie(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Te(S(_.Za,_),6e3));if(1>=Va(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else $i(_,11)}else if((h.K||_.g==h)&&qa(_),!$(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Ut=j[y];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Le=Ut[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const De=Ut[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const Wi=Ut[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(b=1.5*Wi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const qe=h.g;if(qe){const Ti=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var G=b.h;G.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(xa(G,G.h),G.h=null))}if(b.D){const bl=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;bl&&(b.ya=bl,Yt(b.I,b.D,bl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var rt=h;if(b.qa=Oc(b,b.J?b.ia:null,b.W),rt.K){un(b.h,rt);var Lt=rt,Ce=b.L;Ce&&(Lt.I=Ce),Lt.B&&(Rs(Lt),Dr(Lt)),b.g=rt}else Rc(b);0<_.i.length&&Fa(_)}else Ut[0]!="stop"&&Ut[0]!="close"||$i(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?$i(_,7):Tl(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}As(4)}catch{}}var _c=class{constructor(h,y){this.g=h,this.map=y}};function Hi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Va(h){return h.h?1:h.g?h.g.size:0}function fl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function xa(h,y){h.g?h.g.add(y):h.h=y}function un(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Hi.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function dl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return U(h.i)}function dd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],_=h.length,b=0;b<_;b++)y.push(h[b]);return y}y=[],_=0;for(b in h)y[_++]=h[b];return y}function Na(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const b in h)y[_++]=b;return y}}}function ml(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Na(h),b=dd(h),j=b.length,G=0;G<j;G++)y.call(void 0,b[G],_&&_[G],h)}var Mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function md(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),j=null;if(0<=b){var G=h[_].substring(0,b);j=h[_].substring(b+1)}else G=h[_];y(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ee(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ee){this.h=h.h,Pr(this,h.j),this.o=h.o,this.g=h.g,Is(this,h.s),this.l=h.l;var y=h.i,_=new Ki;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Gi(this,_),this.m=h.m}else h&&(y=String(h).match(Mr))?(this.h=!1,Pr(this,y[1]||"",!0),this.o=Pn(y[2]||""),this.g=Pn(y[3]||"",!0),Is(this,y[4]),this.l=Pn(y[5]||"",!0),Gi(this,y[6]||"",!0),this.m=Pn(y[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}Ee.prototype.toString=function(){var h=[],y=this.j;y&&h.push(xr(y,pl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(xr(y,pl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(xr(_,_.charAt(0)=="/"?pd:gl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",xr(_,ka)),h.join("")};function En(h){return new Ee(h)}function Pr(h,y,_){h.j=_?Pn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Is(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Gi(h,y,_){y instanceof Ki?(h.i=y,Ec(h.i,h.h)):(_||(y=xr(y,gd)),h.i=new Ki(y,h.h))}function Yt(h,y,_){h.i.set(y,_)}function Vr(h){return Yt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Pn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xr(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,Tc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var pl=/[#\/\?@]/g,gl=/[#\?:]/g,pd=/[#\?]/g,gd=/[#\?@]/g,ka=/#/g;function Ki(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&md(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}e=Ki.prototype,e.add=function(h,y){Vn(this),this.i=null,h=mi(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Qi(h,y){Vn(h),y=mi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Yi(h,y){return Vn(h),y=mi(h,y),h.g.has(y)}e.forEach=function(h,y){Vn(this),this.g.forEach(function(_,b){_.forEach(function(j){h.call(y,j,b,this)},this)},this)},e.na=function(){Vn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const j=h[b];for(let G=0;G<j.length;G++)_.push(y[b])}return _},e.V=function(h){Vn(this);let y=[];if(typeof h=="string")Yi(this,h)&&(y=y.concat(this.g.get(mi(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},e.set=function(h,y){return Vn(this),this.i=null,h=mi(this,h),Yi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function yl(h,y,_){Qi(h,y),0<_.length&&(h.i=null,h.g.set(mi(h,y),U(_)),h.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const G=encodeURIComponent(String(b)),rt=this.V(b);for(b=0;b<rt.length;b++){var j=G;rt[b]!==""&&(j+="="+encodeURIComponent(String(rt[b]))),h.push(j)}}return this.i=h.join("&")};function mi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ec(h,y){y&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(Qi(this,b),yl(this,j,_))},h)),h.j=y}function Nr(h,y){const _=new Mn;if(d.Image){const b=new Image;b.onload=C(xn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=C(xn,_,"TestLoadImage: error",!1,y,b),b.onabort=C(xn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=C(xn,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Zn(h,y){const _=new Mn,b=new AbortController,j=setTimeout(()=>{b.abort(),xn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(G=>{clearTimeout(j),G.ok?xn(_,"TestPingServer: ok",!0,y):xn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),xn(_,"TestPingServer: error",!1,y)})}function xn(h,y,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function kr(){this.g=new Ir}function pi(h,y,_){const b=_||"";try{ml(h,function(j,G){let rt=j;g(j)&&(rt=$n(j)),y.push(b+G+"="+encodeURIComponent(rt))})}catch(j){throw y.push(b+"type="+encodeURIComponent("_badmap")),j}}function Cs(h){this.l=h.Ub||null,this.j=h.eb||!1}N(Cs,rl),Cs.prototype.g=function(){return new Xi(this.l,this.j)},Cs.prototype.i=function(h){return function(){return h}}({});function Xi(h,y){ce.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Xi,ce),e=Xi.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,yi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?gi(this):yi(this),this.readyState==3&&vl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,gi(this))},e.Qa=function(h){this.g&&(this.response=h,gi(this))},e.ga=function(){this.g&&gi(this)};function gi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,yi(h)}e.setRequestHeader=function(h,y){this.u.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function yi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function _l(h){let y="";return ft(h,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function ke(h,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=_l(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Yt(h,y,_))}function qt(h){ce.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(qt,ce);var La=/^https?$/i,Lr=["POST","PUT"];e=qt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?al(this.o):al(hi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){Sc(this,G);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())_.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),j=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Lr,y,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,rt]of _)this.g.setRequestHeader(G,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ur(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){Sc(this,G)}};function Sc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ua(h),vi(h)}function Ua(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),vi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},e.bb=function(){Ba(this)};function Ba(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Nn(h)!=4||h.Z()!=2)){if(h.u&&Nn(h)==4)Ze(h.Ea,0,h);else if(Gt(h,"readystatechange"),Nn(h)==4){h.h=!1;try{const rt=h.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=rt===0){var j=String(h.D).match(Mr)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),b=!La.test(j?j.toLowerCase():"")}_=b}if(_)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var G=2<Nn(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",Ua(h)}}finally{vi(h)}}}}function vi(h,y){if(h.g){Ur(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Gt(h,"ready");try{_.onreadystatechange=b}catch{}}}function Ur(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Nn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Da(y)}};function Ac(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function yd(h){const y={};h=(h.g&&2<=Nn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if($(h[b]))continue;var _=x(h[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[j]||[];y[j]=G,G.push(_)}O(y,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function ja(h){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,h),this.cb=Br("retryDelaySeedMs",1e4,h),this.Wa=Br("forwardChannelMaxRetries",2,h),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(h&&h.concurrentRequestLimit),this.Da=new kr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ja.prototype,e.la=8,e.G=1,e.connect=function(h,y,_,b){ie(0),this.W=h,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Oc(this,null,this.W),Fa(this)};function Tl(h){if(bc(h),h.G==3){var y=h.U++,_=En(h.I);if(Yt(_,"SID",h.K),Yt(_,"RID",y),Yt(_,"TYPE","terminate"),jr(h,_),y=new ln(h,h.j,y),y.L=2,y.v=Vr(En(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Mc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Dr(y)}Dc(h)}function za(h){h.g&&(zr(h),h.g.cancel(),h.g=null)}function bc(h){za(h),h.u&&(d.clearTimeout(h.u),h.u=null),qa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Fa(h){if(!Pa(h.h)&&!h.s){h.s=!0;var y=h.Ga;it||M(),ct||(it(),ct=!0),kt.add(y,h),h.B=0}}function vd(h,y){return Va(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Te(S(h.Ga,h,y),Al(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const j=new ln(this,this.j,h);let G=this.o;if(this.S&&(G?(G=w(G),P(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=wc(this,j,y),_=En(this.I),Yt(_,"RID",h),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),jr(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(_l(G)))+"&"+y:this.m&&ke(_,this.m,G)),xa(this.h,j),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",y),Yt(_,"SID","null"),j.T=!0,Wn(j,_,null)):Wn(j,_,y),this.G=2}}else this.G==3&&(h?El(this,h):this.i.length==0||Pa(this.h)||El(this))};function El(h,y){var _;y?_=y.l:_=h.U++;const b=En(h.I);Yt(b,"SID",h.K),Yt(b,"RID",_),Yt(b,"AID",h.T),jr(h,b),h.m&&h.o&&ke(b,h.m,h.o),_=new ln(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=wc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),xa(h.h,_),Wn(_,b,y)}function jr(h,y){h.H&&ft(h.H,function(_,b){Yt(y,b,_)}),h.l&&ml({},function(_,b){Yt(y,b,_)})}function wc(h,y,_){_=Math.min(h.i.length,_);var b=h.l?S(h.l.Na,h.l,h):null;t:{var j=h.i;let G=-1;for(;;){const rt=["count="+_];G==-1?0<_?(G=j[0].g,rt.push("ofs="+G)):G=0:rt.push("ofs="+G);let Lt=!0;for(let Ce=0;Ce<_;Ce++){let Ut=j[Ce].g;const Le=j[Ce].map;if(Ut-=G,0>Ut)G=Math.max(0,j[Ce].g-100),Lt=!1;else try{pi(Le,rt,"req"+Ut+"_")}catch{b&&b(Le)}}if(Lt){b=rt.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,b}function Rc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;it||M(),ct||(it(),ct=!0),kt.add(y,h),h.v=0}}function Sl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Te(S(h.Fa,h),Al(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Te(S(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),za(this),Ic(this))};function zr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Ic(h){h.g=new ln(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=En(h.qa);Yt(y,"RID","rpc"),Yt(y,"SID",h.K),Yt(y,"AID",h.T),Yt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Yt(y,"TO",h.ja),Yt(y,"TYPE","xmlhttp"),jr(h,y),h.m&&h.o&&ke(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Vr(En(y)),_.m=null,_.P=!0,qi(_,h)}e.Za=function(){this.C!=null&&(this.C=null,za(this),Sl(this),ie(19))};function qa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Cc(h,y){var _=null;if(h.g==y){qa(h),zr(h),h.g=null;var b=2}else if(fl(h.h,y))_=y.D,un(h.h,y),b=1;else return;if(h.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=h.B;b=Ss(),Gt(b,new Ie(b,_)),Fa(h)}else Rc(h);else if(j=y.s,j==3||j==0&&0<y.X||!(b==1&&vd(h,y)||b==2&&Sl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),j){case 1:$i(h,5);break;case 4:$i(h,10);break;case 3:$i(h,6);break;default:$i(h,2)}}}function Al(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function $i(h,y){if(h.j.info("Error code "+y),y==2){var _=S(h.fb,h),b=h.Xa;const j=!b;b=new Ee(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pr(b,"https"),Vr(b),j?Nr(b.toString(),_):Zn(b.toString(),_)}else ie(2);h.G=0,h.l&&h.l.sa(y),Dc(h),bc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Dc(h){if(h.G=0,h.ka=[],h.l){const y=dl(h.h);(y.length!=0||h.i.length!=0)&&(B(h.ka,y),B(h.ka,h.i),h.h.i.length=0,U(h.i),h.i.length=0),h.l.ra()}}function Oc(h,y,_){var b=_ instanceof Ee?En(_):new Ee(_);if(b.g!="")y&&(b.g=y+"."+b.g),Is(b,b.s);else{var j=d.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var G=new Ee(null);b&&Pr(G,b),y&&(G.g=y),j&&Is(G,j),_&&(G.l=_),b=G}return _=h.D,y=h.ya,_&&y&&Yt(b,_,y),Yt(b,"VER",h.la),jr(h,b),b}function Mc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new qt(new Cs({eb:_})):new qt(h.pa),y.Ha(h.J),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}e=Pc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ha(){}Ha.prototype.g=function(h,y){return new cn(h,y)};function cn(h,y){ce.call(this),this.g=new ja(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!$(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new _i(this)}N(cn,ce),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Tl(this.g)},cn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=$n(h),h=_);y.i.push(new _c(y.Ya++,h)),y.G==3&&Fa(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,cn.aa.N.call(this)};function Vc(h){zi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}N(Vc,zi);function xc(){ll.call(this),this.status=1}N(xc,ll);function _i(h){this.g=h}N(_i,Pc),_i.prototype.ua=function(){Gt(this.g,"a")},_i.prototype.ta=function(h){Gt(this.g,new Vc(h))},_i.prototype.sa=function(h){Gt(this.g,new xc)},_i.prototype.ra=function(){Gt(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,_b=function(){return new Ha},vb=function(){return Ss()},yb=ci,ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,Gh=ws,Fi.COMPLETE="complete",gb=Fi,ol.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",ce.prototype.listen=ce.prototype.K,pu=ol,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,pb=qt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",rE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Uf("@firebase/firestore");function To(){return ma.logLevel}function lt(e,...t){if(ma.logLevel<=Vt.DEBUG){const n=t.map(Xg);ma.debug(`Firestore (${Qo}): ${e}`,...n)}}function gs(e,...t){if(ma.logLevel<=Vt.ERROR){const n=t.map(Xg);ma.error(`Firestore (${Qo}): ${e}`,...n)}}function ko(e,...t){if(ma.logLevel<=Vt.WARN){const n=t.map(Xg);ma.warn(`Firestore (${Qo}): ${e}`,...n)}}function Xg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Tb(e,s,n)}function Tb(e,t,n){let s=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gs(s),new Error(s)}function Ht(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||Tb(t,a,s)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends li{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class RM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IM{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ds,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ds)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new Eb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class CM{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DM{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new CM(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OM{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=l=>{l.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,lt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const a=l=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new aE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new aE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=MM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function xt(e,t){return e<t?-1:e>t?1:0}function ig(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return Ep(a)===Ep(l)?xt(a,l):Ep(a)?1:-1}return xt(e.length,t.length)}const PM=55296,VM=57343;function Ep(e){const t=e.charCodeAt(0);return t>=PM&&t<=VM}function Lo(e,t,n){return e.length===t.length&&e.every((s,a)=>n(s,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="__name__";class Ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Ri.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return xt(t.length,n.length)}static compareSegments(t,n){const s=Ri.isNumericId(t),a=Ri.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):ig(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class ne extends Ri{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new dt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const xM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ri{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return xM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oE}static keyField(){return new $e([oE])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new dt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new dt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new dt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new dt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ne.fromString(t))}static fromName(t){return new yt(ne.fromString(t).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(e,t,n){if(!n)throw new dt(tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function NM(e,t,n,s){if(t===!0&&s===!0)throw new dt(tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function lE(e){if(!yt.isDocumentKey(e))throw new dt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function uE(e){if(yt.isDocumentKey(e))throw new dt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ab(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Wg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et(12329,{type:typeof e})}function pa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wg(e);throw new dt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(e,t){const n={typeString:e};return t&&(n.value=t),n}function Ju(e,t){if(!Ab(e))throw new dt(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new dt(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=-62135596800,hE=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*hE);return new ee(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new dt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<cE)throw new dt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ju(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Re("string",ee._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ee(0,0))}static max(){return new wt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function kM(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new ee(n+1,0):new ee(n,s));return new cr(a,yt.empty(),t)}function LM(e){return new cr(e.readTime,e.key,ku)}class cr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new cr(wt.min(),yt.empty(),ku)}static max(){return new cr(wt.max(),yt.empty(),ku)}}function UM(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:xt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(e){if(e.code!==tt.FAILED_PRECONDITION||e.message!==BM)throw e;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):J.reject(n)}static resolve(t){return new J((n,s)=>{n(t)})}static reject(t){return new J((n,s)=>{s(t)})}static waitFor(t){return new J((n,s)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},m=>s(m))}),c=!0,l===a&&n()})}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next(a=>a?J.resolve(a):s());return n}static forEach(t,n){const s=[];return t.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(t,n){return new J((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(t[g]).next(v=>{c[g]=v,++d,d===l&&s(c)},v=>a(v))}})}static doWhile(t,n){return new J((s,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):s()};l()})}}function zM(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=-1;function jf(e){return e==null}function cf(e){return e===0&&1/e==-1/0}function FM(e){return typeof e=="number"&&Number.isInteger(e)&&!cf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="";function qM(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=fE(t)),t=HM(e.get(n),t);return fE(t)}function HM(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case bb:n+="";break;default:n+=l}}return n}function fE(e){return e+bb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lh(this.root,t,this.comparator,!0)}}class Lh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??Ye.RED,this.left=a??Ye.EMPTY,this.right=l??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new Ye(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Ye.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new mE(this.data.getIterator())}getIteratorFrom(t){return new mE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class mE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new si([])}unionWith(t){let n=new xe($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new si(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Lo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Rb("Invalid base64 string: "+l):l}}(t);return new We(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const GM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(e){if(Ht(!!e,39018),typeof e=="string"){let t=0;const n=GM.exec(e);if(Ht(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(e.seconds),nanos:ve(e.nanos)}}function ve(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function fr(e){return typeof e=="string"?We.fromBase64String(e):We.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="server_timestamp",Cb="__type__",Db="__previous_value__",Ob="__local_write_time__";function Jg(e){return(e?.mapValue?.fields||{})[Cb]?.stringValue===Ib}function zf(e){const t=e.mapValue.fields[Db];return Jg(t)?zf(t):t}function Lu(e){const t=hr(e.mapValue.fields[Ob].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t,n,s,a,l,c,d,m,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const hf="(default)";class Uu{constructor(t,n){this.projectId=t,this.database=n||hf}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===hf}isEqual(t){return t instanceof Uu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="__type__",QM="__max__",Uh={mapValue:{}},Pb="__vector__",ff="value";function dr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jg(e)?4:XM(e)?9007199254740991:YM(e)?10:11:Et(28295,{value:e})}function Li(e,t){if(e===t)return!0;const n=dr(e);if(n!==dr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lu(e).isEqual(Lu(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=hr(a.timestampValue),d=hr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return fr(a.bytesValue).isEqual(fr(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return ve(a.geoPointValue.latitude)===ve(l.geoPointValue.latitude)&&ve(a.geoPointValue.longitude)===ve(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return ve(a.integerValue)===ve(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=ve(a.doubleValue),d=ve(l.doubleValue);return c===d?cf(c)===cf(d):isNaN(c)&&isNaN(d)}return!1}(e,t);case 9:return Lo(e.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(dE(c)!==dE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Li(c[m],d[m])))return!1;return!0}(e,t);default:return Et(52216,{left:e})}}function Bu(e,t){return(e.values||[]).find(n=>Li(n,t))!==void 0}function Uo(e,t){if(e===t)return 0;const n=dr(e),s=dr(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(e.booleanValue,t.booleanValue);case 2:return function(l,c){const d=ve(l.integerValue||l.doubleValue),m=ve(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(e,t);case 3:return pE(e.timestampValue,t.timestampValue);case 4:return pE(Lu(e),Lu(t));case 5:return ig(e.stringValue,t.stringValue);case 6:return function(l,c){const d=fr(l),m=fr(c);return d.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=xt(d[g],m[g]);if(v!==0)return v}return xt(d.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const d=xt(ve(l.latitude),ve(c.latitude));return d!==0?d:xt(ve(l.longitude),ve(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return gE(e.arrayValue,t.arrayValue);case 10:return function(l,c){const d=l.fields||{},m=c.fields||{},g=d[ff]?.arrayValue,v=m[ff]?.arrayValue,E=xt(g?.values?.length||0,v?.values?.length||0);return E!==0?E:gE(g,v)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===Uh.mapValue&&c===Uh.mapValue)return 0;if(l===Uh.mapValue)return 1;if(c===Uh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const S=ig(m[E],v[E]);if(S!==0)return S;const C=Uo(d[m[E]],g[v[E]]);if(C!==0)return C}return xt(m.length,v.length)}(e.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function pE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return xt(e,t);const n=hr(e),s=hr(t),a=xt(n.seconds,s.seconds);return a!==0?a:xt(n.nanos,s.nanos)}function gE(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Uo(n[a],s[a]);if(l)return l}return xt(n.length,s.length)}function Bo(e){return sg(e)}function sg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=hr(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return fr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return yt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=sg(l);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${sg(n.fields[c])}`;return a+"}"}(e.mapValue):Et(61005,{value:e})}function Kh(e){switch(dr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zf(e);return t?16+Kh(t):16;case 5:return 2*e.stringValue.length;case 6:return fr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Kh(l),0)}(e.arrayValue);case 10:case 11:return function(s){let a=0;return Sa(s.fields,(l,c)=>{a+=l.length+Kh(c)}),a}(e.mapValue);default:throw Et(13486,{value:e})}}function rg(e){return!!e&&"integerValue"in e}function ty(e){return!!e&&"arrayValue"in e}function yE(e){return!!e&&"nullValue"in e}function vE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qh(e){return!!e&&"mapValue"in e}function YM(e){return(e?.mapValue?.fields||{})[Mb]?.stringValue===Pb}function Eu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Sa(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Eu(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eu(e.arrayValue.values[n]);return t}return{...e}}function XM(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===QM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.value=t}static empty(){return new Kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Qh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eu(n)}setAll(t){let n=$e.emptyPath(),s={},a=[];t.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Eu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Qh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Sa(n,(a,l)=>t[a]=l);for(const a of s)delete t[a]}clone(){return new Kn(Eu(this.value))}}function Vb(e){const t=[];return Sa(e.fields,(n,s)=>{const a=new $e([n]);if(Qh(s)){const l=Vb(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new si(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,wt.min(),wt.min(),wt.min(),Kn.empty(),0)}static newFoundDocument(t,n,s,a){return new sn(t,1,n,wt.min(),s,a,0)}static newNoDocument(t,n){return new sn(t,2,n,wt.min(),wt.min(),Kn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,wt.min(),wt.min(),Kn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,n){this.position=t,this.inclusive=n}}function _E(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),n.key):s=Uo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function TE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Li(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t,n="asc"){this.field=t,this.dir=n}}function $M(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{}class Pe extends xb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new ZM(t,n,s):n==="array-contains"?new e2(t,s):n==="in"?new n2(t,s):n==="not-in"?new i2(t,s):n==="array-contains-any"?new s2(t,s):new Pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new JM(t,s):new t2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends xb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ui(t,n)}matches(t){return Nb(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Nb(e){return e.op==="and"}function kb(e){return WM(e)&&Nb(e)}function WM(e){for(const t of e.filters)if(t instanceof Ui)return!1;return!0}function ag(e){if(e instanceof Pe)return e.field.canonicalString()+e.op.toString()+Bo(e.value);if(kb(e))return e.filters.map(t=>ag(t)).join(",");{const t=e.filters.map(n=>ag(n)).join(",");return`${e.op}(${t})`}}function Lb(e,t){return e instanceof Pe?function(s,a){return a instanceof Pe&&s.op===a.op&&s.field.isEqual(a.field)&&Li(s.value,a.value)}(e,t):e instanceof Ui?function(s,a){return a instanceof Ui&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&Lb(c,a.filters[d]),!0):!1}(e,t):void Et(19439)}function Ub(e){return e instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(e):e instanceof Ui?function(n){return n.op.toString()+" {"+n.getFilters().map(Ub).join(" ,")+"}"}(e):"Filter"}class ZM extends Pe{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class JM extends Pe{constructor(t,n){super(t,"in",n),this.keys=Bb("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class t2 extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=Bb("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Bb(e,t){return(t.arrayValue?.values||[]).map(n=>yt.fromName(n.referenceValue))}class e2 extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ty(n)&&Bu(n.arrayValue,this.value)}}class n2 extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class i2 extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bu(this.value.arrayValue,n)}}class s2 extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Bu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function EE(e,t=null,n=[],s=[],a=null,l=null,c=null){return new r2(e,t,n,s,a,l,c)}function ey(e){const t=Rt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>ag(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),jf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Bo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Bo(s)).join(",")),t.Te=n}return t.Te}function ny(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$M(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Lb(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!TE(e.startAt,t.startAt)&&TE(e.endAt,t.endAt)}function og(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function a2(e,t,n,s,a,l,c,d){return new Ff(e,t,n,s,a,l,c,d)}function iy(e){return new Ff(e)}function SE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function o2(e){return e.collectionGroup!==null}function Su(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new xe($e.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new mf(l,s))}),n.has($e.keyField().canonicalString())||t.Ie.push(new mf($e.keyField(),s))}return t.Ie}function Ii(e){const t=Rt(e);return t.Ee||(t.Ee=l2(t,Su(e))),t.Ee}function l2(e,t){if(e.limitType==="F")return EE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new mf(a.field,l)});const n=e.endAt?new df(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new df(e.startAt.position,e.startAt.inclusive):null;return EE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function lg(e,t,n){return new Ff(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qf(e,t){return ny(Ii(e),Ii(t))&&e.limitType===t.limitType}function jb(e){return`${ey(Ii(e))}|lt:${e.limitType}`}function Eo(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Ub(a)).join(", ")}]`),jf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Bo(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Bo(a)).join(",")),`Target(${s})`}(Ii(e))}; limitType=${e.limitType})`}function Hf(e,t){return t.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(e,t)&&function(s,a){for(const l of Su(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(s,a){return!(s.startAt&&!function(c,d,m){const g=_E(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,Su(s),a)||s.endAt&&!function(c,d,m){const g=_E(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,Su(s),a))}(e,t)}function u2(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zb(e){return(t,n)=>{let s=!1;for(const a of Su(e)){const l=c2(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function c2(e,t,n){const s=e.field.isKeyField()?yt.comparator(t.key,n.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Uo(m,g):Et(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Sa(this.inner,(n,s)=>{for(const[a,l]of s)t(a,l)})}isEmpty(){return wb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new ue(yt.comparator);function ys(){return h2}const Fb=new ue(yt.comparator);function gu(...e){let t=Fb;for(const n of e)t=t.insert(n.key,n);return t}function qb(e){let t=Fb;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function aa(){return Au()}function Hb(){return Au()}function Au(){return new Aa(e=>e.toString(),(e,t)=>e.isEqual(t))}const f2=new ue(yt.comparator),d2=new xe(yt.comparator);function Nt(...e){let t=d2;for(const n of e)t=t.add(n);return t}const m2=new xe(xt);function p2(){return m2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(t)?"-0":t}}function Gb(e){return{integerValue:""+e}}function g2(e,t){return FM(t)?Gb(t):sy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this._=void 0}}function y2(e,t,n){return e instanceof pf?function(a,l){const c={fields:{[Cb]:{stringValue:Ib},[Ob]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jg(l)&&(l=zf(l)),l&&(c.fields[Db]=l),{mapValue:c}}(n,t):e instanceof ju?Qb(e,t):e instanceof zu?Yb(e,t):function(a,l){const c=Kb(a,l),d=AE(c)+AE(a.Ae);return rg(c)&&rg(a.Ae)?Gb(d):sy(a.serializer,d)}(e,t)}function v2(e,t,n){return e instanceof ju?Qb(e,t):e instanceof zu?Yb(e,t):n}function Kb(e,t){return e instanceof gf?function(s){return rg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class pf extends Gf{}class ju extends Gf{constructor(t){super(),this.elements=t}}function Qb(e,t){const n=Xb(t);for(const s of e.elements)n.some(a=>Li(a,s))||n.push(s);return{arrayValue:{values:n}}}class zu extends Gf{constructor(t){super(),this.elements=t}}function Yb(e,t){let n=Xb(t);for(const s of e.elements)n=n.filter(a=>!Li(a,s));return{arrayValue:{values:n}}}class gf extends Gf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function AE(e){return ve(e.integerValue||e.doubleValue)}function Xb(e){return ty(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function _2(e,t){return e.field.isEqual(t.field)&&function(s,a){return s instanceof ju&&a instanceof ju||s instanceof zu&&a instanceof zu?Lo(s.elements,a.elements,Li):s instanceof gf&&a instanceof gf?Li(s.Ae,a.Ae):s instanceof pf&&a instanceof pf}(e.transform,t.transform)}class T2{constructor(t,n){this.version=t,this.transformResults=n}}class ms{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ms}static exists(t){return new ms(void 0,t)}static updateTime(t){return new ms(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Kf{}function $b(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Zb(e.key,ms.none()):new tc(e.key,e.data,ms.none());{const n=e.data,s=Kn.empty();let a=new xe($e.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ba(e.key,s,new si(a.toArray()),ms.none())}}function E2(e,t,n){e instanceof tc?function(a,l,c){const d=a.value.clone(),m=wE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,n):e instanceof ba?function(a,l,c){if(!Yh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=wE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Wb(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function bu(e,t,n,s){return e instanceof tc?function(l,c,d,m){if(!Yh(l.precondition,c))return d;const g=l.value.clone(),v=RE(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(e,t,n,s):e instanceof ba?function(l,c,d,m){if(!Yh(l.precondition,c))return d;const g=RE(l.fieldTransforms,m,c),v=c.data;return v.setAll(Wb(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(e,t,n,s):function(l,c,d){return Yh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(e,t,n)}function S2(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=Kb(s.transform,a||null);l!=null&&(n===null&&(n=Kn.empty()),n.set(s.field,l))}return n||null}function bE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Lo(s,a,(l,c)=>_2(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tc extends Kf{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ba extends Kf{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Wb(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function wE(e,t,n){const s=new Map;Ht(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,v2(c,d,n[a]))}return s}function RE(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,y2(l,c,t))}return s}class Zb extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A2 extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&E2(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=bu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=bu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Hb();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=$b(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(wt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Lo(this.mutations,t.mutations,(n,s)=>bE(n,s))&&Lo(this.baseMutations,t.baseMutations,(n,s)=>bE(n,s))}}class ry{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=function(){return f2}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new ry(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,jt;function I2(e){switch(e){case tt.OK:return Et(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Et(15467,{code:e})}}function Jb(e){if(e===void 0)return gs("GRPC error has no .code"),tt.UNKNOWN;switch(e){case be.OK:return tt.OK;case be.CANCELLED:return tt.CANCELLED;case be.UNKNOWN:return tt.UNKNOWN;case be.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case be.INTERNAL:return tt.INTERNAL;case be.UNAVAILABLE:return tt.UNAVAILABLE;case be.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case be.NOT_FOUND:return tt.NOT_FOUND;case be.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case be.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case be.ABORTED:return tt.ABORTED;case be.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case be.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case be.DATA_LOSS:return tt.DATA_LOSS;default:return Et(39323,{code:e})}}(jt=be||(be={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new ar([4294967295,4294967295],0);function IE(e){const t=C2().encode(e),n=new mb;return n.update(t),new Uint8Array(n.digest())}function CE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ar([n,s],0),new ar([a,l],0)]}class ay{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(s<0)throw new yu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ar.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(ar.fromNumber(s)));return a.compare(D2)===1&&(a=new ar([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=IE(t),[s,a]=CE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new ay(l,a,n);return s.forEach(d=>c.insert(d)),c}insert(t){if(this.ge===0)return;const n=IE(t),[s,a]=CE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,ec.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Qf(wt.min(),a,new ue(xt),ys(),Nt())}}class ec{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ec(s,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class tw{constructor(t,n){this.targetId=t,this.Ce=n}}class ew{constructor(t,n,s=We.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class DE{constructor(){this.ve=0,this.Fe=OE(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),n=Nt(),s=Nt();return this.Fe.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Et(38017,{changeType:l})}}),new ec(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=OE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class O2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ys(),this.Je=Bh(),this.He=Bh(),this.Ye=new ue(xt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,a)=>{this.rt(a)&&n(a)})}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(og(l))if(s===0){const c=new yt(l.path);this.et(n,c,sn.newNoDocument(c,wt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=fr(s).toUint8Array()}catch(m){if(m instanceof Rb)return ko("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ay(c,a,l)}catch(m){return ko(m instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)}),a}Tt(t){const n=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&og(d.target)){const m=new yt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,sn.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}});let s=Nt();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(t));const a=new Qf(t,n,this.Ye,this.je,s);return this.je=ys(),this.Je=Bh(),this.He=Bh(),this.Ye=new ue(xt),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new DE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new xe(xt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new xe(xt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new DE),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Bh(){return new ue(yt.comparator)}function OE(){return new ue(yt.comparator)}const M2={asc:"ASCENDING",desc:"DESCENDING"},P2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V2={and:"AND",or:"OR"};class x2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ug(e,t){return e.useProto3Json||jf(t)?t:{value:t}}function yf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function N2(e,t){return yf(e,t.toTimestamp())}function Ci(e){return Ht(!!e,49232),wt.fromTimestamp(function(n){const s=hr(n);return new ee(s.seconds,s.nanos)}(e))}function oy(e,t){return cg(e,t).canonicalString()}function cg(e,t){const n=function(a){return new ne(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function iw(e){const t=ne.fromString(e);return Ht(lw(t),10190,{key:t.toString()}),t}function hg(e,t){return oy(e.databaseId,t.path)}function Sp(e,t){const n=iw(t);if(n.get(1)!==e.databaseId.projectId)throw new dt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(rw(n))}function sw(e,t){return oy(e.databaseId,t)}function k2(e){const t=iw(e);return t.length===4?ne.emptyPath():rw(t)}function fg(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rw(e){return Ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function ME(e,t,n){return{name:hg(e,t),fields:n.value.mapValue.fields}}function L2(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Ht(v===void 0||typeof v=="string",58123),We.fromBase64String(v||"")):(Ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),We.fromUint8Array(v||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const v=g.code===void 0?tt.UNKNOWN:Jb(g.code);return new dt(v,g.message||"")}(c);n=new ew(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Sp(e,s.document.name),l=Ci(s.document.updateTime),c=s.document.createTime?Ci(s.document.createTime):wt.min(),d=new Kn({mapValue:{fields:s.document.fields}}),m=sn.newFoundDocument(a,l,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Xh(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Sp(e,s.document),l=s.readTime?Ci(s.readTime):wt.min(),c=sn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Xh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Sp(e,s.document),l=s.removedTargetIds||[];n=new Xh([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new R2(a,l),d=s.targetId;n=new tw(d,c)}}return n}function U2(e,t){let n;if(t instanceof tc)n={update:ME(e,t.key,t.value)};else if(t instanceof Zb)n={delete:hg(e,t.key)};else if(t instanceof ba)n={update:ME(e,t.key,t.data),updateMask:Q2(t.fieldMask)};else{if(!(t instanceof A2))return Et(16599,{Vt:t.type});n={verify:hg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof pf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof gf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Et(20930,{transform:c.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:N2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)}(e,t.precondition)),n}function B2(e,t){return e&&e.length>0?(Ht(t!==void 0,14353),e.map(n=>function(a,l){let c=a.updateTime?Ci(a.updateTime):Ci(l);return c.isEqual(wt.min())&&(c=Ci(l)),new T2(c,a.transformResults||[])}(n,t))):[]}function j2(e,t){return{documents:[sw(e,t.path)]}}function z2(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sw(e,a);const l=function(g){if(g.length!==0)return ow(Ui.create(g,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:So(S.field),direction:H2(S.dir)}}(v))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ug(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:n,parent:a}}function F2(e){let t=k2(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ht(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let l=[];n.where&&(l=function(E){const S=aw(E);return S instanceof Ui&&kb(S)?S.getFilters():[S]}(n.where));let c=[];n.orderBy&&(c=function(E){return E.map(S=>function(N){return new mf(Ao(N.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(n.orderBy));let d=null;n.limit&&(d=function(E){let S;return S=typeof E=="object"?E.value:E,jf(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(E){const S=!!E.before,C=E.values||[];return new df(C,S)}(n.startAt));let g=null;return n.endAt&&(g=function(E){const S=!E.before,C=E.values||[];return new df(C,S)}(n.endAt)),a2(t,a,c,l,d,"F",m,g)}function q2(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function aw(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ao(n.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ao(n.unaryFilter.field);return Pe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ao(n.unaryFilter.field);return Pe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ao(n.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(e):e.fieldFilter!==void 0?function(n){return Pe.create(Ao(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ui.create(n.compositeFilter.filters.map(s=>aw(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(e):Et(30097,{filter:e})}function H2(e){return M2[e]}function G2(e){return P2[e]}function K2(e){return V2[e]}function So(e){return{fieldPath:e.canonicalString()}}function Ao(e){return $e.fromServerFormat(e.fieldPath)}function ow(e){return e instanceof Pe?function(n){if(n.op==="=="){if(vE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(yE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(yE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:G2(n.op),value:n.value}}}(e):e instanceof Ui?function(n){const s=n.getFilters().map(a=>ow(a));return s.length===1?s[0]:{compositeFilter:{op:K2(n.op),filters:s}}}(e):Et(54877,{filter:e})}function Q2(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function lw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t,n,s,a,l=wt.min(),c=wt.min(),d=We.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.yt=t}}function X2(e){const t=F2({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?lg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.Cn=new W2}addToCollectionParentIndex(t,n){return this.Cn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(cr.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class W2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new xe(ne.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new xe(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uw=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(uw,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="LruGarbageCollector",Z2=1048576;function xE([e,t],[n,s]){const a=xt(e,n);return a===0?xt(t,s):a}class J2{constructor(t){this.Ir=t,this.buffer=new xe(xE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tP{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(VE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?lt(VE,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Vr(3e5)})}}class eP{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return J.resolve(Bf.ce);const s=new J2(n);return this.mr.forEachTarget(t,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(PE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PE):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a))).next(E=>(s=E,d=Date.now(),this.removeTargets(t,s,n))).next(E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(E=>(g=Date.now(),To()<=Vt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function nP(e,t){return new eP(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.changes=new Aa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(s!==null&&bu(s.mutation,a,si.empty(),ee.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Nt()){const a=aa();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,s).next(l=>{let c=gu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const s=aa();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Nt()))}populateOverlays(t,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(t,n,s,a){let l=ys();const c=Au(),d=function(){return Au()}();return n.forEach((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof ba)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),bu(v.mutation,g,v.mutation.getFieldMask(),ee.now())):c.set(g.key,si.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),n.forEach((g,v)=>d.set(g,new sP(v,c.get(g)??null))),d))}recalculateAndSaveOverlays(t,n){const s=Au();let a=new ue((c,d)=>c-d),l=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||si.empty();v=d.applyToLocalView(g,v),s.set(m,v);const E=(a.get(d.batchId)||Nt()).add(m);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,E=Hb();v.forEach(S=>{if(!l.has(S)){const C=$b(n.get(S),s.get(S));C!==null&&E.set(S,C),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return J.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,a){return function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):o2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):J.resolve(aa());let d=ku,m=l;return c.next(g=>J.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?J.resolve():this.remoteDocumentCache.getEntry(t,v).next(S=>{m=m.insert(v,S)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,m,g,Nt())).next(v=>({batchId:d,changes:qb(v)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let a=gu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=gu();return this.indexManager.getCollectionParents(t,l).next(d=>J.forEach(d,m=>{const g=function(E,S){return new Ff(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next(v=>{v.forEach((E,S)=>{c=c.insert(E,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))});let d=gu();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&bu(v.mutation,g,si.empty(),ee.now()),Hf(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ci(a.createTime)}}(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(a){return{name:a.name,query:X2(a.bundledQuery),readTime:Ci(a.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.overlays=new ue(yt.comparator),this.qr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=aa();return J.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((a,l)=>{this.St(t,n,l)}),J.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const a=aa(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return J.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new ue((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=aa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=aa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return J.resolve(d)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new w2(n,s));let l=this.qr.get(n);l===void 0&&(l=Nt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.Qr=new xe(ze.$r),this.Ur=new xe(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ze(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new ze(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new yt(new ne([])),s=new ze(n,t),a=new ze(n,t+1),l=[];return this.Ur.forEachInRange([s,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ne([])),s=new ze(n,t),a=new ze(n,t+1);let l=Nt();return this.Ur.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new ze(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||xt(t.Yr,n.Yr)}static Kr(t,n){return xt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xe(ze.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new b2(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new ze(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return J.resolve(c)}lookupMutationBatch(t,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return J.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Zg:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),a=new ze(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],c=>{const d=this.Xr(c.Yr);l.push(d)}),J.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(xt);return n.forEach(a=>{const l=new ze(a,0),c=new ze(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{s=s.add(d.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new ze(new yt(l),0);let d=new xe(xt);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)},c),J.resolve(this.ti(d))}ti(t){const n=[];return t.forEach(s=>{const a=this.Xr(s);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,a=>{const l=new ze(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new ze(n,0),a=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(t){this.ri=t,this.docs=function(){return new ue(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let s=ys();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():sn.newInvalidDocument(a))}),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=ys();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||UM(LM(v),s)<=0||(a.has(v.key)||Hf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return J.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Et(9500)}ii(t,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new hP(this)}getSize(t){return J.resolve(this.size)}}class hP extends iP{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)}),J.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(t){this.persistence=t,this.si=new Aa(n=>ey(n),ny),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new ly,this.targetCount=0,this.ai=jo.ur()}forEachTarget(t,n){return this.si.forEach((s,a)=>n(a)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new jo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.Pr(n),J.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),J.waitFor(l).next(()=>a)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),J.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,n){this.ui={},this.overlays={},this.ci=new Bf(0),this.li=!1,this.li=!0,this.hi=new lP,this.referenceDelegate=t(this),this.Pi=new fP(this),this.indexManager=new $2,this.remoteDocumentCache=function(a){return new cP(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Y2(n),this.Ii=new aP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new oP,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new uP(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const a=new dP(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(t,n){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class dP extends jM{constructor(t){super(),this.currentSequenceNumber=t}}class uy{constructor(t){this.persistence=t,this.Ri=new ly,this.Vi=null}static mi(t){return new uy(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const a=yt.fromPath(s);return this.gi(t,a).next(l=>{l||n.removeEntry(a,wt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class vf{constructor(t,n){this.persistence=t,this.pi=new Aa(s=>qM(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=nP(this,n)}static mi(t,n){return new vf(t,n)}Ei(){}di(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(a=>s+a))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return J.forEach(this.pi,(s,a)=>this.br(t,s,a).next(l=>l?J.resolve():n(a)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,c=>this.br(t,c,n).next(d=>{d||(s++,l.removeEntry(c,wt.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Kh(t.data.value)),n}br(t,n,s){return J.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return J.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=Nt(),a=Nt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new cy(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return rO()?8:zM(an())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(t,n,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new mP;return this.Ss(t,n,c).next(d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)})}).next(()=>l.result)}bs(t,n,s,a){return s.documentReadCount<this.fs?(To()<=Vt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(To()<=Vt.DEBUG&&lt("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(To()<=Vt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(n))):J.resolve())}ys(t,n){if(SE(n))return J.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(t,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=lg(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const c=Nt(...l);return this.ps.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(t,lg(n,null,"F")):this.vs(t,g,n,m)}))})))}ws(t,n,s,a){return SE(n)||a.isEqual(wt.min())?J.resolve(null):this.ps.getDocuments(t,s).next(l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?J.resolve(null):(To()<=Vt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Eo(n)),this.vs(t,c,n,kM(a,ku)).next(d=>d))})}Ds(t,n){let s=new xe(zb(t));return n.forEach((a,l)=>{Hf(t,l)&&(s=s.add(l))}),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return To()<=Vt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(t,n,cr.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="LocalStore",gP=3e8;class yP{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new ue(xt),this.xs=new Aa(l=>ey(l),ny),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function vP(e,t,n,s){return new yP(e,t,n,s)}async function hw(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=Nt();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:c,addedBatchIds:d}))})})}function _P(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const E=g.batch,S=E.keys();let C=J.resolve();return S.forEach(N=>{C=C.next(()=>v.getEntry(m,N)).next(U=>{const B=g.docVersions.get(N);Ht(B!==null,48541),U.version.compareTo(B)<0&&(E.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(m,E))}(n,s,t,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Nt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>n.localDocuments.getDocuments(s,a))})}function fw(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function TP(e,t){const n=Rt(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach((v,E)=>{const S=a.get(E);if(!S)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,E).next(()=>n.Pi.addMatchingKeys(l,v.addedDocuments,E)));let C=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(We.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),a=a.insert(E,C),function(U,B,K){return U.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=gP?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,C,v)&&d.push(n.Pi.updateTargetData(l,C))});let m=ys(),g=Nt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(EP(l,c,t.documentUpdates).next(v=>{m=v.ks,g=v.qs})),!s.isEqual(wt.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next(E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return J.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(n.Ms=a,l))}function EP(e,t,n){let s=Nt(),a=Nt();return n.forEach(l=>s=s.add(l)),t.getEntries(e,s).next(l=>{let c=ys();return n.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):lt(hy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:c,qs:a}})}function SP(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Zg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function AP(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Pi.getTargetData(s,t).next(l=>l?(a=l,J.resolve(a)):n.Pi.allocateTargetId(s).next(c=>(a=new nr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function dg(e,t,n){const s=Rt(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Xo(c))throw c;lt(hy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function NE(e,t,n){const s=Rt(e);let a=wt.min(),l=Nt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const E=Rt(m),S=E.xs.get(v);return S!==void 0?J.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,v)}(s,c,Ii(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:Nt())).next(d=>(bP(s,u2(t),d),{documents:d,Qs:l})))}function bP(e,t,n){let s=e.Os.get(t)||wt.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),e.Os.set(t,s)}class kE{constructor(){this.activeTargetIds=p2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wP{constructor(){this.Mo=new kE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="ConnectivityMonitor";class UE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(LE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(LE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=null;function mg(){return jh===null?jh=function(){return 268435456+Math.round(2147483648*Math.random())}():jh++,"0x"+jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="RestConnection",IP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===hf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=mg(),d=this.zo(t,n.toUriEncodedString());lt(Ap,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),v=Go(g);return this.Jo(t,d,m,s,v).then(E=>(lt(Ap,`Received RPC '${t}' ${c}: `,E),E),E=>{throw ko(Ap,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E})}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),s&&s.headers.forEach((a,l)=>t[l]=a)}zo(t,n){const s=IP[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class OP extends CP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=mg();return new Promise((d,m)=>{const g=new pb;g.setWithCredentials(!0),g.listenOnce(gb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Gh.NO_ERROR:const E=g.getResponseJson();lt(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case Gh.TIMEOUT:lt(en,`RPC '${t}' ${c} timed out`),m(new dt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Gh.HTTP_ERROR:const S=g.getStatus();if(lt(en,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C?.error;if(N&&N.status&&N.message){const U=function(K){const $=K.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf($)>=0?$:tt.UNKNOWN}(N.status);m(new dt(U,N.message))}else m(new dt(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new dt(tt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{lt(en,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(a);lt(en,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",v,s,15)})}T_(t,n,s){const a=mg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=_b(),d=vb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");lt(en,`Creating RPC '${t}' stream ${a}: ${v}`,m);const E=c.createWebChannel(v,m);this.I_(E);let S=!1,C=!1;const N=new DP({Yo:B=>{C?lt(en,`Not sending because RPC '${t}' stream ${a} is closed:`,B):(S||(lt(en,`Opening RPC '${t}' stream ${a} transport.`),E.open(),S=!0),lt(en,`RPC '${t}' stream ${a} sending:`,B),E.send(B))},Zo:()=>E.close()}),U=(B,K,$)=>{B.listen(K,Q=>{try{$(Q)}catch(ot){setTimeout(()=>{throw ot},0)}})};return U(E,pu.EventType.OPEN,()=>{C||(lt(en,`RPC '${t}' stream ${a} transport opened.`),N.o_())}),U(E,pu.EventType.CLOSE,()=>{C||(C=!0,lt(en,`RPC '${t}' stream ${a} transport closed`),N.a_(),this.E_(E))}),U(E,pu.EventType.ERROR,B=>{C||(C=!0,ko(en,`RPC '${t}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),N.a_(new dt(tt.UNAVAILABLE,"The operation could not be completed")))}),U(E,pu.EventType.MESSAGE,B=>{if(!C){const K=B.data[0];Ht(!!K,16349);const $=K,Q=$?.error||$[0]?.error;if(Q){lt(en,`RPC '${t}' stream ${a} received error:`,Q);const ot=Q.status;let nt=function(w){const R=be[w];if(R!==void 0)return Jb(R)}(ot),ft=Q.message;nt===void 0&&(nt=tt.INTERNAL,ft="Unknown error status: "+ot+" with message "+Q.message),C=!0,N.a_(new dt(nt,ft)),E.close()}else lt(en,`RPC '${t}' stream ${a} received:`,K),N.u_(K)}}),U(d,yb.STAT_EVENT,B=>{B.stat===ng.PROXY?lt(en,`RPC '${t}' stream ${a} detected buffering proxy`):B.stat===ng.NOPROXY&&lt(en,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(e){return new x2(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&lt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class mw{constructor(t,n,s,a,l,c,d,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===n&&this.G_(s,a)},s=>{t(()=>{const a=new dt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return lt(BE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(lt(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MP extends mw{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=L2(this.serializer,t),s=function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Ci(c.readTime):wt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=fg(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=og(m)?{documents:j2(l,m)}:{query:z2(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=nw(l,c.resumeToken);const g=ug(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=yf(l,c.snapshotVersion.toTimestamp());const g=ug(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=q2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=fg(this.serializer),n.removeTarget=t,this.q_(n)}}class PP extends mw{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=B2(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=fg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>U2(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{}class xP extends VP{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new dt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(t,cg(n,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new dt(tt.UNKNOWN,l.toString())})}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(t,cg(n,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(tt.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class NP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class kP{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{wa(this)&&(lt(ga,"Restarting streams for network reachability change."),await async function(m){const g=Rt(m);g.Ea.add(4),await nc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Xf(g)}(this))})}),this.Ra=new NP(s,a)}}async function Xf(e){if(wa(e))for(const t of e.da)await t(!0)}async function nc(e){for(const t of e.da)await t(!1)}function pw(e,t){const n=Rt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),py(n)?my(n):$o(n).O_()&&dy(n,t))}function fy(e,t){const n=Rt(e),s=$o(n);n.Ia.delete(t),s.O_()&&gw(n,t),n.Ia.size===0&&(s.O_()?s.L_():wa(n)&&n.Ra.set("Unknown"))}function dy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$o(e).Y_(t)}function gw(e,t){e.Va.Ue(t),$o(e).Z_(t)}function my(e){e.Va=new O2({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),$o(e).start(),e.Ra.ua()}function py(e){return wa(e)&&!$o(e).x_()&&e.Ia.size>0}function wa(e){return Rt(e).Ea.size===0}function yw(e){e.Va=void 0}async function LP(e){e.Ra.set("Online")}async function UP(e){e.Ia.forEach((t,n)=>{dy(e,t)})}async function BP(e,t){yw(e),py(e)?(e.Ra.ha(t),my(e)):e.Ra.set("Unknown")}async function jP(e,t,n){if(e.Ra.set("Online"),t instanceof ew&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))}(e,t)}catch(s){lt(ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await _f(e,s)}else if(t instanceof Xh?e.Va.Ze(t):t instanceof tw?e.Va.st(t):e.Va.tt(t),!n.isEqual(wt.min()))try{const s=await fw(e.localStore);n.compareTo(s)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(We.EMPTY_BYTE_STRING,v.snapshotVersion)),gw(l,m);const E=new nr(v.target,m,g,v.sequenceNumber);dy(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)}catch(s){lt(ga,"Failed to raise snapshot:",s),await _f(e,s)}}async function _f(e,t,n){if(!Xo(t))throw t;e.Ea.add(1),await nc(e),e.Ra.set("Offline"),n||(n=()=>fw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{lt(ga,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Xf(e)})}function vw(e,t){return t().catch(n=>_f(e,n,t))}async function $f(e){const t=Rt(e),n=mr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zg;for(;zP(t);)try{const a=await SP(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,FP(t,a)}catch(a){await _f(t,a)}_w(t)&&Tw(t)}function zP(e){return wa(e)&&e.Ta.length<10}function FP(e,t){e.Ta.push(t);const n=mr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function _w(e){return wa(e)&&!mr(e).x_()&&e.Ta.length>0}function Tw(e){mr(e).start()}async function qP(e){mr(e).ra()}async function HP(e){const t=mr(e);for(const n of e.Ta)t.ea(n.mutations)}async function GP(e,t,n){const s=e.Ta.shift(),a=ry.from(s,t,n);await vw(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await $f(e)}async function KP(e,t){t&&mr(e).X_&&await async function(s,a){if(function(c){return I2(c)&&c!==tt.ABORTED}(a.code)){const l=s.Ta.shift();mr(s).B_(),await vw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await $f(s)}}(e,t),_w(e)&&Tw(e)}async function jE(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),lt(ga,"RemoteStore received new credentials");const s=wa(n);n.Ea.add(3),await nc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Xf(n)}async function QP(e,t){const n=Rt(e);t?(n.Ea.delete(2),await Xf(n)):t||(n.Ea.add(2),await nc(n),n.Ra.set("Unknown"))}function $o(e){return e.ma||(e.ma=function(n,s,a){const l=Rt(n);return l.sa(),new MP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{Xo:LP.bind(null,e),t_:UP.bind(null,e),r_:BP.bind(null,e),H_:jP.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),py(e)?my(e):e.Ra.set("Unknown")):(await e.ma.stop(),yw(e))})),e.ma}function mr(e){return e.fa||(e.fa=function(n,s,a){const l=Rt(n);return l.sa(),new PP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:qP.bind(null,e),r_:KP.bind(null,e),ta:HP.bind(null,e),na:GP.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await $f(e)):(await e.fa.stop(),e.Ta.length>0&&(lt(ga,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new gy(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(e,t){if(gs("AsyncQueue",`${t}: ${e}`),Xo(e))return new dt(tt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(t){return new Mo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=gu(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Mo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.ga=new ue(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class zo{constructor(t,n,s,a,l,c,d,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new zo(t,n,Mo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class XP{constructor(){this.queries=FE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Rt(n),l=a.queries;a.queries=FE(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new dt(tt.ABORTED,"Firestore shutting down"))}}function FE(){return new Aa(e=>jb(e),qf)}async function Ew(e,t){const n=Rt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new YP,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=yy(c,`Initialization of query '${Eo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&vy(n)}async function Sw(e,t){const n=Rt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function $P(e,t){const n=Rt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&vy(n)}function WP(e,t,n){const s=Rt(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function vy(e){e.Ca.forEach(t=>{t.next()})}var pg,qE;(qE=pg||(pg={})).Ma="default",qE.Cache="cache";class Aw{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new zo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t){this.key=t}}class ww{constructor(t){this.key=t}}class ZP{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=zb(t),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new zE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((v,E)=>{const S=a.get(v),C=Hf(this.query,E)?E:null,N=!!S&&this.mutatedKeys.has(S.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let B=!1;S&&C?S.data.isEqual(C.data)?N!==U&&(s.track({type:3,doc:C}),B=!0):this.su(S,C)||(s.track({type:2,doc:C}),B=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(d=!0)):!S&&C?(s.track({type:0,doc:C}),B=!0):S&&!C&&(s.track({type:1,doc:S}),B=!0,(m||g)&&(d=!0)),B&&(C?(c=c.add(C),l=U?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort((v,E)=>function(C,N){const U=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:B})}};return U(C)-U(N)}(v.type,E.type)||this.eu(v.doc,E.doc)),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new zo(this.query,t.tu,l,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Nt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new ww(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new bw(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=Nt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _y="SyncEngine";class JP{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class tV{constructor(t){this.key=t,this.hu=!1}}class eV{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Aa(d=>jb(d),qf),this.Iu=new Map,this.Eu=new Set,this.du=new ue(yt.comparator),this.Au=new Map,this.Ru=new ly,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nV(e,t,n=!0){const s=Mw(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Rw(s,t,n,!0),a}async function iV(e,t){const n=Mw(e);await Rw(n,t,!0,!1)}async function Rw(e,t,n,s){const a=await AP(e.localStore,Ii(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await sV(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&pw(e.remoteStore,a),d}async function sV(e,t,n,s,a){e.pu=(E,S,C)=>async function(U,B,K,$){let Q=B.view.ru(K);Q.Cs&&(Q=await NE(U.localStore,B.query,!1).then(({documents:O})=>B.view.ru(O,Q)));const ot=$&&$.targetChanges.get(B.targetId),nt=$&&$.targetMismatches.get(B.targetId)!=null,ft=B.view.applyChanges(Q,U.isPrimaryClient,ot,nt);return GE(U,B.targetId,ft.au),ft.snapshot}(e,E,S,C);const l=await NE(e.localStore,t,!0),c=new ZP(t,l.Qs),d=c.ru(l.documents),m=ec.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),g=c.applyChanges(d,e.isPrimaryClient,m);GE(e,n,g.au);const v=new JP(t,n,c);return e.Tu.set(t,v),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function rV(e,t,n){const s=Rt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter(c=>!qf(c,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await dg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&fy(s.remoteStore,a.targetId),gg(s,a.targetId)}).catch(Yo)):(gg(s,a.targetId),await dg(s.localStore,a.targetId,!0))}async function aV(e,t){const n=Rt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),fy(n.remoteStore,s.targetId))}async function oV(e,t,n){const s=mV(e);try{const a=await function(c,d){const m=Rt(c),g=ee.now(),v=d.reduce((C,N)=>C.add(N.key),Nt());let E,S;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let N=ys(),U=Nt();return m.Ns.getEntries(C,v).next(B=>{N=B,N.forEach((K,$)=>{$.isValidDocument()||(U=U.add(K))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,N)).next(B=>{E=B;const K=[];for(const $ of d){const Q=S2($,E.get($.key).overlayedDocument);Q!=null&&K.push(new ba($.key,Q,Vb(Q.value.mapValue),ms.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,K,d)}).next(B=>{S=B;const K=B.applyToLocalDocumentSet(E,U);return m.documentOverlayCache.saveOverlays(C,B.batchId,K)})}).then(()=>({batchId:S.batchId,changes:qb(E)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new ue(xt)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g}(s,a.batchId,n),await ic(s,a.changes),await $f(s.remoteStore)}catch(a){const l=yy(a,"Failed to persist write");n.reject(l)}}async function Iw(e,t){const n=Rt(e);try{const s=await TP(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Au.get(l);c&&(Ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ht(c.hu,14607):a.removedDocuments.size>0&&(Ht(c.hu,42227),c.hu=!1))}),await ic(n,s,t)}catch(s){await Yo(s)}}function HE(e,t,n){const s=Rt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Rt(c);m.onlineState=d;let g=!1;m.queries.forEach((v,E)=>{for(const S of E.Sa)S.va(d)&&(g=!0)}),g&&vy(m)}(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function lV(e,t,n){const s=Rt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new ue(yt.comparator);c=c.insert(l,sn.newNoDocument(l,wt.min()));const d=Nt().add(l),m=new Qf(wt.min(),new Map,new ue(xt),c,d);await Iw(s,m),s.du=s.du.remove(l),s.Au.delete(t),Ty(s)}else await dg(s.localStore,t,!1).then(()=>gg(s,t,n)).catch(Yo)}async function uV(e,t){const n=Rt(e),s=t.batch.batchId;try{const a=await _P(n.localStore,t);Dw(n,s,null),Cw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ic(n,a)}catch(a){await Yo(a)}}async function cV(e,t,n){const s=Rt(e);try{const a=await function(c,d){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(E=>(Ht(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(g,E))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,t);Dw(s,t,n),Cw(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await ic(s,a)}catch(a){await Yo(a)}}function Cw(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function Dw(e,t,n){const s=Rt(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function gg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(s=>{e.Ru.containsKey(s)||Ow(e,s)})}function Ow(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(fy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ty(e))}function GE(e,t,n){for(const s of n)s instanceof bw?(e.Ru.addReference(s.key,t),hV(e,s)):s instanceof ww?(lt(_y,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||Ow(e,s.key)):Et(19791,{wu:s})}function hV(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(lt(_y,"New document in limbo: "+n),e.Eu.add(s),Ty(e))}function Ty(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(ne.fromString(t)),s=e.fu.next();e.Au.set(s,new tV(n)),e.du=e.du.insert(n,s),pw(e.remoteStore,new nr(Ii(iy(n.path)),s,"TargetPurposeLimboResolution",Bf.ce))}}async function ic(e,t,n){const s=Rt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((d,m)=>{c.push(s.pu(m,t,n).then(g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=cy.As(m.targetId,g);l.push(v)}}))}),await Promise.all(c),s.Pu.H_(a),await async function(m,g){const v=Rt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>J.forEach(g,S=>J.forEach(S.Es,C=>v.persistence.referenceDelegate.addReference(E,S.targetId,C)).next(()=>J.forEach(S.ds,C=>v.persistence.referenceDelegate.removeReference(E,S.targetId,C)))))}catch(E){if(!Xo(E))throw E;lt(hy,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const C=v.Ms.get(S),N=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(S,U)}}}(s.localStore,l))}async function fV(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){lt(_y,"User change. New user:",t.toKey());const s=await hw(n.localStore,t);n.currentUser=t,function(l,c){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new dt(tt.CANCELLED,c))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ic(n,s.Ls)}}function dV(e,t){const n=Rt(e),s=n.Au.get(t);if(s&&s.hu)return Nt().add(s.key);{let a=Nt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Mw(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Iw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lV.bind(null,t),t.Pu.H_=$P.bind(null,t.eventManager),t.Pu.yu=WP.bind(null,t.eventManager),t}function mV(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cV.bind(null,t),t}class Tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return vP(this.persistence,new pP,t.initialUser,this.serializer)}Cu(t){return new cw(uy.mi,this.serializer)}Du(t){return new wP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tf.provider={build:()=>new Tf};class pV extends Tf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof vf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tP(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new cw(s=>vf.mi(s,n),this.serializer)}}class yg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fV.bind(null,this.syncEngine),await QP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new XP}()}createDatastore(t){const n=Yf(t.databaseInfo.databaseId),s=function(l){return new OP(l)}(t.databaseInfo);return function(l,c,d,m){return new xP(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,a,l,c,d){return new kP(s,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,n=>HE(this.syncEngine,n,0),function(){return UE.v()?new UE:new RP}())}createSyncEngine(t,n){return function(a,l,c,d,m,g,v){const E=new eV(a,l,c,d,m,g);return v&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Rt(n);lt(ga,"RemoteStore shutting down."),s.Ea.add(5),await nc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class gV{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=$g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{lt(pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(lt(pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=yy(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function wp(e,t){e.asyncQueue.verifyOperationInProgress(),lt(pr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async a=>{s.isEqual(a)||(await hw(t.localStore,a),s=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function KE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yV(e);lt(pr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>jE(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,a)=>jE(t.remoteStore,a)),e._onlineComponents=t}async function yV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){lt(pr,"Using user provided OfflineComponentProvider");try{await wp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await wp(e,new Tf)}}else lt(pr,"Using default OfflineComponentProvider"),await wp(e,new pV(void 0));return e._offlineComponents}async function Vw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(lt(pr,"Using user provided OnlineComponentProvider"),await KE(e,e._uninitializedComponentsProvider._online)):(lt(pr,"Using default OnlineComponentProvider"),await KE(e,new yg))),e._onlineComponents}function vV(e){return Vw(e).then(t=>t.syncEngine)}async function xw(e){const t=await Vw(e),n=t.eventManager;return n.onListen=nV.bind(null,t.syncEngine),n.onUnlisten=rV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=iV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=aV.bind(null,t.syncEngine),n}function _V(e,t,n={}){const s=new ds;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new Pw({next:S=>{v.Nu(),c.enqueueAndForget(()=>Sw(l,E));const C=S.docs.has(d);!C&&S.fromCache?g.reject(new dt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&S.fromCache&&m&&m.source==="server"?g.reject(new dt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new Aw(iy(d.path),v,{includeMetadataChanges:!0,qa:!0});return Ew(l,E)}(await xw(e),e.asyncQueue,t,n,s)),s.promise}function TV(e,t,n={}){const s=new ds;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new Pw({next:S=>{v.Nu(),c.enqueueAndForget(()=>Sw(l,E)),S.fromCache&&m.source==="server"?g.reject(new dt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new Aw(d,v,{includeMetadataChanges:!0,qa:!0});return Ew(l,E)}(await xw(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firestore.googleapis.com",YE=!0;class XE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kw,this.ssl=YE}else this.host=t.host,this.ssl=t.ssl??YE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Z2)throw new dt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nw(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wf{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wM;switch(s.type){case"firstParty":return new DM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=QE.get(n);s&&(lt("ComponentProvider","Removing Datastore"),QE.delete(n),s.terminate())}(this),Promise.resolve()}}function EV(e,t,n,s={}){e=pa(e,Wf);const a=Go(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(ib(`https://${d}`),sb("Firestore",!0)),l.host!==kw&&l.host!==d&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!ur(m,c)&&(e._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=nn.MOCK_USER;else{g=WD(s.mockUserToken,e._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new dt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(E)}e._authCredentials=new RM(new Eb(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Zf(this.firestore,t,this._query)}}class Ve{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Ju(n,Ve._jsonSchema))return new Ve(t,s||null,new yt(ne.fromString(n.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Re("string",Ve._jsonSchemaVersion),referencePath:Re("string")};class or extends Zf{constructor(t,n,s){super(t,n,iy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new yt(t))}withConverter(t){return new or(this.firestore,t,this._path)}}function SV(e,t,...n){if(e=on(e),Sb("collection","path",t),e instanceof Wf){const s=ne.fromString(t,...n);return uE(s),new or(e,null,s)}{if(!(e instanceof Ve||e instanceof or))throw new dt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ne.fromString(t,...n));return uE(s),new or(e.firestore,null,s)}}function Ef(e,t,...n){if(e=on(e),arguments.length===1&&(t=$g.newId()),Sb("doc","path",t),e instanceof Wf){const s=ne.fromString(t,...n);return lE(s),new Ve(e,null,new yt(s))}{if(!(e instanceof Ve||e instanceof or))throw new dt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ne.fromString(t,...n));return lE(s),new Ve(e.firestore,e instanceof or?e.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="AsyncQueue";class WE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dw(this,"async_queue_retry"),this._c=()=>{const s=bp();s&&lt($E,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ds;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xo(t))throw t;lt($E,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",ZE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=gy.createAndSchedule(this,t,n,s,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Et(47125,{Pc:ZE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function ZE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Jf extends Wf{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new WE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new WE(t),this._firestoreClient=void 0,await t}}}function AV(e,t){const n=typeof e=="object"?e:Yg(),s=typeof e=="string"?e:hf,a=Ea(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=XD("firestore");l&&EV(a,...l)}return a}function Ey(e){if(e._terminated)throw new dt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||bV(e),e._firestoreClient}function bV(e){const t=e._freezeSettings(),n=function(a,l,c,d){return new KM(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Nw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new gV(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(We.fromBase64String(t))}catch(n){throw new dt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ju(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Re("string",Qn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new dt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new dt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Ju(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Re("string",Di._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ju(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Oi(t.vectorValues);throw new dt(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Re("string",Oi._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=/^__.*__$/;class RV{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ba(t,this.data,this.fieldMask,n,this.fieldTransforms):new tc(t,this.data,n,this.fieldTransforms)}}function Uw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:e})}}class Ay{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ay({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Sf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Uw(this.Ac)&&wV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class IV{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Yf(t)}Cc(t,n,s,a=!1){return new Ay({Ac:t,methodName:n,Dc:s,path:$e.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CV(e){const t=e._freezeSettings(),n=Yf(e._databaseId);return new IV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DV(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);Fw("Data must be an object, but it was:",c,s);const d=jw(s,c);let m,g;if(l.merge)m=new si(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const S=OV(t,E,n);if(!c.contains(S))throw new dt(tt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);PV(v,S)||v.push(S)}m=new si(v),g=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=c.fieldTransforms;return new RV(new Kn(d),m,g)}function Bw(e,t){if(zw(e=on(e)))return Fw("Unsupported field value:",t,e),jw(e,t);if(e instanceof Lw)return function(s,a){if(!Uw(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let m=Bw(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(s,a){if((s=on(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return g2(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ee.fromDate(s);return{timestampValue:yf(a.serializer,l)}}if(s instanceof ee){const l=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yf(a.serializer,l)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:nw(a.serializer,s._byteString)};if(s instanceof Ve){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:oy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Oi)return function(c,d){return{mapValue:{fields:{[Mb]:{stringValue:Pb},[ff]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return sy(d.serializer,g)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${Wg(s)}`)}(e,t)}function jw(e,t){const n={};return wb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sa(e,(s,a)=>{const l=Bw(a,t.mc(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function zw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ee||e instanceof Di||e instanceof Qn||e instanceof Ve||e instanceof Lw||e instanceof Oi)}function Fw(e,t,n){if(!zw(n)||!Ab(n)){const s=Wg(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function OV(e,t,n){if((t=on(t))instanceof Sy)return t._internalPath;if(typeof t=="string")return qw(e,t);throw Sf("Field path arguments must be of type string or ",e,!1,void 0,n)}const MV=new RegExp("[~\\*/\\[\\]]");function qw(e,t,n){if(t.search(MV)>=0)throw Sf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Sy(...t.split("."))._internalPath}catch{throw Sf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Sf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new dt(tt.INVALID_ARGUMENT,d+e+m)}function PV(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Gw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VV extends Hw{data(){return super.data()}}function Gw(e,t){return typeof t=="string"?qw(e,t):t instanceof Sy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new dt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NV{convertValue(t,n="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Sa(t,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(t){const n=t.fields?.[ff].arrayValue?.values?.map(s=>ve(s.doubleValue));return new Oi(n)}convertGeoPoint(t){return new Di(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=zf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Lu(t));default:return null}}convertTimestamp(t){const n=hr(t);return new ee(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Ht(lw(s),9688,{name:t});const a=new Uu(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return a.isEqual(n)||gs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class vu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ca extends Hw{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Gw("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Re("string",ca._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class $h extends ca{data(t={}){return super.data(t)}}class Po{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new vu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new $h(this._firestore,this._userDataWriter,s.key,s,new vu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new $h(a._firestore,a._userDataWriter,d.doc.key,d.doc,new vu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new $h(a._firestore,a._userDataWriter,d.doc.key,d.doc,new vu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:LV(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(e){e=pa(e,Ve);const t=pa(e.firestore,Jf);return _V(Ey(t),e._key).then(n=>zV(t,e,n))}Po._jsonSchemaVersion="firestore/querySnapshot/1.0",Po._jsonSchema={type:Re("string",Po._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class Kw extends NV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}function UV(e){e=pa(e,Zf);const t=pa(e.firestore,Jf),n=Ey(t),s=new Kw(t);return xV(e._query),TV(n,e._query).then(a=>new Po(t,s,e,a))}function BV(e,t,n){e=pa(e,Ve);const s=pa(e.firestore,Jf),a=kV(e.converter,t,n);return jV(s,[DV(CV(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,ms.none())])}function jV(e,t){return function(s,a){const l=new ds;return s.asyncQueue.enqueueAndForget(async()=>oV(await vV(s),a,l)),l.promise}(Ey(e),t)}function zV(e,t,n){const s=n.docs.get(t._key),a=new Kw(e);return new ca(e,a,t._key,s,new vu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){Qo=a})(Ko),ki(new ai("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Jf(new IM(s.getProvider("auth-internal")),new OM(c,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new dt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(g.options.projectId,v)}(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Yn(sE,rE,t),Yn(sE,rE,"esm2020")})();var FV="firebase",qV="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn(FV,qV,"app");const Qw="@firebase/installations",by="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=1e4,Xw=`w:${by}`,$w="FIS_v2",HV="https://firebaseinstallations.googleapis.com/v1",GV=3600*1e3,KV="installations",QV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ya=new Ta(KV,QV,YV);function Ww(e){return e instanceof li&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw({projectId:e}){return`${HV}/projects/${e}/installations`}function Jw(e){return{token:e.token,requestStatus:2,expiresIn:$V(e.expiresIn),creationTime:Date.now()}}async function t1(e,t){const s=(await t.json()).error;return ya.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function e1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function XV(e,{refreshToken:t}){const n=e1(e);return n.append("Authorization",WV(t)),n}async function n1(e){const t=await e();return t.status>=500&&t.status<600?e():t}function $V(e){return Number(e.replace("s","000"))}function WV(e){return`${$w} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const s=Zw(e),a=e1(e),l=t.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:n,authVersion:$w,appId:e.appId,sdkVersion:Xw},d={method:"POST",headers:a,body:JSON.stringify(c)},m=await n1(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:Jw(g.authToken)}}else throw await t1("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=/^[cdef][\w-]{21}$/,vg="";function ex(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=nx(e);return tx.test(n)?n:vg}catch{return vg}}function nx(e){return JV(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Map;function r1(e,t){const n=td(e);a1(n,t),ix(n,t)}function a1(e,t){const n=s1.get(e);if(n)for(const s of n)s(t)}function ix(e,t){const n=sx();n&&n.postMessage({key:e,fid:t}),rx()}let oa=null;function sx(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=e=>{a1(e.data.key,e.data.fid)}),oa}function rx(){s1.size===0&&oa&&(oa.close(),oa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firebase-installations-database",ox=1,va="firebase-installations-store";let Rp=null;function wy(){return Rp||(Rp=cb(ax,ox,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(va)}}})),Rp}async function bf(e,t){const n=td(e),a=(await wy()).transaction(va,"readwrite"),l=a.objectStore(va),c=await l.get(n);return await l.put(t,n),await a.done,(!c||c.fid!==t.fid)&&r1(e,t.fid),t}async function o1(e){const t=td(e),s=(await wy()).transaction(va,"readwrite");await s.objectStore(va).delete(t),await s.done}async function ed(e,t){const n=td(e),a=(await wy()).transaction(va,"readwrite"),l=a.objectStore(va),c=await l.get(n),d=t(c);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&r1(e,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ry(e){let t;const n=await ed(e.appConfig,s=>{const a=lx(s),l=ux(e,a);return t=l.registrationPromise,l.installationEntry});return n.fid===vg?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function lx(e){const t=e||{fid:ex(),registrationStatus:0};return l1(t)}function ux(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ya.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=cx(e,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:hx(e)}:{installationEntry:t}}async function cx(e,t){try{const n=await ZV(e,t);return bf(e.appConfig,n)}catch(n){throw Ww(n)&&n.customData.serverCode===409?await o1(e.appConfig):await bf(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function hx(e){let t=await JE(e.appConfig);for(;t.registrationStatus===1;)await i1(100),t=await JE(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Ry(e);return s||n}return t}function JE(e){return ed(e,t=>{if(!t)throw ya.create("installation-not-found");return l1(t)})}function l1(e){return fx(e)?{fid:e.fid,registrationStatus:0}:e}function fx(e){return e.registrationStatus===1&&e.registrationTime+Yw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx({appConfig:e,heartbeatServiceProvider:t},n){const s=mx(e,n),a=XV(e,n),l=t.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:Xw,appId:e.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},m=await n1(()=>fetch(s,d));if(m.ok){const g=await m.json();return Jw(g)}else throw await t1("Generate Auth Token",m)}function mx(e,{fid:t}){return`${Zw(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(e,t=!1){let n;const s=await ed(e.appConfig,l=>{if(!u1(l))throw ya.create("not-registered");const c=l.authToken;if(!t&&yx(c))return l;if(c.requestStatus===1)return n=px(e,t),l;{if(!navigator.onLine)throw ya.create("app-offline");const d=_x(l);return n=gx(e,d),d}});return n?await n:s.authToken}async function px(e,t){let n=await tS(e.appConfig);for(;n.authToken.requestStatus===1;)await i1(100),n=await tS(e.appConfig);const s=n.authToken;return s.requestStatus===0?Iy(e,t):s}function tS(e){return ed(e,t=>{if(!u1(t))throw ya.create("not-registered");const n=t.authToken;return Tx(n)?{...t,authToken:{requestStatus:0}}:t})}async function gx(e,t){try{const n=await dx(e,t),s={...t,authToken:n};return await bf(e.appConfig,s),n}catch(n){if(Ww(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await o1(e.appConfig);else{const s={...t,authToken:{requestStatus:0}};await bf(e.appConfig,s)}throw n}}function u1(e){return e!==void 0&&e.registrationStatus===2}function yx(e){return e.requestStatus===2&&!vx(e)}function vx(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+GV}function _x(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function Tx(e){return e.requestStatus===1&&e.requestTime+Yw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(e){const t=e,{installationEntry:n,registrationPromise:s}=await Ry(t);return s?s.catch(console.error):Iy(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(e,t=!1){const n=e;return await Ax(n),(await Iy(n,t)).token}async function Ax(e){const{registrationPromise:t}=await Ry(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(e){if(!e||!e.options)throw Ip("App Configuration");if(!e.name)throw Ip("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ip(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Ip(e){return ya.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="installations",wx="installations-internal",Rx=e=>{const t=e.getProvider("app").getImmediate(),n=bx(t),s=Ea(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Ix=e=>{const t=e.getProvider("app").getImmediate(),n=Ea(t,c1).getImmediate();return{getId:()=>Ex(n),getToken:a=>Sx(n,a)}};function Cx(){ki(new ai(c1,Rx,"PUBLIC")),ki(new ai(wx,Ix,"PRIVATE"))}Cx();Yn(Qw,by);Yn(Qw,by,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="analytics",Dx="firebase_id",Ox="origin",Mx=60*1e3,Px="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Uf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dn=new Ta("analytics","Analytics",Vx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(e){if(!e.startsWith(Cy)){const t=Dn.create("invalid-gtag-resource",{gtagURL:e});return _n.warn(t.message),""}return e}function h1(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Nx(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function kx(e,t){const n=Nx("firebase-js-sdk-policy",{createScriptURL:xx}),s=document.createElement("script"),a=`${Cy}?l=${e}&id=${t}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function Lx(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Ux(e,t,n,s,a,l){const c=s[a];try{if(c)await t[c];else{const m=(await h1(n)).find(g=>g.measurementId===a);m&&await t[m.appId]}}catch(d){_n.error(d)}e("config",a,l)}async function Bx(e,t,n,s,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await h1(n);for(const m of c){const g=d.find(E=>E.measurementId===m),v=g&&t[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(t)),await Promise.all(l),e("event",s,a||{})}catch(l){_n.error(l)}}function jx(e,t,n,s){async function a(l,...c){try{if(l==="event"){const[d,m]=c;await Bx(e,t,n,d,m)}else if(l==="config"){const[d,m]=c;await Ux(e,t,n,s,d,m)}else if(l==="consent"){const[d,m]=c;e("consent",d,m)}else if(l==="get"){const[d,m,g]=c;e("get",d,m,g)}else if(l==="set"){const[d]=c;e("set",d)}else e(l,...c)}catch(d){_n.error(d)}}return a}function zx(e,t,n,s,a){let l=function(...c){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=jx(l,e,t,n),{gtagCore:l,wrappedGtag:window[a]}}function Fx(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Cy)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=30,Hx=1e3;class Gx{constructor(t={},n=Hx){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const f1=new Gx;function Kx(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Qx(e){const{appId:t,apiKey:n}=e,s={method:"GET",headers:Kx(n)},a=Px.replace("{app-id}",t),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function Yx(e,t=f1,n){const{appId:s,apiKey:a,measurementId:l}=e.options;if(!s)throw Dn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Dn.create("no-api-key")}const c=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Wx;return setTimeout(async()=>{d.abort()},Mx),d1({appId:s,apiKey:a,measurementId:l},c,d,t)}async function d1(e,{throttleEndTimeMillis:t,backoffCount:n},s,a=f1){const{appId:l,measurementId:c}=e;try{await Xx(s,t)}catch(d){if(c)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await Qx(e);return a.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!$x(m)){if(a.deleteThrottleMetadata(l),c)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:c};throw d}const g=Number(m?.customData?.httpStatus)===503?Y0(n,a.intervalMillis,qx):Y0(n,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(l,v),_n.debug(`Calling attemptFetch again in ${g} millis`),d1(e,v,s,a)}}function Xx(e,t){return new Promise((n,s)=>{const a=Math.max(t-Date.now(),0),l=setTimeout(n,a);e.addEventListener(()=>{clearTimeout(l),s(Dn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function $x(e){if(!(e instanceof li)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Wx{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Zx(e,t,n,s,a){if(a&&a.global){e("event",n,s);return}else{const l=await t,c={...s,send_to:l};e("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(){if(ab())try{await ob()}catch(e){return _n.warn(Dn.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return _n.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tN(e,t,n,s,a,l,c){const d=Yx(e);d.then(S=>{n[S.measurementId]=S.appId,e.options.measurementId&&S.measurementId!==e.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>_n.error(S)),t.push(d);const m=Jx().then(S=>{if(S)return s.getId()}),[g,v]=await Promise.all([d,m]);Fx(l)||kx(l,g.measurementId),a("js",new Date);const E=c?.config??{};return E[Ox]="firebase",E.update=!0,v!=null&&(E[Dx]=v),a("config",g.measurementId,E),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.app=t}_delete(){return delete wu[this.app.options.appId],Promise.resolve()}}let wu={},eS=[];const nS={};let Cp="dataLayer",nN="gtag",iS,m1,sS=!1;function iN(){const e=[];if(rb()&&e.push("This is a browser extension environment."),aO()||e.push("Cookies are not available."),e.length>0){const t=e.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=Dn.create("invalid-analytics-context",{errorInfo:t});_n.warn(n.message)}}function sN(e,t,n){iN();const s=e.options.appId;if(!s)throw Dn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(wu[s]!=null)throw Dn.create("already-exists",{id:s});if(!sS){Lx(Cp);const{wrappedGtag:l,gtagCore:c}=zx(wu,eS,nS,Cp,nN);m1=l,iS=c,sS=!0}return wu[s]=tN(e,eS,nS,t,iS,Cp,n),new eN(e)}function rN(e=Yg()){e=on(e);const t=Ea(e,wf);return t.isInitialized()?t.getImmediate():aN(e)}function aN(e,t={}){const n=Ea(e,wf);if(n.isInitialized()){const a=n.getImmediate();if(ur(t,n.getOptions()))return a;throw Dn.create("already-initialized")}return n.initialize({options:t})}function oN(e,t,n,s){e=on(e),Zx(m1,wu[e.app.options.appId],t,n,s).catch(a=>_n.error(a))}const rS="@firebase/analytics",aS="0.10.18";function lN(){ki(new ai(wf,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return sN(s,a,n)},"PUBLIC")),ki(new ai("analytics-internal",e,"PRIVATE")),Yn(rS,aS),Yn(rS,aS,"esm2020");function e(t){try{const n=t.getProvider(wf).getImmediate();return{logEvent:(s,a,l)=>oN(n,s,a,l)}}catch(n){throw Dn.create("interop-component-reg-failed",{reason:n})}}}lN();function p1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uN=p1,g1=new Ta("auth","Firebase",p1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Uf("@firebase/auth");function cN(e,...t){Rf.logLevel<=Vt.WARN&&Rf.warn(`Auth (${Ko}): ${e}`,...t)}function Wh(e,...t){Rf.logLevel<=Vt.ERROR&&Rf.error(`Auth (${Ko}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(e,...t){throw Dy(e,...t)}function Mi(e,...t){return Dy(e,...t)}function y1(e,t,n){const s={...uN(),[t]:n};return new Ta("auth","Firebase",s).create(t,{appName:e.name})}function lr(e){return y1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return g1.create(e,...t)}function Tt(e,t,...n){if(!e)throw Dy(t,...n)}function hs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Wh(t),new Error(t)}function vs(e,t){e||hs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){return typeof self<"u"&&self.location?.href||""}function hN(){return oS()==="http:"||oS()==="https:"}function oS(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hN()||rb()||"connection"in navigator)?navigator.onLine:!0}function dN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,n){this.shortDelay=t,this.longDelay=n,vs(n>t,"Short delay should be less than long delay!"),this.isMobile=tO()||iO()}get(){return fN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(e,t){vs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gN=new sc(3e4,6e4);function Ra(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function vr(e,t,n,s,a={}){return _1(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=Zu({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...l};return nO()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Go(e.emulatorConfig.host)&&(g.credentials="include"),v1.fetch()(await T1(e,e.config.apiHost,n,d),g)})}async function _1(e,t,n){e._canInitEmulator=!1;const s={...mN,...t};try{const a=new vN(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw zh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw zh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw zh(e,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw y1(e,v,g);oi(e,v)}}catch(a){if(a instanceof li)throw a;oi(e,"network-request-failed",{message:String(a)})}}async function nd(e,t,n,s,a={}){const l=await vr(e,t,n,s,a);return"mfaPendingCredential"in l&&oi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function T1(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?Oy(e.config,a):`${e.config.apiScheme}://${a}`;return pN.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function yN(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),gN.get())})}}function zh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Mi(e,t,s);return a.customData._tokenResponse=n,a}function lS(e){return e!==void 0&&e.enterprise!==void 0}class _N{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return yN(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TN(e,t){return vr(e,"GET","/v2/recaptchaConfig",Ra(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(e,t){return vr(e,"POST","/v1/accounts:delete",t)}async function If(e,t){return vr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function SN(e,t=!1){const n=on(e),s=await n.getIdToken(t),a=My(s);Tt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Ru(Dp(a.auth_time)),issuedAtTime:Ru(Dp(a.iat)),expirationTime:Ru(Dp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Dp(e){return Number(e)*1e3}function My(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const a=JA(n);return a?JSON.parse(a):(Wh("Failed to decode base64 JWT payload"),null)}catch(a){return Wh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function uS(e){const t=My(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof li&&AN(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function AN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(e){const t=e.auth,n=await e.getIdToken(),s=await Fu(e,If(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?E1(a.providerUserInfo):[],c=RN(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Tg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,v)}async function wN(e){const t=on(e);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function RN(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function E1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(e,t){const n=await _1(e,{},async()=>{const s=Zu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await T1(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&Go(e.emulatorConfig.host)&&(m.credentials="include"),v1.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CN(e,t){return vr(e,"POST","/v2/accounts:revokeToken",Ra(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=uS(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await IN(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Vo;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Tt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new bN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Tg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Fu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return SN(this,t)}reload(){return wN(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Cf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(lr(this.auth));const t=await this.getIdToken();return await Fu(this,EN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:C,providerData:N,stsTokenManager:U}=n;Tt(E&&U,t,"internal-error");const B=Vo.fromJSON(this.name,U);Tt(typeof E=="string",t,"internal-error"),$s(s,t.name),$s(a,t.name),Tt(typeof S=="boolean",t,"internal-error"),Tt(typeof C=="boolean",t,"internal-error"),$s(l,t.name),$s(c,t.name),$s(d,t.name),$s(m,t.name),$s(g,t.name),$s(v,t.name);const K=new ri({uid:E,auth:t,email:a,emailVerified:S,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:B,createdAt:g,lastLoginAt:v});return N&&Array.isArray(N)&&(K.providerData=N.map($=>({...$}))),m&&(K._redirectEventId=m),K}static async _fromIdTokenResponse(t,n,s=!1){const a=new Vo;a.updateFromServerResponse(n);const l=new ri({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Cf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Tt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?E1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Vo;d.updateFromIdToken(s);const m=new ri({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Tg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=new Map;function fs(e){vs(e instanceof Function,"Expected a class definition");let t=cS.get(e);return t?(vs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}S1.type="NONE";const hS=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e,t,n){return`firebase:${e}:${t}:${n}`}class xo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Zh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Zh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await If(this.auth,{idToken:t}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new xo(fs(hS),t,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||fs(hS);const c=Zh(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const S=await If(t,{idToken:v}).catch(()=>{});if(!S)break;E=await ri._fromGetAccountInfoResponse(t,S,v)}else E=ri._fromJSON(t,v);g!==l&&(d=E),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new xo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new xo(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(R1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(A1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(C1(t))return"Blackberry";if(D1(t))return"Webos";if(b1(t))return"Safari";if((t.includes("chrome/")||w1(t))&&!t.includes("edge/"))return"Chrome";if(I1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function A1(e=an()){return/firefox\//i.test(e)}function b1(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function w1(e=an()){return/crios\//i.test(e)}function R1(e=an()){return/iemobile/i.test(e)}function I1(e=an()){return/android/i.test(e)}function C1(e=an()){return/blackberry/i.test(e)}function D1(e=an()){return/webos/i.test(e)}function Py(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function DN(e=an()){return Py(e)&&!!window.navigator?.standalone}function ON(){return sO()&&document.documentMode===10}function O1(e=an()){return Py(e)||I1(e)||D1(e)||C1(e)||/windows phone/i.test(e)||R1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(e,t=[]){let n;switch(e){case"Browser":n=fS(an());break;case"Worker":n=`${fS(an())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(e,t={}){return vr(e,"GET","/v2/passwordPolicy",Ra(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=6;class xN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??VN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dS(this),this.idTokenSubscription=new dS(this),this.beforeStateQueue=new MN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=fs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await If(this,{idToken:t}),s=await ri._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(lr(this));const n=t?on(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PN(this),n=new xN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ta("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await CN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&fs(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=M1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&cN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Wo(e){return on(e)}class dS{constructor(t){this.auth=t,this.observer=null,this.addObserver=hO(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kN(e){id=e}function P1(e){return id.loadJS(e)}function LN(){return id.recaptchaEnterpriseScript}function UN(){return id.gapiScript}function BN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class jN{constructor(){this.enterprise=new zN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class zN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const FN="recaptcha-enterprise",V1="NO_RECAPTCHA";class qN{constructor(t){this.type=FN,this.auth=Wo(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{TN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new _N(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;lS(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(V1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&lS(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=LN();m.length!==0&&(m+=d),P1(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function mS(e,t,n,s=!1,a=!1){const l=new qN(e);let c;if(a)c=V1;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function pS(e,t,n,s,a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await mS(e,t,n,n==="getOobCode");return s(e,l)}else return s(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await mS(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e,t){const n=Ea(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ur(l,t??{}))return a;oi(a,"already-initialized")}return n.initialize({options:t})}function GN(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function KN(e,t,n){const s=Wo(e);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=x1(t),{host:c,port:d}=QN(t),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(ur(g,s.config.emulator)&&ur(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Go(c)?(ib(`${l}//${c}${m}`),sb("Auth",!0)):YN()}function x1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function QN(e){const t=x1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:gS(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:gS(c)}}}function gS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function YN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return hs("not implemented")}_getIdTokenResponse(t){return hs("not implemented")}_linkToIdToken(t,n){return hs("not implemented")}_getReauthenticationResolver(t){return hs("not implemented")}}async function XN(e,t){return vr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(e,t){return nd(e,"POST","/v1/accounts:signInWithPassword",Ra(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(e,t){return nd(e,"POST","/v1/accounts:signInWithEmailLink",Ra(e,t))}async function ZN(e,t){return nd(e,"POST","/v1/accounts:signInWithEmailLink",Ra(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Vy{constructor(t,n,s,a=null){super("password",s),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new qu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new qu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pS(t,n,"signInWithPassword",$N);case"emailLink":return WN(t,{email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pS(t,s,"signUpPassword",XN);case"emailLink":return ZN(t,{idToken:n,email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(e,t){return nd(e,"POST","/v1/accounts:signInWithIdp",Ra(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="http://localhost";class _a extends Vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new _a(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new _a(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return No(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,No(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,No(t,n)}buildRequest(){const t={requestUri:JN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ek(e){const t=du(mu(e)).link,n=t?du(mu(t)).deep_link_id:null,s=du(mu(e)).deep_link_id;return(s?du(mu(s)).link:null)||s||n||t||e}class xy{constructor(t){const n=du(mu(t)),s=n.apiKey??null,a=n.oobCode??null,l=tk(n.mode??null);Tt(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=ek(t);try{return new xy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(t,n){return qu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=xy.parseLink(n);return Tt(s,"argument-error"),qu._fromEmailAndCode(t,s.code,s.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends N1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends rc{constructor(){super("facebook.com")}static credential(t){return _a._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return _a._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Js.credential(n,s)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends rc{constructor(){super("github.com")}static credential(t){return _a._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends rc{constructor(){super("twitter.com")}static credential(t,n){return _a._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return er.credential(n,s)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await ri._fromIdTokenResponse(t,s,a),c=yS(s);return new Fo({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=yS(s);return new Fo({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function yS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends li{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Df(t,n,s,a)}}function k1(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(e,l,t,s):l})}async function nk(e,t,n=!1){const s=await Fu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fo._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(e,t,n=!1){const{auth:s}=e;if(ii(s.app))return Promise.reject(lr(s));const a="reauthenticate";try{const l=await Fu(e,k1(s,a,t,e),n);Tt(l.idToken,s,"internal-error");const c=My(l.idToken);Tt(c,s,"internal-error");const{sub:d}=c;return Tt(e.uid===d,s,"user-mismatch"),Fo._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&oi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(e,t,n=!1){if(ii(e.app))return Promise.reject(lr(e));const s="signIn",a=await k1(e,s,t),l=await Fo._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}async function sk(e,t){return L1(Wo(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(e){const t=Wo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function ak(e,t,n){return ii(e.app)?Promise.reject(lr(e)):sk(on(e),Zo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&rk(e),s})}function ok(e,t,n,s){return on(e).onIdTokenChanged(t,n,s)}function lk(e,t,n){return on(e).beforeAuthStateChanged(t,n)}function uk(e,t,n,s){return on(e).onAuthStateChanged(t,n,s)}function vS(e){return on(e).signOut()}const Of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=1e3,hk=10;class B1 extends U1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);ON()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,hk):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},ck)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}B1.type="LOCAL";const fk=B1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends U1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}j1.type="SESSION";const z1=j1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new sd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await dk(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Ny("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function pk(e){Pi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function gk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yk(){return navigator?.serviceWorker?.controller||null}function vk(){return F1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebaseLocalStorageDb",_k=1,Mf="firebaseLocalStorage",H1="fbase_key";class ac{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rd(e,t){return e.transaction([Mf],t?"readwrite":"readonly").objectStore(Mf)}function Tk(){const e=indexedDB.deleteDatabase(q1);return new ac(e).toPromise()}function Eg(){const e=indexedDB.open(q1,_k);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Mf,{keyPath:H1})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Mf)?t(s):(s.close(),await Tk(),t(await Eg()))})})}async function _S(e,t,n){const s=rd(e,!0).put({[H1]:t,value:n});return new ac(s).toPromise()}async function Ek(e,t){const n=rd(e,!1).get(t),s=await new ac(n).toPromise();return s===void 0?null:s.value}function TS(e,t){const n=rd(e,!0).delete(t);return new ac(n).toPromise()}const Sk=800,Ak=3;class G1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Ak)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(vk()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gk(),!this.activeServiceWorker)return;this.sender=new mk(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Eg();return await _S(t,Of,"1"),await TS(t,Of),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_S(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Ek(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>TS(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=rd(a,!1).getAll();return new ac(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G1.type="LOCAL";const bk=G1;new sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(e,t){return t?fs(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends Vy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return No(t,this._buildIdpRequest())}_linkToIdToken(t,n){return No(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return No(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Rk(e){return L1(e.auth,new ky(e),e.bypassAuthState)}function Ik(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),ik(n,new ky(e),e.bypassAuthState)}async function Ck(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),nk(n,new ky(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Rk;case"linkViaPopup":case"linkViaRedirect":return Ck;case"reauthViaPopup":case"reauthViaRedirect":return Ik;default:oi(this.auth,"internal-error")}}resolve(t){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new sc(2e3,1e4);class bo extends K1{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const t=Ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Dk.get())};t()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="pendingRedirect",Jh=new Map;class Mk extends K1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Jh.get(this.auth._key());if(!t){try{const s=await Pk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Jh.set(this.auth._key(),t)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Pk(e,t){const n=Nk(t),s=xk(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function Vk(e,t){Jh.set(e._key(),t)}function xk(e){return fs(e._redirectPersistence)}function Nk(e){return Zh(Ok,e.config.apiKey,e.name)}async function kk(e,t,n=!1){if(ii(e.app))return Promise.reject(lr(e));const s=Wo(e),a=wk(s,t),c=await new Mk(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=600*1e3;class Uk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Bk(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Q1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Lk&&this.cachedEventUids.clear(),this.cachedEventUids.has(ES(t))}saveEventToCache(t){this.cachedEventUids.add(ES(t)),this.lastProcessedEventTime=Date.now()}}function ES(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Q1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function Bk(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(e,t={}){return vr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fk=/^https?/;async function qk(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jk(e);for(const n of t)try{if(Hk(n))return}catch{}oi(e,"unauthorized-domain")}function Hk(e){const t=_g(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!Fk.test(n))return!1;if(zk.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=new sc(3e4,6e4);function SS(){const e=Pi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Kk(e){return new Promise((t,n)=>{function s(){SS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{SS(),n(Mi(e,"network-request-failed"))},timeout:Gk.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const a=BN("iframefcb");return Pi()[a]=()=>{gapi.load?s():n(Mi(e,"network-request-failed"))},P1(`${UN()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw tf=null,t})}let tf=null;function Qk(e){return tf=tf||Kk(e),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new sc(5e3,15e3),Xk="__/auth/iframe",$k="emulator/auth/iframe",Wk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jk(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Oy(t,$k):`https://${e.config.authDomain}/${Xk}`,s={apiKey:t.apiKey,appName:e.name,v:Ko},a=Zk.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Zu(s).slice(1)}`}async function tL(e){const t=await Qk(e),n=Pi().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:Jk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wk,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Mi(e,"network-request-failed"),d=Pi().setTimeout(()=>{l(c)},Yk.get());function m(){Pi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nL=500,iL=600,sL="_blank",rL="http://localhost";class AS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aL(e,t,n,s=nL,a=iL){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...eL,width:s.toString(),height:a.toString(),top:l,left:c},g=an().toLowerCase();n&&(d=w1(g)?sL:n),A1(g)&&(t=t||rL,m.scrollbars="yes");const v=Object.entries(m).reduce((S,[C,N])=>`${S}${C}=${N},`,"");if(DN(g)&&d!=="_self")return oL(t||"",d),new AS(null);const E=window.open(t||"",d,v);Tt(E,e,"popup-blocked");try{E.focus()}catch{}return new AS(E)}function oL(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="__/auth/handler",uL="emulator/auth/handler",cL=encodeURIComponent("fac");async function bS(e,t,n,s,a,l){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Ko,eventId:a};if(t instanceof N1){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",cO(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof rc){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await e._getAppCheckToken(),g=m?`#${cL}=${encodeURIComponent(m)}`:"";return`${hL(e)}?${Zu(d).slice(1)}${g}`}function hL({config:e}){return e.emulator?Oy(e,uL):`https://${e.authDomain}/${lL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class fL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z1,this._completeRedirectFn=kk,this._overrideRedirectResult=Vk}async _openPopup(t,n,s,a){vs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await bS(t,n,s,_g(),a);return aL(t,l,Ny())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await bS(t,n,s,_g(),a);return pk(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(vs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await tL(t),s=new Uk(t);return n.register("authEvent",a=>(Tt(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Op,{type:Op},a=>{const l=a?.[0]?.[Op];l!==void 0&&n(!!l),oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qk(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return O1()||b1()||Py()}}const dL=fL;var wS="@firebase/auth",RS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gL(e){ki(new ai("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M1(e)},g=new NN(s,a,l,m);return GN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ki(new ai("auth-internal",t=>{const n=Wo(t.getProvider("auth").getImmediate());return(s=>new mL(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(wS,RS,pL(e)),Yn(wS,RS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=300,vL=nb("authIdTokenMaxAge")||yL;let IS=null;const _L=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>vL)return;const a=n?.token;IS!==a&&(IS=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function TL(e=Yg()){const t=Ea(e,"auth");if(t.isInitialized())return t.getImmediate();const n=HN(e,{popupRedirectResolver:dL,persistence:[bk,fk,z1]}),s=nb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=_L(l.toString());lk(n,c,()=>c(n.currentUser)),ok(n,d=>c(d))}}const a=tb("auth");return a&&KN(n,`http://${a}`),n}function EL(){return document.getElementsByTagName("head")?.[0]??document}kN({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=Mi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",EL().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gL("Browser");const SL={apiKey:"AIzaSyBCS1fSthBi4KPWrCgHBaWv0F8gWXRomoM",authDomain:"micro-learning-hub.firebaseapp.com",projectId:"micro-learning-hub",storageBucket:"micro-learning-hub.firebasestorage.app",messagingSenderId:"520447284682",appId:"1:520447284682:web:794ed78f0712a3c23c2b33",measurementId:"G-JRPJSGYBYX"},Ly=hb(SL);rN(Ly);const Iu=AV(Ly),wo=TL(Ly),Y1=ut.createContext({});function AL(e){const t=ut.useRef(null);return t.current===null&&(t.current=e()),t.current}const Uy=typeof window<"u",bL=Uy?ut.useLayoutEffect:ut.useEffect,By=ut.createContext(null);function jy(e,t){e.indexOf(t)===-1&&e.push(t)}function zy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const _s=(e,t,n)=>n>t?t:n<e?e:n;let Fy=()=>{};const Ts={},X1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function $1(e){return typeof e=="object"&&e!==null}const W1=e=>/^0[^.\s]+$/u.test(e);function qy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Xn=e=>e,wL=(e,t)=>n=>t(e(n)),oc=(...e)=>e.reduce(wL),Hu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Hy{constructor(){this.subscriptions=[]}add(t){return jy(this.subscriptions,t),()=>zy(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vi=e=>e*1e3,xi=e=>e/1e3;function Z1(e,t){return t?e*(1e3/t):0}const J1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RL=1e-7,IL=12;function CL(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=J1(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>RL&&++d<IL);return c}function lc(e,t,n,s){if(e===t&&n===s)return Xn;const a=l=>CL(l,0,1,e,n);return l=>l===0||l===1?l:J1(a(l),t,s)}const tR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eR=e=>t=>1-e(1-t),nR=lc(.33,1.53,.69,.99),Gy=eR(nR),iR=tR(Gy),sR=e=>(e*=2)<1?.5*Gy(e):.5*(2-Math.pow(2,-10*(e-1))),Ky=e=>1-Math.sin(Math.acos(e)),rR=eR(Ky),aR=tR(Ky),DL=lc(.42,0,1,1),OL=lc(0,0,.58,1),oR=lc(.42,0,.58,1),ML=e=>Array.isArray(e)&&typeof e[0]!="number",lR=e=>Array.isArray(e)&&typeof e[0]=="number",PL={linear:Xn,easeIn:DL,easeInOut:oR,easeOut:OL,circIn:Ky,circInOut:aR,circOut:rR,backIn:Gy,backInOut:iR,backOut:nR,anticipate:sR},VL=e=>typeof e=="string",CS=e=>{if(lR(e)){Fy(e.length===4);const[t,n,s,a]=e;return lc(t,n,s,a)}else if(VL(e))return PL[e];return e},Fh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xL(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(g.schedule(v),e()),v(d)}const g={schedule:(v,E=!1,S=!1)=>{const N=S&&a?n:s;return E&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const NL=40;function uR(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Fh.reduce((Q,ot)=>(Q[ot]=xL(l),Q),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:E,preRender:S,render:C,postRender:N}=c,U=()=>{const Q=Ts.useManualTiming?a.timestamp:performance.now();n=!1,Ts.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Q-a.timestamp,NL),1)),a.timestamp=Q,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),v.process(a),E.process(a),S.process(a),C.process(a),N.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(U))},B=()=>{n=!0,s=!0,a.isProcessing||e(U)};return{schedule:Fh.reduce((Q,ot)=>{const nt=c[ot];return Q[ot]=(ft,O=!1,w=!1)=>(n||B(),nt.schedule(ft,O,w)),Q},{}),cancel:Q=>{for(let ot=0;ot<Fh.length;ot++)c[Fh[ot]].cancel(Q)},state:a,steps:c}}const{schedule:re,cancel:gr,state:Qe,steps:Mp}=uR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let ef;function kL(){ef=void 0}const vn={now:()=>(ef===void 0&&vn.set(Qe.isProcessing||Ts.useManualTiming?Qe.timestamp:performance.now()),ef),set:e=>{ef=e,queueMicrotask(kL)}},cR=e=>t=>typeof t=="string"&&t.startsWith(e),Qy=cR("--"),LL=cR("var(--"),Yy=e=>LL(e)?UL.test(e.split("/*")[0].trim()):!1,UL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gu={...Jo,transform:e=>_s(0,1,e)},qh={...Jo,default:1},Cu=e=>Math.round(e*1e5)/1e5,Xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BL(e){return e==null}const jL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$y=(e,t)=>n=>!!(typeof n=="string"&&jL.test(n)&&n.startsWith(e)||t&&!BL(n)&&Object.prototype.hasOwnProperty.call(n,t)),hR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Xy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},zL=e=>_s(0,255,e),Pp={...Jo,transform:e=>Math.round(zL(e))},la={test:$y("rgb","red"),parse:hR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Pp.transform(e)+", "+Pp.transform(t)+", "+Pp.transform(n)+", "+Cu(Gu.transform(s))+")"};function FL(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Sg={test:$y("#"),parse:FL,transform:la.transform},uc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ws=uc("deg"),Ni=uc("%"),At=uc("px"),qL=uc("vh"),HL=uc("vw"),DS={...Ni,parse:e=>Ni.parse(e)/100,transform:e=>Ni.transform(e*100)},Ro={test:$y("hsl","hue"),parse:hR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ni.transform(Cu(t))+", "+Ni.transform(Cu(n))+", "+Cu(Gu.transform(s))+")"},we={test:e=>la.test(e)||Sg.test(e)||Ro.test(e),parse:e=>la.test(e)?la.parse(e):Ro.test(e)?Ro.parse(e):Sg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?la.transform(e):Ro.transform(e),getAnimatableNone:e=>{const t=we.parse(e);return t.alpha=0,we.transform(t)}},GL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KL(e){return isNaN(e)&&typeof e=="string"&&(e.match(Xy)?.length||0)+(e.match(GL)?.length||0)>0}const fR="number",dR="color",QL="var",YL="var(",OS="${}",XL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ku(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(XL,m=>(we.test(m)?(s.color.push(l),a.push(dR),n.push(we.parse(m))):m.startsWith(YL)?(s.var.push(l),a.push(QL),n.push(m)):(s.number.push(l),a.push(fR),n.push(parseFloat(m))),++l,OS)).split(OS);return{values:n,split:d,indexes:s,types:a}}function mR(e){return Ku(e).values}function pR(e){const{split:t,types:n}=Ku(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===fR?l+=Cu(a[c]):d===dR?l+=we.transform(a[c]):l+=a[c]}return l}}const $L=e=>typeof e=="number"?0:we.test(e)?we.getAnimatableNone(e):e;function WL(e){const t=mR(e);return pR(e)(t.map($L))}const yr={test:KL,parse:mR,createTransformer:pR,getAnimatableNone:WL};function Vp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ZL({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Vp(m,d,e+1/3),l=Vp(m,d,e),c=Vp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Pf(e,t){return n=>n>0?t:e}const le=(e,t,n)=>e+(t-e)*n,xp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},JL=[Sg,la,Ro],t4=e=>JL.find(t=>t.test(e));function MS(e){const t=t4(e);if(!t)return!1;let n=t.parse(e);return t===Ro&&(n=ZL(n)),n}const PS=(e,t)=>{const n=MS(e),s=MS(t);if(!n||!s)return Pf(e,t);const a={...n};return l=>(a.red=xp(n.red,s.red,l),a.green=xp(n.green,s.green,l),a.blue=xp(n.blue,s.blue,l),a.alpha=le(n.alpha,s.alpha,l),la.transform(a))},Ag=new Set(["none","hidden"]);function e4(e,t){return Ag.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function n4(e,t){return n=>le(e,t,n)}function Wy(e){return typeof e=="number"?n4:typeof e=="string"?Yy(e)?Pf:we.test(e)?PS:r4:Array.isArray(e)?gR:typeof e=="object"?we.test(e)?PS:i4:Pf}function gR(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Wy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function i4(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Wy(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function s4(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const r4=(e,t)=>{const n=yr.createTransformer(t),s=Ku(e),a=Ku(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Ag.has(e)&&!a.values.length||Ag.has(t)&&!s.values.length?e4(e,t):oc(gR(s4(s,a),a.values),n):Pf(e,t)};function yR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):Wy(e)(e,t)}const a4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>re.update(t,n),stop:()=>gr(t),now:()=>Qe.isProcessing?Qe.timestamp:vn.now()}},vR=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Vf=2e4;function Zy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Vf;)t+=n,s=e.next(t);return t>=Vf?1/0:t}function o4(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Zy(s),Vf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:xi(a)}}const l4=5;function _R(e,t,n){const s=Math.max(t-l4,0);return Z1(n-e(s),t-s)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Np=.001;function u4({duration:e=de.duration,bounce:t=de.bounce,velocity:n=de.velocity,mass:s=de.mass}){let a,l,c=1-t;c=_s(de.minDamping,de.maxDamping,c),e=_s(de.minDuration,de.maxDuration,xi(e)),c<1?(a=g=>{const v=g*c,E=v*e,S=v-n,C=bg(g,c),N=Math.exp(-E);return Np-S/C*N},l=g=>{const E=g*c*e,S=E*n+n,C=Math.pow(c,2)*Math.pow(g,2)*e,N=Math.exp(-E),U=bg(Math.pow(g,2),c);return(-a(g)+Np>0?-1:1)*((S-C)*N)/U}):(a=g=>{const v=Math.exp(-g*e),E=(g-n)*e+1;return-Np+v*E},l=g=>{const v=Math.exp(-g*e),E=(n-g)*(e*e);return v*E});const d=5/e,m=h4(a,l,d);if(e=Vi(e),isNaN(m))return{stiffness:de.stiffness,damping:de.damping,duration:e};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const c4=12;function h4(e,t,n){let s=n;for(let a=1;a<c4;a++)s=s-e(s)/t(s);return s}function bg(e,t){return e*Math.sqrt(1-t*t)}const f4=["duration","bounce"],d4=["stiffness","damping","mass"];function VS(e,t){return t.some(n=>e[n]!==void 0)}function m4(e){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...e};if(!VS(e,d4)&&VS(e,f4))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*_s(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:de.mass,stiffness:a,damping:l}}else{const n=u4(e);t={...t,...n,mass:de.mass},t.isResolvedFromDuration=!0}return t}function xf(e=de.visualDuration,t=de.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:E,velocity:S,isResolvedFromDuration:C}=m4({...n,velocity:-xi(n.velocity||0)}),N=S||0,U=g/(2*Math.sqrt(m*v)),B=c-l,K=xi(Math.sqrt(m/v)),$=Math.abs(B)<5;s||(s=$?de.restSpeed.granular:de.restSpeed.default),a||(a=$?de.restDelta.granular:de.restDelta.default);let Q;if(U<1){const nt=bg(K,U);Q=ft=>{const O=Math.exp(-U*K*ft);return c-O*((N+U*K*B)/nt*Math.sin(nt*ft)+B*Math.cos(nt*ft))}}else if(U===1)Q=nt=>c-Math.exp(-K*nt)*(B+(N+K*B)*nt);else{const nt=K*Math.sqrt(U*U-1);Q=ft=>{const O=Math.exp(-U*K*ft),w=Math.min(nt*ft,300);return c-O*((N+U*K*B)*Math.sinh(w)+nt*B*Math.cosh(w))/nt}}const ot={calculatedDuration:C&&E||null,next:nt=>{const ft=Q(nt);if(C)d.done=nt>=E;else{let O=nt===0?N:0;U<1&&(O=nt===0?Vi(N):_R(Q,nt,ft));const w=Math.abs(O)<=s,R=Math.abs(c-ft)<=a;d.done=w&&R}return d.value=d.done?c:ft,d},toString:()=>{const nt=Math.min(Zy(ot),Vf),ft=vR(O=>ot.next(nt*O).value,nt,30);return nt+"ms "+ft},toTransition:()=>{}};return ot}xf.applyToOptions=e=>{const t=o4(e,100,xf);return e.ease=t.ease,e.duration=Vi(t.duration),e.type="keyframes",e};function wg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:v}){const E=e[0],S={done:!1,value:E},C=w=>d!==void 0&&w<d||m!==void 0&&w>m,N=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let U=n*t;const B=E+U,K=c===void 0?B:c(B);K!==B&&(U=K-E);const $=w=>-U*Math.exp(-w/s),Q=w=>K+$(w),ot=w=>{const R=$(w),P=Q(w);S.done=Math.abs(R)<=g,S.value=S.done?K:P};let nt,ft;const O=w=>{C(S.value)&&(nt=w,ft=xf({keyframes:[S.value,N(S.value)],velocity:_R(Q,w,S.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return O(0),{calculatedDuration:null,next:w=>{let R=!1;return!ft&&nt===void 0&&(R=!0,ot(w),O(w)),nt!==void 0&&w>=nt?ft.next(w-nt):(!R&&ot(w),S)}}}function p4(e,t,n){const s=[],a=n||Ts.mix||yR,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Xn:t;d=oc(m,d)}s.push(d)}return s}function g4(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(Fy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=p4(t,s,a),m=d.length,g=v=>{if(c&&v<e[0])return t[0];let E=0;if(m>1)for(;E<e.length-2&&!(v<e[E+1]);E++);const S=Hu(e[E],e[E+1],v);return d[E](S)};return n?v=>g(_s(e[0],e[l-1],v)):g}function y4(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Hu(0,t,s);e.push(le(n,1,a))}}function v4(e){const t=[0];return y4(t,e.length-1),t}function _4(e,t){return e.map(n=>n*t)}function T4(e,t){return e.map(()=>t||oR).splice(0,e.length-1)}function Du({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=ML(s)?s.map(CS):CS(s),l={done:!1,value:t[0]},c=_4(n&&n.length===t.length?n:v4(t),e),d=g4(c,t,{ease:Array.isArray(a)?a:T4(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const E4=e=>e!==null;function Jy(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(E4),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const S4={decay:wg,inertia:wg,tween:Du,keyframes:Du,spring:xf};function TR(e){typeof e.type=="string"&&(e.type=S4[e.type])}class tv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const A4=e=>e/100;class ev extends tv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;TR(t);const{type:n=Du,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Du;m!==Du&&typeof d[0]!="number"&&(this.mixKeyframes=oc(A4,yR(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Zy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:S,repeatDelay:C,type:N,onUpdate:U,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const K=this.currentTime-g*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?K<0:K>a;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Q=this.currentTime,ot=s;if(E){const w=Math.min(this.currentTime,a)/d;let R=Math.floor(w),P=w%1;!P&&w>=1&&(P=1),P===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(S==="reverse"?(P=1-P,C&&(P-=C/d)):S==="mirror"&&(ot=c)),Q=_s(0,1,P)*d}const nt=$?{done:!1,value:v[0]}:ot.next(Q);l&&(nt.value=l(nt.value));let{done:ft}=nt;!$&&m!==null&&(ft=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ft);return O&&N!==wg&&(nt.value=Jy(v,this.options,B,this.speed)),U&&U(nt.value),O&&this.finish(),nt}then(t,n){return this.finished.then(t,n)}get duration(){return xi(this.calculatedDuration)}get time(){return xi(this.currentTime)}set time(t){t=Vi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=a4,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function b4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ua=e=>e*180/Math.PI,Rg=e=>{const t=ua(Math.atan2(e[1],e[0]));return Ig(t)},w4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Rg,rotateZ:Rg,skewX:e=>ua(Math.atan(e[1])),skewY:e=>ua(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ig=e=>(e=e%360,e<0&&(e+=360),e),xS=Rg,NS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),kS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),R4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NS,scaleY:kS,scale:e=>(NS(e)+kS(e))/2,rotateX:e=>Ig(ua(Math.atan2(e[6],e[5]))),rotateY:e=>Ig(ua(Math.atan2(-e[2],e[0]))),rotateZ:xS,rotate:xS,skewX:e=>ua(Math.atan(e[4])),skewY:e=>ua(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Cg(e){return e.includes("scale")?1:0}function Dg(e,t){if(!e||e==="none")return Cg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=R4,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=w4,a=d}if(!a)return Cg(t);const l=s[t],c=a[1].split(",").map(C4);return typeof l=="function"?l(c):c[l]}const I4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Dg(n,t)};function C4(e){return parseFloat(e.trim())}const tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],el=new Set(tl),LS=e=>e===Jo||e===At,D4=new Set(["x","y","z"]),O4=tl.filter(e=>!D4.has(e));function M4(e){const t=[];return O4.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ha={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Dg(t,"x"),y:(e,{transform:t})=>Dg(t,"y")};ha.translateX=ha.x;ha.translateY=ha.y;const fa=new Set;let Og=!1,Mg=!1,Pg=!1;function ER(){if(Mg){const e=Array.from(fa).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=M4(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Mg=!1,Og=!1,fa.forEach(e=>e.complete(Pg)),fa.clear()}function SR(){fa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mg=!0)})}function P4(){Pg=!0,SR(),ER(),Pg=!1}class nv{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(fa.add(this),Og||(Og=!0,re.read(SR),re.resolveKeyframes(ER))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}b4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fa.delete(this)}cancel(){this.state==="scheduled"&&(fa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const V4=e=>e.startsWith("--");function x4(e,t,n){V4(t)?e.style.setProperty(t,n):e.style[t]=n}const N4=qy(()=>window.ScrollTimeline!==void 0),k4={};function L4(e,t){const n=qy(e);return()=>k4[t]??n()}const AR=L4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_u=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,US={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_u([0,.65,.55,1]),circOut:_u([.55,0,1,.45]),backIn:_u([.31,.01,.66,-.59]),backOut:_u([.33,1.53,.69,.99])};function bR(e,t){if(e)return typeof e=="function"?AR()?vR(e,t):"ease-out":lR(e)?_u(e):Array.isArray(e)?e.map(n=>bR(n,t)||US.easeOut):US[e]}function U4(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[t]:n};m&&(v.offset=m);const E=bR(d,a);Array.isArray(E)&&(v.easing=E);const S={delay:s,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(v,S)}function wR(e){return typeof e=="function"&&"applyToOptions"in e}function B4({type:e,...t}){return wR(e)&&AR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class j4 extends tv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Fy(typeof t.type!="string");const g=B4(t);this.animation=U4(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Jy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):x4(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return xi(Number(t))}get time(){return xi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&N4()?(this.animation.timeline=t,Xn):n(this)}}const RR={anticipate:sR,backInOut:iR,circInOut:aR};function z4(e){return e in RR}function F4(e){typeof e.ease=="string"&&z4(e.ease)&&(e.ease=RR[e.ease])}const BS=10;class q4 extends j4{constructor(t){F4(t),TR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new ev({...c,autoplay:!1}),m=Vi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-BS).value,d.sample(m).value,BS),d.stop()}}const jS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(yr.test(e)||e==="0")&&!e.startsWith("url("));function H4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function G4(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=jS(a,t),d=jS(l,t);return!c||!d?!1:H4(e)||(n==="spring"||wR(n))&&s}const K4=new Set(["opacity","clipPath","filter","transform"]),Q4=qy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y4(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return Q4()&&n&&K4.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const X4=40;class $4 extends tv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vn.now();const S={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:v,...E},C=v?.KeyframeResolver||nv;this.keyframeResolver=new C(d,(N,U,B)=>this.onKeyframesResolved(N,U,S,!B),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=vn.now(),G4(t,l,c,d)||((Ts.instantAnimations||!m)&&v?.(Jy(t,s,n)),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>X4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!g&&Y4(S)?new q4({...S,element:S.motionValue.owner.current}):new ev(S);C.finished.then(()=>this.notifyFinished()).catch(Xn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),P4()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const W4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Z4(e){const t=W4.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function IR(e,t,n=1){const[s,a]=Z4(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return X1(c)?parseFloat(c):c}return Yy(a)?IR(a,t,n+1):a}function iv(e,t){return e?.[t]??e?.default??e}const CR=new Set(["width","height","top","left","right","bottom",...tl]),J4={test:e=>e==="auto",parse:e=>e},DR=e=>t=>t.test(e),OR=[Jo,At,Ni,Ws,HL,qL,J4],zS=e=>OR.find(DR(e));function tU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||W1(e):!0}const eU=new Set(["brightness","contrast","saturate","opacity"]);function nU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Xy)||[];if(!s)return e;const a=n.replace(s,"");let l=eU.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const iU=/\b([a-z-]*)\(.*?\)/gu,Vg={...yr,getAnimatableNone:e=>{const t=e.match(iU);return t?t.map(nU).join(" "):e}},FS={...Jo,transform:Math.round},sU={rotate:Ws,rotateX:Ws,rotateY:Ws,rotateZ:Ws,scale:qh,scaleX:qh,scaleY:qh,scaleZ:qh,skew:Ws,skewX:Ws,skewY:Ws,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:Gu,originX:DS,originY:DS,originZ:At},sv={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...sU,zIndex:FS,fillOpacity:Gu,strokeOpacity:Gu,numOctaves:FS},rU={...sv,color:we,backgroundColor:we,outlineColor:we,fill:we,stroke:we,borderColor:we,borderTopColor:we,borderRightColor:we,borderBottomColor:we,borderLeftColor:we,filter:Vg,WebkitFilter:Vg},MR=e=>rU[e];function PR(e,t){let n=MR(e);return n!==Vg&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const aU=new Set(["auto","none","0"]);function oU(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!aU.has(l)&&Ku(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=PR(n,a)}class lU extends nv{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Yy(g))){const v=IR(g,n.current);v!==void 0&&(t[m]=v),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!CR.has(s)||t.length!==2)return;const[a,l]=t,c=zS(a),d=zS(l);if(c!==d)if(LS(c)&&LS(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else ha[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||tU(t[a]))&&s.push(a);s.length&&oU(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ha[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ha[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function uU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const VR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function cU(e){return $1(e)&&"offsetHeight"in e}const qS=30,hU=e=>!isNaN(parseFloat(e));class fU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const l=vn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();a&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=hU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Hy);const s=this.events[t].add(n);return t==="change"?()=>{s(),re.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qS);return Z1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qo(e,t){return new fU(e,t)}const{schedule:rv}=uR(queueMicrotask,!1),ni={x:!1,y:!1};function xR(){return ni.x||ni.y}function dU(e){return e==="x"||e==="y"?ni[e]?null:(ni[e]=!0,()=>{ni[e]=!1}):ni.x||ni.y?null:(ni.x=ni.y=!0,()=>{ni.x=ni.y=!1})}function NR(e,t){const n=uU(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function HS(e){return!(e.pointerType==="touch"||xR())}function mU(e,t,n={}){const[s,a,l]=NR(e,n),c=d=>{if(!HS(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const v=E=>{HS(E)&&(g(E),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const kR=(e,t)=>t?e===t?!0:kR(e,t.parentElement):!1,av=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,pU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gU(e){return pU.has(e.tagName)||e.tabIndex!==-1}const nf=new WeakSet;function GS(e){return t=>{t.key==="Enter"&&e(t)}}function kp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yU=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=GS(()=>{if(nf.has(n))return;kp(n,"down");const a=GS(()=>{kp(n,"up")}),l=()=>kp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function KS(e){return av(e)&&!xR()}function vU(e,t,n={}){const[s,a,l]=NR(e,n),c=d=>{const m=d.currentTarget;if(!KS(d))return;nf.add(m);const g=t(m,d),v=(C,N)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),nf.has(m)&&nf.delete(m),KS(C)&&typeof g=="function"&&g(C,{success:N})},E=C=>{v(C,m===window||m===document||n.useGlobalTarget||kR(m,C.target))},S=C=>{v(C,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",S,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),cU(d)&&(d.addEventListener("focus",g=>yU(g,a)),!gU(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function LR(e){return $1(e)&&"ownerSVGElement"in e}function _U(e){return LR(e)&&e.tagName==="svg"}const rn=e=>!!(e&&e.getVelocity),TU=[...OR,we,yr],EU=e=>TU.find(DR(e)),UR=ut.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function SU(e=!0){const t=ut.useContext(By);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=ut.useId();ut.useEffect(()=>{if(e)return a(l)},[e]);const c=ut.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const BR=ut.createContext({strict:!1}),QS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ho={};for(const e in QS)Ho[e]={isEnabled:t=>QS[e].some(n=>!!t[n])};function AU(e){for(const t in e)Ho[t]={...Ho[t],...e[t]}}const bU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bU.has(e)}let jR=e=>!Nf(e);function wU(e){typeof e=="function"&&(jR=t=>t.startsWith("on")?!Nf(t):e(t))}try{wU(require("@emotion/is-prop-valid").default)}catch{}function RU(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(jR(a)||n===!0&&Nf(a)||!t&&!Nf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const ad=ut.createContext({});function od(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Qu(e){return typeof e=="string"||Array.isArray(e)}const ov=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lv=["initial",...ov];function ld(e){return od(e.animate)||lv.some(t=>Qu(e[t]))}function zR(e){return!!(ld(e)||e.variants)}function IU(e,t){if(ld(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Qu(n)?n:void 0,animate:Qu(s)?s:void 0}}return e.inherit!==!1?t:{}}function CU(e){const{initial:t,animate:n}=IU(e,ut.useContext(ad));return ut.useMemo(()=>({initial:t,animate:n}),[YS(t),YS(n)])}function YS(e){return Array.isArray(e)?e.join(" "):e}const Yu={};function DU(e){for(const t in e)Yu[t]=e[t],Qy(t)&&(Yu[t].isCSSVariable=!0)}function FR(e,{layout:t,layoutId:n}){return el.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Yu[e]||e==="opacity")}const OU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MU=tl.length;function PU(e,t,n){let s="",a=!0;for(let l=0;l<MU;l++){const c=tl[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=VR(d,sv[c]);if(!m){a=!1;const v=OU[c]||c;s+=`${v}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function uv(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(el.has(m)){c=!0;continue}else if(Qy(m)){a[m]=g;continue}else{const v=VR(g,sv[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(t.transform||(c||n?s.transform=PU(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const cv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qR(e,t,n){for(const s in t)!rn(t[s])&&!FR(s,n)&&(e[s]=t[s])}function VU({transformTemplate:e},t){return ut.useMemo(()=>{const n=cv();return uv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function xU(e,t){const n=e.style||{},s={};return qR(s,n,e),Object.assign(s,VU(e,t)),s}function NU(e,t){const n={},s=xU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const kU={offset:"stroke-dashoffset",array:"stroke-dasharray"},LU={offset:"strokeDashoffset",array:"strokeDasharray"};function UU(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?kU:LU;e[l.offset]=At.transform(-s);const c=At.transform(t),d=At.transform(n);e[l.array]=`${c} ${d}`}function HR(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,v){if(uv(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:S}=e;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),a!==void 0&&UU(E,a,l,c,!1)}const GR=()=>({...cv(),attrs:{}}),KR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BU(e,t,n,s){const a=ut.useMemo(()=>{const l=GR();return HR(l,t,KR(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};qR(l,e.style,e),a.style={...l,...a.style}}return a}const jU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hv(e){return typeof e!="string"||e.includes("-")?!1:!!(jU.indexOf(e)>-1||/[A-Z]/u.test(e))}function zU(e,t,n,{latestValues:s},a,l=!1){const d=(hv(e)?BU:NU)(t,s,a,e),m=RU(t,typeof e=="string",l),g=e!==ut.Fragment?{...m,...d,ref:n}:{},{children:v}=t,E=ut.useMemo(()=>rn(v)?v.get():v,[v]);return ut.createElement(e,{...g,children:E})}function XS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function fv(e,t,n,s){if(typeof t=="function"){const[a,l]=XS(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=XS(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function sf(e){return rn(e)?e.get():e}function FU({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:qU(n,s,a,e),renderState:t()}}function qU(e,t,n,s){const a={},l=s(e,{});for(const S in l)a[S]=sf(l[S]);let{initial:c,animate:d}=e;const m=ld(e),g=zR(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const E=v?d:c;if(E&&typeof E!="boolean"&&!od(E)){const S=Array.isArray(E)?E:[E];for(let C=0;C<S.length;C++){const N=fv(e,S[C]);if(N){const{transitionEnd:U,transition:B,...K}=N;for(const $ in K){let Q=K[$];if(Array.isArray(Q)){const ot=v?Q.length-1:0;Q=Q[ot]}Q!==null&&(a[$]=Q)}for(const $ in U)a[$]=U[$]}}}return a}const QR=e=>(t,n)=>{const s=ut.useContext(ad),a=ut.useContext(By),l=()=>FU(e,t,s,a);return n?l():AL(l)};function dv(e,t,n){const{style:s}=e,a={};for(const l in s)(rn(s[l])||t.style&&rn(t.style[l])||FR(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const HU=QR({scrapeMotionValuesFromProps:dv,createRenderState:cv});function YR(e,t,n){const s=dv(e,t,n);for(const a in e)if(rn(e[a])||rn(t[a])){const l=tl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const GU=QR({scrapeMotionValuesFromProps:YR,createRenderState:GR}),KU=Symbol.for("motionComponentSymbol");function Io(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function QU(e,t,n){return ut.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Io(n)&&(n.current=s))},[t])}const mv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YU="framerAppearId",XR="data-"+mv(YU),$R=ut.createContext({});function XU(e,t,n,s,a){const{visualElement:l}=ut.useContext(ad),c=ut.useContext(BR),d=ut.useContext(By),m=ut.useContext(UR).reducedMotion,g=ut.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,E=ut.useContext($R);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&$U(g.current,n,a,E);const S=ut.useRef(!1);ut.useInsertionEffect(()=>{v&&S.current&&v.update(n,d)});const C=n[XR],N=ut.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return bL(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),ut.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),N.current=!1))}),v}function $U(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:WR(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Io(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function WR(e){if(e)return e.options.allowProjection!==!1?e.projection:WR(e.parent)}function Lp(e,{forwardMotionProps:t=!1}={},n,s){n&&AU(n);const a=hv(e)?GU:HU;function l(d,m){let g;const v={...ut.useContext(UR),...d,layoutId:WU(d)},{isStatic:E}=v,S=CU(d),C=a(d,E);if(!E&&Uy){ZU();const N=JU(v);g=N.MeasureLayout,S.visualElement=XU(e,C,v,s,N.ProjectionNode)}return pt.jsxs(ad.Provider,{value:S,children:[g&&S.visualElement?pt.jsx(g,{visualElement:S.visualElement,...v}):null,zU(e,d,QU(C,S.visualElement,m),C,E,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=ut.forwardRef(l);return c[KU]=e,c}function WU({layoutId:e}){const t=ut.useContext(Y1).id;return t&&e!==void 0?t+"-"+e:e}function ZU(e,t){ut.useContext(BR).strict}function JU(e){const{drag:t,layout:n}=Ho;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function t6(e,t){if(typeof Proxy>"u")return Lp;const n=new Map,s=(l,c)=>Lp(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Lp(c,void 0,e,t)),n.get(c))})}function ZR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function e6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function n6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Up(e){return e===void 0||e===1}function xg({scale:e,scaleX:t,scaleY:n}){return!Up(e)||!Up(t)||!Up(n)}function ra(e){return xg(e)||JR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function JR(e){return $S(e.x)||$S(e.y)}function $S(e){return e&&e!=="0%"}function kf(e,t,n){const s=e-n,a=t*s;return n+a}function WS(e,t,n,s,a){return a!==void 0&&(e=kf(e,a,s)),kf(e,n,s)+t}function Ng(e,t=0,n=1,s,a){e.min=WS(e.min,t,n,s,a),e.max=WS(e.max,t,n,s,a)}function tI(e,{x:t,y:n}){Ng(e.x,t.translate,t.scale,t.originPoint),Ng(e.y,n.translate,n.scale,n.originPoint)}const ZS=.999999999999,JS=1.0000000000001;function i6(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Do(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,tI(e,c)),s&&ra(l.latestValues)&&Do(e,l.latestValues))}t.x<JS&&t.x>ZS&&(t.x=1),t.y<JS&&t.y>ZS&&(t.y=1)}function Co(e,t){e.min=e.min+t,e.max=e.max+t}function tA(e,t,n,s,a=.5){const l=le(e.min,e.max,a);Ng(e,t,n,l,s)}function Do(e,t){tA(e.x,t.x,t.scaleX,t.scale,t.originX),tA(e.y,t.y,t.scaleY,t.scale,t.originY)}function eI(e,t){return ZR(n6(e.getBoundingClientRect(),t))}function s6(e,t,n){const s=eI(e,n),{scroll:a}=t;return a&&(Co(s.x,a.offset.x),Co(s.y,a.offset.y)),s}const eA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oo=()=>({x:eA(),y:eA()}),nA=()=>({min:0,max:0}),ye=()=>({x:nA(),y:nA()}),kg={current:null},nI={current:!1};function r6(){if(nI.current=!0,!!Uy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kg.current=e.matches;e.addEventListener("change",t),t()}else kg.current=!1}const a6=new WeakMap;function o6(e,t,n){for(const s in t){const a=t[s],l=n[s];if(rn(a))e.addValue(s,a);else if(rn(l))e.addValue(s,qo(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,qo(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const iA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l6{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=vn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,re.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=ld(n),this.isVariantNode=zR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const C=E[S];m[S]!==void 0&&rn(C)&&C.set(m[S],!1)}}mount(t){this.current=t,a6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),nI.current||r6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gr(this.notifyUpdate),gr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=el.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&re.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ho){const n=Ho[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<iA.length;s++){const a=iA[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=o6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=qo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(X1(s)||W1(s))?s=parseFloat(s):!EU(s)&&yr.test(n)&&(s=PR(t,n)),this.setBaseTarget(t,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=fv(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!rn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Hy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){rv.render(this.render)}}class iI extends l6{constructor(){super(...arguments),this.KeyframeResolver=lU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function sI(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function u6(e){return window.getComputedStyle(e)}class c6 extends iI{constructor(){super(...arguments),this.type="html",this.renderInstance=sI}readValueFromInstance(t,n){if(el.has(n))return this.projection?.isProjecting?Cg(n):I4(t,n);{const s=u6(t),a=(Qy(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return eI(t,n)}build(t,n,s){uv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return dv(t,n,s)}}const rI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h6(e,t,n,s){sI(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(rI.has(a)?a:mv(a),t.attrs[a])}class f6 extends iI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(el.has(n)){const s=MR(n);return s&&s.default||0}return n=rI.has(n)?n:mv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return YR(t,n,s)}build(t,n,s){HR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){h6(t,n,s,a)}mount(t){this.isSVGTag=KR(t.tagName),super.mount(t)}}const d6=(e,t)=>hv(e)?new f6(t):new c6(t,{allowProjection:e!==ut.Fragment});function Xu(e,t,n){const s=e.getProps();return fv(s,t,n!==void 0?n:s.custom,e)}const Lg=e=>Array.isArray(e);function m6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qo(n))}function p6(e){return Lg(e)?e[e.length-1]||0:e}function g6(e,t){const n=Xu(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=p6(l[c]);m6(e,c,d)}}function y6(e){return!!(rn(e)&&e.add)}function Ug(e,t){const n=e.getValue("willChange");if(y6(n))return n.add(t);if(!n&&Ts.WillChange){const s=new Ts.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function aI(e){return e.props[XR]}const v6=e=>e!==null;function _6(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(v6),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const T6={type:"spring",stiffness:500,damping:25,restSpeed:10},E6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),S6={type:"keyframes",duration:.8},A6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b6=(e,{keyframes:t})=>t.length>2?S6:el.has(e)?e.startsWith("scale")?E6(t[1]):T6:A6;function w6({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const pv=(e,t,n,s={},a,l)=>c=>{const d=iv(s,e)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Vi(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};w6(d)||Object.assign(v,b6(e,v)),v.duration&&(v.duration=Vi(v.duration)),v.repeatDelay&&(v.repeatDelay=Vi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),(Ts.instantAnimations||Ts.skipAnimations)&&(E=!0,v.duration=0,v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!l&&t.get()!==void 0){const S=_6(v.keyframes,d);if(S!==void 0){re.update(()=>{v.onUpdate(S),v.onComplete()});return}}return d.isSync?new ev(v):new $4(v)};function R6({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function oI(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const m=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const v in d){const E=e.getValue(v,e.latestValues[v]??null),S=d[v];if(S===void 0||g&&R6(g,v))continue;const C={delay:n,...iv(l||{},v)},N=E.get();if(N!==void 0&&!E.isAnimating&&!Array.isArray(S)&&S===N&&!C.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const K=aI(e);if(K){const $=window.MotionHandoffAnimation(K,v,re);$!==null&&(C.startTime=$,U=!0)}}Ug(e,v),E.start(pv(v,E,S,e.shouldReduceMotion&&CR.has(v)?{type:!1}:C,e,U));const B=E.animation;B&&m.push(B)}return c&&Promise.all(m).then(()=>{re.update(()=>{c&&g6(e,c)})}),m}function Bg(e,t,n={}){const s=Xu(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(oI(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=a;return I6(e,t,m,g,v,E,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function I6(e,t,n=0,s=0,a=0,l=1,c){const d=[],m=e.variantChildren.size,g=(m-1)*a,v=typeof s=="function",E=v?S=>s(S,m):l===1?(S=0)=>S*a:(S=0)=>g-S*a;return Array.from(e.variantChildren).sort(C6).forEach((S,C)=>{S.notify("AnimationStart",t),d.push(Bg(S,t,{...c,delay:n+(v?0:s)+E(C)}).then(()=>S.notify("AnimationComplete",t)))}),Promise.all(d)}function C6(e,t){return e.sortNodePosition(t)}function D6(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Bg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Bg(e,t,n);else{const a=typeof t=="function"?Xu(e,t,n.custom):t;s=Promise.all(oI(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function lI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const O6=lv.length;function uI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?uI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<O6;n++){const s=lv[n],a=e.props[s];(Qu(a)||a===!1)&&(t[s]=a)}return t}const M6=[...ov].reverse(),P6=ov.length;function V6(e){return t=>Promise.all(t.map(({animation:n,options:s})=>D6(e,n,s)))}function x6(e){let t=V6(e),n=sA(),s=!0;const a=m=>(g,v)=>{const E=Xu(e,v,m==="exit"?e.presenceContext?.custom:void 0);if(E){const{transition:S,transitionEnd:C,...N}=E;g={...g,...N,...C}}return g};function l(m){t=m(e)}function c(m){const{props:g}=e,v=uI(e.parent)||{},E=[],S=new Set;let C={},N=1/0;for(let B=0;B<P6;B++){const K=M6[B],$=n[K],Q=g[K]!==void 0?g[K]:v[K],ot=Qu(Q),nt=K===m?$.isActive:null;nt===!1&&(N=B);let ft=Q===v[K]&&Q!==g[K]&&ot;if(ft&&s&&e.manuallyAnimateOnMount&&(ft=!1),$.protectedKeys={...C},!$.isActive&&nt===null||!Q&&!$.prevProp||od(Q)||typeof Q=="boolean")continue;const O=N6($.prevProp,Q);let w=O||K===m&&$.isActive&&!ft&&ot||B>N&&ot,R=!1;const P=Array.isArray(Q)?Q:[Q];let x=P.reduce(a(K),{});nt===!1&&(x={});const{prevResolvedValues:L={}}=$,D={...L,...x},_e=it=>{w=!0,S.has(it)&&(R=!0,S.delete(it)),$.needsAnimating[it]=!0;const ct=e.getValue(it);ct&&(ct.liveStyle=!1)};for(const it in D){const ct=x[it],kt=L[it];if(C.hasOwnProperty(it))continue;let M=!1;Lg(ct)&&Lg(kt)?M=!lI(ct,kt):M=ct!==kt,M?ct!=null?_e(it):S.add(it):ct!==void 0&&S.has(it)?_e(it):$.protectedKeys[it]=!0}$.prevProp=Q,$.prevResolvedValues=x,$.isActive&&(C={...C,...x}),s&&e.blockInitialAnimation&&(w=!1),w&&(!(ft&&O)||R)&&E.push(...P.map(it=>({animation:it,options:{type:K}})))}if(S.size){const B={};if(typeof g.initial!="boolean"){const K=Xu(e,Array.isArray(g.initial)?g.initial[0]:g.initial);K&&K.transition&&(B.transition=K.transition)}S.forEach(K=>{const $=e.getBaseTarget(K),Q=e.getValue(K);Q&&(Q.liveStyle=!0),B[K]=$??null}),E.push({animation:B})}let U=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(U=!1),s=!1,U?t(E):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(E=>E.animationState?.setActive(m,g)),n[m].isActive=g;const v=c(m);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=sA(),s=!0}}}function N6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lI(t,e):!1}function ia(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sA(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class _r{constructor(t){this.isMounted=!1,this.node=t}update(){}}class k6 extends _r{constructor(t){super(t),t.animationState||(t.animationState=x6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();od(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let L6=0;class U6 extends _r{constructor(){super(...arguments),this.id=L6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const B6={animation:{Feature:k6},exit:{Feature:U6}};function $u(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function cc(e){return{point:{x:e.pageX,y:e.pageY}}}const j6=e=>t=>av(t)&&e(t,cc(t));function Ou(e,t,n,s){return $u(e,t,j6(n),s)}const cI=1e-4,z6=1-cI,F6=1+cI,hI=.01,q6=0-hI,H6=0+hI;function fn(e){return e.max-e.min}function G6(e,t,n){return Math.abs(e-t)<=n}function rA(e,t,n,s=.5){e.origin=s,e.originPoint=le(t.min,t.max,e.origin),e.scale=fn(n)/fn(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=z6&&e.scale<=F6||isNaN(e.scale))&&(e.scale=1),(e.translate>=q6&&e.translate<=H6||isNaN(e.translate))&&(e.translate=0)}function Mu(e,t,n,s){rA(e.x,t.x,n.x,s?s.originX:void 0),rA(e.y,t.y,n.y,s?s.originY:void 0)}function aA(e,t,n){e.min=n.min+t.min,e.max=e.min+fn(t)}function K6(e,t,n){aA(e.x,t.x,n.x),aA(e.y,t.y,n.y)}function oA(e,t,n){e.min=t.min-n.min,e.max=e.min+fn(t)}function Pu(e,t,n){oA(e.x,t.x,n.x),oA(e.y,t.y,n.y)}function Hn(e){return[e("x"),e("y")]}const fI=({current:e})=>e?e.ownerDocument.defaultView:null,lA=(e,t)=>Math.abs(e-t);function Q6(e,t){const n=lA(e.x,t.x),s=lA(e.y,t.y);return Math.sqrt(n**2+s**2)}class dI{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=jp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,N=Q6(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!N)return;const{point:U}=S,{timestamp:B}=Qe;this.history.push({...U,timestamp:B});const{onStart:K,onMove:$}=this.handlers;C||(K&&K(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Bp(C,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:N,onSessionEnd:U,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const K=jp(S.type==="pointercancel"?this.lastMoveEventInfo:Bp(C,this.transformPagePoint),this.history);this.startEvent&&N&&N(S,K),U&&U(S,K)},!av(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=cc(t),m=Bp(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=Qe;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=n;E&&E(t,jp(m,this.history)),this.removeListeners=oc(Ou(this.contextWindow,"pointermove",this.handlePointerMove),Ou(this.contextWindow,"pointerup",this.handlePointerUp),Ou(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gr(this.updatePoint)}}function Bp(e,t){return t?{point:t(e.point)}:e}function uA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jp({point:e},t){return{point:e,delta:uA(e,mI(t)),offset:uA(e,Y6(t)),velocity:X6(t,.1)}}function Y6(e){return e[0]}function mI(e){return e[e.length-1]}function X6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=mI(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Vi(t)));)n--;if(!s)return{x:0,y:0};const l=xi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function $6(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?le(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?le(n,e,s.max):Math.min(e,n)),e}function cA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function W6(e,{top:t,left:n,bottom:s,right:a}){return{x:cA(e.x,n,a),y:cA(e.y,t,s)}}function hA(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Z6(e,t){return{x:hA(e.x,t.x),y:hA(e.y,t.y)}}function J6(e,t){let n=.5;const s=fn(e),a=fn(t);return a>s?n=Hu(t.min,t.max-s,e.min):s>a&&(n=Hu(e.min,e.max-a,t.min)),_s(0,1,n)}function t3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jg=.35;function e3(e=jg){return e===!1?e=0:e===!0&&(e=jg),{x:fA(e,"left","right"),y:fA(e,"top","bottom")}}function fA(e,t,n){return{min:dA(e,t),max:dA(e,n)}}function dA(e,t){return typeof e=="number"?e:e[t]||0}const n3=new WeakMap;class i3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=E=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cc(E).point)},c=(E,S)=>{const{drag:C,dragPropagation:N,onDragStart:U}=this.getProps();if(C&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dU(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(K=>{let $=this.getAxisMotionValue(K).get()||0;if(Ni.test($)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const ot=Q.layout.layoutBox[K];ot&&($=fn(ot)*(parseFloat($)/100))}}this.originPoint[K]=$}),U&&re.postRender(()=>U(E,S)),Ug(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},d=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:N,onDirectionLock:U,onDrag:B}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:K}=S;if(N&&this.currentDirection===null){this.currentDirection=s3(K),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",S.point,K),this.updateAxis("y",S.point,K),this.visualElement.render(),B&&B(E,S)},m=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S,this.stop(E,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new dI(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:fI(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&re.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Hh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=$6(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Io(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=W6(s.layoutBox,t):this.constraints=!1,this.elastic=e3(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=t3(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Io(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=s6(s,a.root,this.visualElement.getTransformPagePoint());let c=Z6(a.layout.layoutBox,l);if(n){const d=n(e6(c));this.hasMutatedConstraints=!!d,d&&(c=ZR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=Hn(v=>{if(!Hh(v,n,this.currentDirection))return;let E=m&&m[v]||{};c&&(E={min:0,max:0});const S=a?200:1e6,C=a?40:1e7,N={type:"inertia",velocity:s?t[v]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(v,N)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Ug(this.visualElement,t),s.start(pv(t,s,0,n,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:s}=this.getProps();if(!Hh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-le(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Io(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=J6({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!Hh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(le(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;n3.set(this.visualElement,this);const t=this.visualElement.current,n=Ou(t,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Io(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),re.read(s);const c=$u(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=m[v].translate,E.set(E.get()+m[v].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=jg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Hh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function s3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class r3 extends _r{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new i3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const mA=e=>(t,n)=>{e&&re.postRender(()=>e(t,n))};class a3 extends _r{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new dI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:mA(t),onStart:mA(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&re.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ou(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(At.test(e))e=parseFloat(e);else return e;const n=pA(e,t.target.x),s=pA(e,t.target.y);return`${n}% ${s}%`}},o3={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=yr.parse(e);if(a.length>5)return s;const l=yr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=le(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let gA=!1;class l3 extends ut.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;DU(u3),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),gA&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),rf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,gA=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||re.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function pI(e){const[t,n]=SU(),s=ut.useContext(Y1);return pt.jsx(l3,{...e,layoutGroup:s,switchLayoutGroup:ut.useContext($R),isPresent:t,safeToRemove:n})}const u3={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:o3};function c3(e,t,n){const s=rn(e)?e:qo(e);return s.start(pv("",s,t,n)),s.animation}const h3=(e,t)=>e.depth-t.depth;class f3{constructor(){this.children=[],this.isDirty=!1}add(t){jy(this.children,t),this.isDirty=!0}remove(t){zy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(h3),this.isDirty=!1,this.children.forEach(t)}}function d3(e,t){const n=vn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(gr(s),e(l-t))};return re.setup(s,!0),()=>gr(s)}const gI=["TopLeft","TopRight","BottomLeft","BottomRight"],m3=gI.length,yA=e=>typeof e=="string"?parseFloat(e):e,vA=e=>typeof e=="number"||At.test(e);function p3(e,t,n,s,a,l){a?(e.opacity=le(0,n.opacity??1,g3(s)),e.opacityExit=le(t.opacity??1,0,y3(s))):l&&(e.opacity=le(t.opacity??1,n.opacity??1,s));for(let c=0;c<m3;c++){const d=`border${gI[c]}Radius`;let m=_A(t,d),g=_A(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||vA(m)===vA(g)?(e[d]=Math.max(le(yA(m),yA(g),s),0),(Ni.test(g)||Ni.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,s))}function _A(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const g3=yI(0,.5,rR),y3=yI(.5,.95,Xn);function yI(e,t,n){return s=>s<e?0:s>t?1:n(Hu(e,t,s))}function TA(e,t){e.min=t.min,e.max=t.max}function qn(e,t){TA(e.x,t.x),TA(e.y,t.y)}function EA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function SA(e,t,n,s,a){return e-=t,e=kf(e,1/n,s),a!==void 0&&(e=kf(e,1/a,s)),e}function v3(e,t=0,n=1,s=.5,a,l=e,c=e){if(Ni.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=le(l.min,l.max,s);e===l&&(d-=t),e.min=SA(e.min,t,n,d,a),e.max=SA(e.max,t,n,d,a)}function AA(e,t,[n,s,a],l,c){v3(e,t[n],t[s],t[a],t.scale,l,c)}const _3=["x","scaleX","originX"],T3=["y","scaleY","originY"];function bA(e,t,n,s){AA(e.x,t,_3,n?n.x:void 0,s?s.x:void 0),AA(e.y,t,T3,n?n.y:void 0,s?s.y:void 0)}function wA(e){return e.translate===0&&e.scale===1}function vI(e){return wA(e.x)&&wA(e.y)}function RA(e,t){return e.min===t.min&&e.max===t.max}function E3(e,t){return RA(e.x,t.x)&&RA(e.y,t.y)}function IA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _I(e,t){return IA(e.x,t.x)&&IA(e.y,t.y)}function CA(e){return fn(e.x)/fn(e.y)}function DA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class S3{constructor(){this.members=[]}add(t){jy(this.members,t),t.scheduleRender()}remove(t){if(zy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A3(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:S,skewX:C,skewY:N}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),E&&(s+=`rotateX(${E}deg) `),S&&(s+=`rotateY(${S}deg) `),C&&(s+=`skewX(${C}deg) `),N&&(s+=`skewY(${N}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const zp=["","X","Y","Z"],b3=1e3;let w3=0;function Fp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function TI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=aI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",re,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&TI(s)}function EI({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=w3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C3),this.nodes.forEach(P3),this.nodes.forEach(V3),this.nodes.forEach(D3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new f3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Hy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=LR(c)&&!_U(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let v,E=0;const S=()=>this.root.updateBlockedByResize=!1;re.read(()=>{E=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,v&&v(),v=d3(S,250),rf.hasAnimatedSinceResize&&(rf.hasAnimatedSinceResize=!1,this.nodes.forEach(PA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||U3,{onLayoutAnimationStart:U,onLayoutAnimationComplete:B}=g.getProps(),K=!this.targetLayout||!_I(this.targetLayout,C),$=!E&&S;if(this.options.layoutRoot||this.resumeFrom||$||E&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...iv(N,"layout"),onPlay:U,onComplete:B};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(v,$)}else E||PA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(MA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(M3),this.nodes.forEach(R3),this.nodes.forEach(I3)):this.nodes.forEach(MA),this.clearAllSnapshots();const d=vn.now();Qe.delta=_s(0,1e3/60,d-Qe.timestamp),Qe.timestamp=d,Qe.isProcessing=!0,Mp.update.process(Qe),Mp.preRender.process(Qe),Mp.render.process(Qe),Qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(O3),this.sharedNodes.forEach(N3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!vI(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||ra(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),B3(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ye();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(j3))){const{scroll:g}=this.root;g&&(Co(d.x,g.offset.x),Co(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ye();if(qn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&qn(d,c),Co(d.x,v.offset.x),Co(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const m=ye();qn(m,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Do(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ra(v.latestValues)&&Do(m,v.latestValues)}return ra(this.latestValues)&&Do(m,this.latestValues),m}removeTransform(c){const d=ye();qn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ra(g.latestValues))continue;xg(g.latestValues)&&g.updateSnapshot();const v=ye(),E=g.measurePageBox();qn(v,E),bA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return ra(this.latestValues)&&bA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Qe.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Pu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),K6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),tI(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Pu(this.relativeTargetOrigin,this.target,S.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xg(this.parent.latestValues)||JR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Qe.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;qn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;i6(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ye());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EA(this.prevProjectionDelta.x,this.projectionDelta.x),EA(this.prevProjectionDelta.y,this.projectionDelta.y)),Mu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!DA(this.projectionDelta.x,this.prevProjectionDelta.x)||!DA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oo(),this.projectionDelta=Oo(),this.projectionDeltaWithTransform=Oo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},E=Oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=ye(),C=m?m.source:void 0,N=this.layout?this.layout.source:void 0,U=C!==N,B=this.getStack(),K=!B||B.members.length<=1,$=!!(U&&!K&&this.options.crossfade===!0&&!this.path.some(L3));this.animationProgress=0;let Q;this.mixTargetDelta=ot=>{const nt=ot/1e3;VA(E.x,c.x,nt),VA(E.y,c.y,nt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pu(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),k3(this.relativeTarget,this.relativeTargetOrigin,S,nt),Q&&E3(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=ye()),qn(Q,this.relativeTarget)),U&&(this.animationValues=v,p3(v,g,this.latestValues,nt,$,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{rf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qo(0)),this.currentAnimation=c3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(b3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&SI(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||ye();const E=fn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+E;const S=fn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+S}qn(d,m),Do(d,v),Mu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new S3),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Fp("z",c,g,this.animationValues);for(let v=0;v<zp.length;v++)Fp(`rotate${zp[v]}`,c,g,this.animationValues),Fp(`skew${zp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=sf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=sf(d?.pointerEvents)||""),this.hasProjected&&!ra(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=A3(this.projectionDeltaWithTransform,this.treeScale,v);m&&(E=m(v,E)),c.transform=E;const{x:S,y:C}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in Yu){if(v[N]===void 0)continue;const{correct:U,applyTo:B,isCSSVariable:K}=Yu[N],$=E==="none"?v[N]:U(v[N],g);if(B){const Q=B.length;for(let ot=0;ot<Q;ot++)c[B[ot]]=$}else K?this.options.visualElement.renderState.vars[N]=$:c[N]=$}this.options.layoutId&&(c.pointerEvents=g===this?sf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(OA),this.root.sharedNodes.clear()}}}function R3(e){e.updateLayout()}function I3(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Hn(v=>{const E=l?t.measuredBox[v]:t.layoutBox[v],S=fn(E);E.min=n[v].min,E.max=E.min+S}):SI(a,t.layoutBox,n)&&Hn(v=>{const E=l?t.measuredBox[v]:t.layoutBox[v],S=fn(n[v]);E.max=E.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+S)});const c=Oo();Mu(c,n,t.layoutBox);const d=Oo();l?Mu(d,e.applyTransform(s,!0),t.measuredBox):Mu(d,n,t.layoutBox);const m=!vI(c);let g=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:S}=v;if(E&&S){const C=ye();Pu(C,t.layoutBox,E.layoutBox);const N=ye();Pu(N,n,S.layoutBox),_I(C,N)||(g=!0),v.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=C,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function C3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function D3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function O3(e){e.clearSnapshot()}function OA(e){e.clearMeasurements()}function MA(e){e.isLayoutDirty=!1}function M3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function PA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function P3(e){e.resolveTargetDelta()}function V3(e){e.calcProjection()}function x3(e){e.resetSkewAndRotation()}function N3(e){e.removeLeadSnapshot()}function VA(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xA(e,t,n,s){e.min=le(t.min,n.min,s),e.max=le(t.max,n.max,s)}function k3(e,t,n,s){xA(e.x,t.x,n.x,s),xA(e.y,t.y,n.y,s)}function L3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const U3={duration:.45,ease:[.4,0,.1,1]},NA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),kA=NA("applewebkit/")&&!NA("chrome/")?Math.round:Xn;function LA(e){e.min=kA(e.min),e.max=kA(e.max)}function B3(e){LA(e.x),LA(e.y)}function SI(e,t,n){return e==="position"||e==="preserve-aspect"&&!G6(CA(t),CA(n),.2)}function j3(e){return e!==e.root&&e.scroll?.wasRoot}const z3=EI({attachResizeListener:(e,t)=>$u(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qp={current:void 0},AI=EI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qp.current){const e=new z3({});e.mount(window),e.setOptions({layoutScroll:!0}),qp.current=e}return qp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),F3={pan:{Feature:a3},drag:{Feature:r3,ProjectionNode:AI,MeasureLayout:pI}};function UA(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&re.postRender(()=>l(t,cc(t)))}class q3 extends _r{mount(){const{current:t}=this.node;t&&(this.unmount=mU(t,(n,s)=>(UA(this.node,s,"Start"),a=>UA(this.node,a,"End"))))}unmount(){}}class H3 extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oc($u(this.node.current,"focus",()=>this.onFocus()),$u(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BA(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&re.postRender(()=>l(t,cc(t)))}class G3 extends _r{mount(){const{current:t}=this.node;t&&(this.unmount=vU(t,(n,s)=>(BA(this.node,s,"Start"),(a,{success:l})=>BA(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zg=new WeakMap,Hp=new WeakMap,K3=e=>{const t=zg.get(e.target);t&&t(e)},Q3=e=>{e.forEach(K3)};function Y3({root:e,...t}){const n=e||document;Hp.has(n)||Hp.set(n,{});const s=Hp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(Q3,{root:e,...t})),s[a]}function X3(e,t,n){const s=Y3(t);return zg.set(e,n),s.observe(e),()=>{zg.delete(e),s.unobserve(e)}}const $3={some:0,all:1};class W3 extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:$3[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=g?v:E;S&&S(m)};return X3(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Z3(t,n))&&this.startObserver()}unmount(){}}function Z3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const J3={inView:{Feature:W3},tap:{Feature:G3},focus:{Feature:H3},hover:{Feature:q3}},t9={layout:{ProjectionNode:AI,MeasureLayout:pI}},e9={...B6,...J3,...F3,...t9},af=t6(e9,d6);function n9({lesson:e,onStartQuiz:t}){return pt.jsxs(af.div,{className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",whileHover:{scale:1.05},initial:{opacity:0,translateY:20},animate:{opacity:1,translateY:0},transition:{duration:.3},children:[pt.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:e.title}),pt.jsxs("p",{className:"text-gray-700 text-sm mb-2",children:["Category: ",e.category]}),pt.jsxs("p",{className:"text-gray-700 text-sm",children:["Duration: ",e.duration," min"]}),pt.jsx("button",{className:"mt-3 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",onClick:()=>t(e),children:"Start Lesson"})]})}function i9({lesson:e,onClose:t,onComplete:n}){const[s,a]=ut.useState(null),[l,c]=ut.useState(null),[d,m]=ut.useState([]);ut.useEffect(()=>{(async()=>{const S=wo.currentUser;if(e&&e.id&&S)try{const C=Ef(Iu,"progress",S.uid),N=await Af(C);if(N.exists()){const U=N.data().attempts||[];console.log("Fetched attempts:",U),U.forEach((K,$)=>{console.log(`Attempt ${$} timestamp:`,K.timestamp instanceof firebase.firestore.Timestamp?K.timestamp.toDate().toLocaleString():"Invalid Timestamp")});const B=U.filter(K=>K.lessonId===e.id);m(B)}else m([])}catch(C){console.error("Error fetching attempts:",C),m([])}})()},[e.id,wo.currentUser,l]);const g=()=>{if(s!==null){const E=s===e.quiz.correct;c(E);const S=E?100:0;n(e.id,S,E)}},v=()=>{a(null),c(null)};return pt.jsx(af.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.3}},children:pt.jsxs(af.div,{className:"bg-white p-6 rounded-lg max-w-md w-full sm:max-w-lg md:max-w-xl lg:max-w-2xl shadow-lg",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:300},children:[pt.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:[e.title," Quiz"]}),pt.jsx("p",{className:"mb-4 text-gray-800",children:e.quiz.question}),pt.jsx("div",{className:"space-y-3",children:e.quiz.options.map((E,S)=>pt.jsx("button",{className:`block w-full p-3 rounded-lg ${s===S?"bg-blue-200":"bg-gray-100"} text-gray-900 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200`,onClick:()=>a(S),disabled:l!==null,children:E},S))}),l!==null&&pt.jsxs("div",{className:"mt-4",children:[pt.jsx(af.p,{className:l?"text-green-600":"text-red-600",initial:{scale:0},animate:{scale:1},transition:{duration:.3},children:l?"Correct!":"Incorrect. Try again!"}),!l&&pt.jsx("button",{className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",onClick:v,children:"Retry"})]}),d.length>0&&pt.jsxs("div",{className:"mt-6",children:[pt.jsx("h3",{className:"text-md font-semibold text-gray-900 mb-2",children:"Attempt History"}),pt.jsx("ul",{className:"text-gray-700 space-y-1",children:d.map((E,S)=>pt.jsxs("li",{children:[E.timestamp instanceof firebase.firestore.Timestamp?E.timestamp.toDate().toLocaleString():"Invalid Timestamp"," - Score: ",E.score,"%"]},S))})]}),pt.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[pt.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition duration-200",onClick:t,children:"Close"}),pt.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",onClick:g,disabled:s===null||l!==null,children:"Submit"})]})]})})}function s9({progress:e,userId:t}){const[n,s]=ut.useState(0),a=e.filter(l=>l.completed).length;return ut.useEffect(()=>{(async()=>{if(t){const c=Ef(Iu,"progress",t),d=await Af(c);if(d.exists()){const m=d.data().attempts||[];console.log("ProgressDashboard attempts:",m);const g=m.reduce((E,S)=>E+S.score,0),v=m.length>0?(g/m.length).toFixed(1):0;s(Number(v))}else s(0)}})()},[t,e]),pt.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg mb-8",children:[pt.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Your Progress"}),pt.jsxs("p",{className:"text-gray-700",children:["Completed Lessons: ",a]}),pt.jsxs("p",{className:"text-gray-700",children:["Average Score: ",n,"%"]})]})}function r9(e,t){return e.filter(n=>t.categories.includes(n.category))}function a9({onLogin:e}){const[t,n]=ut.useState(""),[s,a]=ut.useState(""),[l,c]=ut.useState(null),d=m=>{m.preventDefault(),c(null),e(t,s).catch(g=>c(g.message))};return pt.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg",children:[pt.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Login"}),l&&pt.jsx("p",{className:"text-red-600 mb-4",children:l}),pt.jsxs("form",{onSubmit:d,className:"space-y-6",children:[pt.jsx("input",{type:"email",value:t,onChange:m=>n(m.target.value),placeholder:"Email",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),pt.jsx("input",{type:"password",value:s,onChange:m=>a(m.target.value),placeholder:"Password",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),pt.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",children:"Log In"})]})]})}function o9(){const[e,t]=ut.useState(null),[n,s]=ut.useState([]),[a,l]=ut.useState(null);ut.useEffect(()=>{const U=uk(wo,B=>{!B||!B.email?(vS(wo).catch(console.error),l(null)):(l(B),(async()=>{const $=Ef(Iu,"progress",B.uid),Q=await Af($);Q.exists()?s(Q.data().completedLessons||[]):s([])})())});return()=>U()},[]);const{data:c=[],isLoading:d,error:m}=jD({queryKey:["lessons"],queryFn:async()=>(await UV(SV(Iu,"lessons"))).docs.map(B=>B.data())}),v=r9(c,{categories:["Language","Mindfulness"]}),E=U=>{t(U)},S=async(U,B,K=!1)=>{if(a){const $=Ef(Iu,"progress",a.uid),Q=await Af($),ot=Q.exists()?Q.data():{completedLessons:[],attempts:[]},nt=[...ot.completedLessons.filter(O=>O.lessonId!==U),{userId:a.uid,lessonId:U,completed:B===100,score:B}],ft={lessonId:U,timestamp:ee.fromDate(new Date),score:B};s(nt),await BV($,{completedLessons:nt,attempts:[...ot.attempts||[],ft]},{merge:!0})}K&&setTimeout(()=>t(null),1500)},C=async(U,B)=>{try{await ak(wo,U,B)}catch(K){console.error("Login error:",K.message)}},N=async()=>{await vS(wo),l(null)};return pt.jsxs("div",{className:"min-h-screen bg-gray-100",children:[pt.jsx("header",{className:"bg-blue-600 text-white p-6",children:pt.jsx("h1",{className:"text-3xl font-bold max-w-8xl mx-auto",children:"Micro-Learning Hub"})}),pt.jsxs("main",{className:"p-6 max-w-8xl mx-auto",children:[d&&pt.jsx("p",{className:"text-center text-gray-800",children:"Loading lessons..."}),m&&pt.jsxs("p",{className:"text-center text-red-600",children:["Error loading lessons: ",m.message]}),a?pt.jsxs(pt.Fragment,{children:[pt.jsx("div",{className:"flex justify-end mb-4",children:pt.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition duration-200",onClick:N,children:"Logout"})}),pt.jsx(s9,{progress:n,userId:a.uid}),pt.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-8 mt-8",children:v.map(U=>pt.jsx(n9,{lesson:U,onStartQuiz:E},U.id))}),e&&pt.jsx(i9,{lesson:e,onClose:()=>t(null),onComplete:S})]}):pt.jsx(a9,{onLogin:C})]})]})}const l9=new AD;rD.createRoot(document.getElementById("root")).render(pt.jsx(WC.StrictMode,{children:pt.jsx(CD,{client:l9,children:pt.jsx(o9,{})})}));
